{"version":3,"file":"authorize.c97fc0e0.js","mappings":";;;;AA8GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;;;;;AAOA;;;AAOA;;AAGA;AAKA;AChCA;AASA;AA4BA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;AASA;AAIA;AC3GA;;;AAGA;AAIA;;AC5CA;;AAEA;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAMA;ACnDA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AC4GA;AACA;AACA;AACA;;AAOA;AAEA;AAcA;;AAKA;;;AAOA;;AAIA;AAIA;;;;;;;AAeA;;;ACuBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAKA;AAIA;AAIA;;AC9EA;AACA;AACA;AACA;AACA;;AAKA;;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAMA;AC3GA;;;;;;AA5CA;ACyIA;AACA;AAyFA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AAIA;ACrDA;AACA;;AC2CA;;;AAGA;AACA;;AAEA;AACA;;;;;AAKA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;AAqBA;;;;;AAMA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAaA;;AAOA;AACA;;AAEA;AARA;;AAoBA;AACA;AAPA;AA2BA;AAIA;;AAYA;AAEA;ACpHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAIA;;AAmBA;;AAGA;AACA;;AAEA;AALA;;AAgBA;AACA;AANA;AAqDA;;AAwBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AAKA;;;AAmBA;AACA;AACA;AACA;AANA;;AAgBA;;;;;;;;;ACraA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiXA;;;;;;;;;;;;;;;;;;;;;AC9TA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2TA;;;;;;;;;;;;;;;;;;;;AC9WA;;;;;;;;;;;;;;;;;;;;;;;;AChBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmXA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5UA;;;;;;;AC2BA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4EA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsDA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrIA;;ACxIA;;;AAMA;;AAEA;;;;;AAKA;;;;;AAKA;AAEA;;;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAvCA;ACoGA;;AAIA;;;;;AAMA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;;AAKA;;;;;;AAOA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;;;;;;;;AASA;AACA;AACA;AACA;;;AAGA;AACA;;;;AAIA;AACA;AACA;;;AAGA;;;;AAKA;AACA;AACA;AACA;;;AAGA;AACA;;;;AAIA;AACA;AACA;;AAEA;AAEA;;;AAIA;AACA;AACA;AACA;;;AAGA;AACA;;;;AAIA;;AAEA;AAEA;AAGA;AACA;AACA;;;;AAIA;AACA;;;;;;AAMA;AAxOA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AC4BA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAjDA;;;;;;;;AAAA;;;;ACFA;;;;ACDA;;;;ACOA;AAWA;;;;;AAXA;ACSA;AACA;;AAGA;;;;;;;AAQA;;AAGA;;AAxBA;AAgCA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAhCA;;AC4BA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACxBA;;AAEA;AACA;AACA;;;AAvBA;;;;;;;ACRA;ACmDA;;AAIA;AACA;AACA;AACA;AACA;AACA;;;AA9CA;;;;;;;;;;;;;AAAA;;;ACUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA5BA;;;;;;;AAAA;;ACqCA;;AAEA;;AAGA;AACA;AACA;;;;;;AAOA;AACA;AACA;AACA;AAEA;;;;AAOA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAlEA;;;;;;;;;;;;;AAAA;ACgDA;AAGA;;AAEA;AACA;AACA;AACA;;;;AAQA;;AAEA;;;AAGA;AACA;;;;;;AAMA;AACA;AAGA;;;;;AAKA;;AAEA;;AAKA;AACA;AACA;AACA;AACA;;AAEA;;;AA9EA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;ACVA;AACA;AACA;AACA;;AAvBA;;ACiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAhCA;;ACsCA;AAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAIA;AACA;;AAEA;;AAGA;AACA;AACA;AACA;AAtDA;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;ACyDA;;AAGA;;AAEA;AAEA;AAIA;;AAGA;;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AA7EA;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;ACzBA;;AC+BA;AACA;AACA;AACA;;AAEA;;AAnCA;;;;;;;;;;;;AAAA;AC8JA;AACA;AAPA;;;;AApBA;;;;;;;;ACxIA;;;;ACEA;;ACQA;;;;;;;;;;;;;;;;;;;;;;;;;AANA;;AC0DA;AACA;AAEA;;AAEA;AACA;AACA;AACA;;;;;AAMA;AApCA;;AAEA;AACA;AAEA;;AAEA;AACA;AACA;AACA;;;;;AAMA;AAwBA;;AAMA;;AAIA;;;;AAKA;AACA;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;;AAKA;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAEA;AACA;;;;AAlJA;;;;;;;;;AAAA;;ACNA;;;;;;;AAOA;;AAfA;;;;;;;;;;;;;;;;;AAAA;;ACmCA;AACA;;AAEA;;AApCA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;;;;;;;;;;AAWA;;;;;;;;;;;;ACmBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;;;;;;;;;;;;;;;;;AAmBA;;;;;;;;AC1VA;AACA;AACA;AANA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AATA;;;;;;AC8DA;AACA;;AAEA;;;AAGA;;;AAKA;;;AAaA;AACA;;AAEA;;AAMA;;;AAGA;AACA;AACA;AACA;;AAxFA;AC0DA;;AA2EA;;;;AAIA;AACA;;AAEA;;;AAMA;;AAGA;;;AAOA;AACA;;;AAIA;;AAGA;;AAGA;AAcA;;;;AAIA;;AAKA;AAKA;;;AAIA;;AAEA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAGA;;;;;;;;;;;AAxNA;ACmBA;AAMA;AA0BA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAGA;AACA;AACA;AACA;;AAEA;;;;;;;;;;AA9EA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+DA","sources":["webpack://home-assistant-frontend/mwc-button-base.ts","webpack://home-assistant-frontend/mwc-checkbox-base.ts","webpack://home-assistant-frontend/mwc-formfield-base.ts","webpack://home-assistant-frontend/mwc-icon-button-base.ts","webpack://home-assistant-frontend/mwc-check-list-item-base.ts","webpack://home-assistant-frontend/mwc-list-item-base.ts","webpack://home-assistant-frontend/mwc-list-base.ts","webpack://home-assistant-frontend/mwc-menu-surface-base.ts","webpack://home-assistant-frontend/mwc-menu-base.ts","webpack://home-assistant-frontend/mwc-notched-outline-base.ts","webpack://home-assistant-frontend/mwc-radio-base.ts","webpack://home-assistant-frontend/mwc-ripple-base.ts","webpack://home-assistant-frontend/mwc-select-base.ts","webpack://home-assistant-frontend/mwc-textfield-base.ts","webpack://home-assistant-frontend/./node_modules/@polymer/iron-a11y-announcer/iron-a11y-announcer.js","webpack://home-assistant-frontend/./node_modules/@polymer/iron-flex-layout/iron-flex-layout.js","webpack://home-assistant-frontend/./node_modules/@polymer/iron-icon/iron-icon.js","webpack://home-assistant-frontend/./node_modules/@polymer/paper-ripple/paper-ripple.js","webpack://home-assistant-frontend/./node_modules/@polymer/paper-input/paper-input-char-counter.js","webpack://home-assistant-frontend/./node_modules/@polymer/paper-input/paper-input-container.js","webpack://home-assistant-frontend/./node_modules/@polymer/paper-input/paper-input-error.js","webpack://home-assistant-frontend/./node_modules/@polymer/iron-input/iron-input.js","webpack://home-assistant-frontend/./node_modules/@polymer/paper-input/paper-input.js","webpack://home-assistant-frontend/./node_modules/@polymer/paper-progress/paper-progress.js","webpack://home-assistant-frontend/./node_modules/@polymer/paper-slider/paper-slider.js","webpack://home-assistant-frontend/./node_modules/@polymer/paper-styles/typography.js","webpack://home-assistant-frontend/./src/components/ha-alert.ts","webpack://home-assistant-frontend/./src/components/ha-base-time-input.ts","webpack://home-assistant-frontend/./src/components/ha-button-menu.ts","webpack://home-assistant-frontend/./src/components/ha-check-list-item.ts","webpack://home-assistant-frontend/./src/components/ha-checkbox.ts","webpack://home-assistant-frontend/./src/components/ha-chip-set.ts","webpack://home-assistant-frontend/./src/components/ha-chip.ts","webpack://home-assistant-frontend/./src/components/ha-duration-input.ts","webpack://home-assistant-frontend/./src/components/ha-form/ha-form-boolean.ts","webpack://home-assistant-frontend/./src/components/ha-form/ha-form-constant.ts","webpack://home-assistant-frontend/./src/components/ha-form/ha-form-grid.ts","webpack://home-assistant-frontend/./src/components/ha-form/ha-form-float.ts","webpack://home-assistant-frontend/./src/components/ha-form/ha-form-integer.ts","webpack://home-assistant-frontend/./src/components/ha-form/ha-form-multi_select.ts","webpack://home-assistant-frontend/./src/components/ha-form/ha-form-positive_time_period_dict.ts","webpack://home-assistant-frontend/./src/components/ha-form/ha-form-select.ts","webpack://home-assistant-frontend/./src/components/ha-form/ha-form-string.ts","webpack://home-assistant-frontend/./src/components/ha-form/ha-form.ts","webpack://home-assistant-frontend/./src/components/ha-formfield.ts","webpack://home-assistant-frontend/./src/components/ha-icon-button.ts","webpack://home-assistant-frontend/./src/components/ha-icon.ts","webpack://home-assistant-frontend/./src/components/ha-input-helper-text.ts","webpack://home-assistant-frontend/./src/components/ha-radio.ts","webpack://home-assistant-frontend/./src/components/ha-select.ts","webpack://home-assistant-frontend/./src/components/ha-selector/ha-selector-select.ts","webpack://home-assistant-frontend/./src/components/ha-svg-icon.ts","webpack://home-assistant-frontend/./src/components/ha-textfield.ts","webpack://home-assistant-frontend/./src/resources/styles.ts","webpack://home-assistant-frontend/./src/components/ha-markdown.ts","webpack://home-assistant-frontend/./src/auth/ha-password-manager-polyfill.ts","webpack://home-assistant-frontend/./src/auth/ha-auth-flow.ts","webpack://home-assistant-frontend/./src/auth/ha-authorize.ts","webpack://home-assistant-frontend/./node_modules/@polymer/paper-styles/shadow.js"],"sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport '@material/mwc-icon/mwc-icon';\nimport '@material/mwc-ripple/mwc-ripple';\n\nimport {AriaHasPopup, ariaProperty} from '@material/mwc-base/aria-property';\nimport {Ripple} from '@material/mwc-ripple/mwc-ripple';\nimport {RippleHandlers} from '@material/mwc-ripple/ripple-handlers';\nimport {html, LitElement, TemplateResult} from 'lit';\nimport {eventOptions, property, query, queryAsync, state} from 'lit/decorators.js';\nimport {ClassInfo, classMap} from 'lit/directives/class-map.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\n\n/** @soyCompatible */\nexport class ButtonBase extends LitElement {\n  static override shadowRootOptions:\n      ShadowRootInit = {mode: 'open', delegatesFocus: true};\n\n  /** @soyPrefixAttribute */\n  @ariaProperty\n  @property({type: String, attribute: 'aria-haspopup'})\n  ariaHasPopup!: AriaHasPopup;\n\n  @property({type: Boolean, reflect: true}) raised = false;\n\n  @property({type: Boolean, reflect: true}) unelevated = false;\n\n  @property({type: Boolean, reflect: true}) outlined = false;\n\n  @property({type: Boolean}) dense = false;\n\n  @property({type: Boolean, reflect: true}) disabled = false;\n\n  @property({type: Boolean, attribute: 'trailingicon'}) trailingIcon = false;\n\n  @property({type: Boolean, reflect: true}) fullwidth = false;\n\n  @property({type: String}) icon = '';\n\n  @property({type: String}) label = '';\n\n  @property({type: Boolean}) expandContent = false;\n\n  @query('#button') buttonElement!: HTMLElement;\n\n  @queryAsync('mwc-ripple') ripple!: Promise<Ripple|null>;\n\n  @state() protected shouldRenderRipple = false;\n\n  protected rippleHandlers = new RippleHandlers(() => {\n    this.shouldRenderRipple = true;\n    return this.ripple;\n  });\n\n  /** @soyTemplate */\n  protected renderOverlay(): TemplateResult {\n    return html``;\n  }\n\n  /** @soyTemplate */\n  protected renderRipple(): TemplateResult|string {\n    const filled = this.raised || this.unelevated;\n    return this.shouldRenderRipple ?\n        html`<mwc-ripple class=\"ripple\" .primary=\"${!filled}\" .disabled=\"${\n            this.disabled}\"></mwc-ripple>` :\n        '';\n  }\n\n  override focus() {\n    const buttonElement = this.buttonElement;\n    if (buttonElement) {\n      this.rippleHandlers.startFocus();\n      buttonElement.focus();\n    }\n  }\n\n  override blur() {\n    const buttonElement = this.buttonElement;\n    if (buttonElement) {\n      this.rippleHandlers.endFocus();\n      buttonElement.blur();\n    }\n  }\n\n  /** @soyTemplate */\n  protected getRenderClasses(): ClassInfo {\n    return {\n      'mdc-button--raised': this.raised,\n      'mdc-button--unelevated': this.unelevated,\n      'mdc-button--outlined': this.outlined,\n      'mdc-button--dense': this.dense,\n    };\n  }\n\n  /**\n   * @soyTemplate\n   * @soyAttributes buttonAttributes: #button\n   * @soyClasses buttonClasses: #button\n   */\n  protected override render(): TemplateResult {\n    return html`\n      <button\n          id=\"button\"\n          class=\"mdc-button ${classMap(this.getRenderClasses())}\"\n          ?disabled=\"${this.disabled}\"\n          aria-label=\"${this.label || this.icon}\"\n          aria-haspopup=\"${ifDefined(this.ariaHasPopup)}\"\n          @focus=\"${this.handleRippleFocus}\"\n          @blur=\"${this.handleRippleBlur}\"\n          @mousedown=\"${this.handleRippleActivate}\"\n          @mouseenter=\"${this.handleRippleMouseEnter}\"\n          @mouseleave=\"${this.handleRippleMouseLeave}\"\n          @touchstart=\"${this.handleRippleActivate}\"\n          @touchend=\"${this.handleRippleDeactivate}\"\n          @touchcancel=\"${this.handleRippleDeactivate}\">\n        ${this.renderOverlay()}\n        ${this.renderRipple()}\n        <span class=\"leading-icon\">\n          <slot name=\"icon\">\n            ${this.icon && !this.trailingIcon ? this.renderIcon() : ''}\n          </slot>\n        </span>\n        <span class=\"mdc-button__label\">${this.label}</span>\n        <span class=\"slot-container ${classMap({\n      flex: this.expandContent\n    })}\">\n          <slot></slot>\n        </span>\n        <span class=\"trailing-icon\">\n          <slot name=\"trailingIcon\">\n            ${this.icon && this.trailingIcon ? this.renderIcon() : ''}\n          </slot>\n        </span>\n      </button>`;\n  }\n\n  /** @soyTemplate */\n  protected renderIcon(): TemplateResult {\n    return html`\n    <mwc-icon class=\"mdc-button__icon\">\n      ${this.icon}\n    </mwc-icon>`;\n  }\n\n  @eventOptions({passive: true})\n  protected handleRippleActivate(evt?: Event) {\n    const onUp = () => {\n      window.removeEventListener('mouseup', onUp);\n\n      this.handleRippleDeactivate();\n    };\n\n    window.addEventListener('mouseup', onUp);\n    this.rippleHandlers.startPress(evt);\n  }\n\n  protected handleRippleDeactivate() {\n    this.rippleHandlers.endPress();\n  }\n\n  protected handleRippleMouseEnter() {\n    this.rippleHandlers.startHover();\n  }\n\n  protected handleRippleMouseLeave() {\n    this.rippleHandlers.endHover();\n  }\n\n  protected handleRippleFocus() {\n    this.rippleHandlers.startFocus();\n  }\n\n  protected handleRippleBlur() {\n    this.rippleHandlers.endFocus();\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport '@material/mwc-ripple/mwc-ripple';\n\nimport {ariaProperty} from '@material/mwc-base/aria-property';\nimport {FormElement} from '@material/mwc-base/form-element';\nimport {Ripple} from '@material/mwc-ripple/mwc-ripple';\nimport {RippleHandlers} from '@material/mwc-ripple/ripple-handlers';\nimport {html, PropertyValues, TemplateResult} from 'lit';\nimport {eventOptions, property, query, queryAsync, state} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\n\n/** @soyCompatible */\nexport class CheckboxBase extends FormElement {\n  @query('.mdc-checkbox') protected mdcRoot!: HTMLElement;\n\n  @query('input') protected formElement!: HTMLInputElement;\n\n  @property({type: Boolean, reflect: true}) checked = false;\n\n  @property({type: Boolean}) indeterminate = false;\n\n  @property({type: Boolean, reflect: true}) override disabled = false;\n\n  @property({type: String, reflect: true}) name = '';\n\n  @property({type: String}) value = 'on';\n\n  /** @soyPrefixAttribute */\n  @ariaProperty\n  @property({type: String, attribute: 'aria-label'})\n  ariaLabel!: string;\n\n  /** @soyPrefixAttribute */\n  @ariaProperty\n  @property({type: String, attribute: 'aria-labelledby'})\n  ariaLabelledBy!: string;\n\n  /** @soyPrefixAttribute */\n  @ariaProperty\n  @property({type: String, attribute: 'aria-describedby'})\n  ariaDescribedBy!: string;\n\n  /**\n   * Touch target extends beyond visual boundary of a component by default.\n   * Set to `true` to remove touch target added to the component.\n   * @see https://material.io/design/usability/accessibility.html\n   */\n  @property({type: Boolean}) reducedTouchTarget = false;\n\n  @state() protected animationClass = '';\n\n  @state() protected shouldRenderRipple = false;\n\n  @state() protected focused = false;\n\n  @queryAsync('mwc-ripple') override ripple!: Promise<Ripple|null>;\n\n  // MDC Foundation is unused\n  protected mdcFoundationClass = undefined;\n\n  protected mdcFoundation = undefined;\n\n  protected createAdapter() {\n    return {};\n  }\n\n  protected override update(changedProperties: PropertyValues) {\n    const oldIndeterminate = changedProperties.get('indeterminate');\n    const oldChecked = changedProperties.get('checked');\n    const oldDisabled = changedProperties.get('disabled');\n    if (oldIndeterminate !== undefined || oldChecked !== undefined ||\n        oldDisabled !== undefined) {\n      const oldState = this.calculateAnimationStateName(\n          !!oldChecked, !!oldIndeterminate, !!oldDisabled);\n      const newState = this.calculateAnimationStateName(\n          this.checked, this.indeterminate, this.disabled);\n      this.animationClass = `${oldState}-${newState}`;\n    }\n    super.update(changedProperties);\n  }\n\n  protected calculateAnimationStateName(\n      checked: boolean, indeterminate: boolean, disabled: boolean): string {\n    if (disabled) {\n      return 'disabled';\n    } else if (indeterminate) {\n      return 'indeterminate';\n    } else if (checked) {\n      return 'checked';\n    } else {\n      return 'unchecked';\n    }\n  }\n\n  protected rippleElement: Ripple|null = null;\n\n  protected rippleHandlers: RippleHandlers = new RippleHandlers(() => {\n    this.shouldRenderRipple = true;\n    this.ripple.then((v) => this.rippleElement = v);\n    return this.ripple;\n  });\n\n  // TODO(dfreedm): Make this use selected as a param after Polymer/internal#739\n  /** @soyTemplate */\n  protected renderRipple(): TemplateResult|string {\n    return this.shouldRenderRipple ? this.renderRippleTemplate() : '';\n  }\n\n  /** @soyTemplate */\n  protected renderRippleTemplate(): TemplateResult {\n    return html`<mwc-ripple\n        .disabled=\"${this.disabled}\"\n        unbounded></mwc-ripple>`;\n  }\n\n  /**\n   * @soyTemplate\n   * @soyAttributes checkboxAttributes: input\n   * @soyClasses checkboxClasses: .mdc-checkbox\n   */\n  protected override render(): TemplateResult {\n    const selected = this.indeterminate || this.checked;\n    /* eslint-disable eqeqeq */\n    // tslint:disable:triple-equals\n    /** @classMap */\n    const classes = {\n      'mdc-checkbox--disabled': this.disabled,\n      'mdc-checkbox--selected': selected,\n      'mdc-checkbox--touch': !this.reducedTouchTarget,\n      'mdc-ripple-upgraded--background-focused': this.focused,\n      // transition animiation classes\n      'mdc-checkbox--anim-checked-indeterminate':\n          this.animationClass == 'checked-indeterminate',\n      'mdc-checkbox--anim-checked-unchecked':\n          this.animationClass == 'checked-unchecked',\n      'mdc-checkbox--anim-indeterminate-checked':\n          this.animationClass == 'indeterminate-checked',\n      'mdc-checkbox--anim-indeterminate-unchecked':\n          this.animationClass == 'indeterminate-unchecked',\n      'mdc-checkbox--anim-unchecked-checked':\n          this.animationClass == 'unchecked-checked',\n      'mdc-checkbox--anim-unchecked-indeterminate':\n          this.animationClass == 'unchecked-indeterminate',\n    };\n    // tslint:enable:triple-equals\n    /* eslint-enable eqeqeq */\n    const ariaChecked = this.indeterminate ? 'mixed' : undefined;\n    return html`\n      <div class=\"mdc-checkbox mdc-checkbox--upgraded ${classMap(classes)}\">\n        <input type=\"checkbox\"\n              class=\"mdc-checkbox__native-control\"\n              name=\"${ifDefined(this.name)}\"\n              aria-checked=\"${ifDefined(ariaChecked)}\"\n              aria-label=\"${ifDefined(this.ariaLabel)}\"\n              aria-labelledby=\"${ifDefined(this.ariaLabelledBy)}\"\n              aria-describedby=\"${ifDefined(this.ariaDescribedBy)}\"\n              data-indeterminate=\"${this.indeterminate ? 'true' : 'false'}\"\n              ?disabled=\"${this.disabled}\"\n              .indeterminate=\"${this.indeterminate}\"\n              .checked=\"${this.checked}\"\n              .value=\"${this.value}\"\n              @change=\"${this.handleChange}\"\n              @focus=\"${this.handleFocus}\"\n              @blur=\"${this.handleBlur}\"\n              @mousedown=\"${this.handleRippleMouseDown}\"\n              @mouseenter=\"${this.handleRippleMouseEnter}\"\n              @mouseleave=\"${this.handleRippleMouseLeave}\"\n              @touchstart=\"${this.handleRippleTouchStart}\"\n              @touchend=\"${this.handleRippleDeactivate}\"\n              @touchcancel=\"${this.handleRippleDeactivate}\">\n        <div class=\"mdc-checkbox__background\"\n          @animationend=\"${this.resetAnimationClass}\">\n          <svg class=\"mdc-checkbox__checkmark\"\n              viewBox=\"0 0 24 24\">\n            <path class=\"mdc-checkbox__checkmark-path\"\n                  fill=\"none\"\n                  d=\"M1.73,12.91 8.1,19.28 22.79,4.59\"></path>\n          </svg>\n          <div class=\"mdc-checkbox__mixedmark\"></div>\n        </div>\n        ${this.renderRipple()}\n      </div>`;\n  }\n\n  protected setFormData(formData: FormData) {\n    if (this.name && this.checked) {\n      formData.append(this.name, this.value);\n    }\n  }\n\n  protected handleFocus() {\n    this.focused = true;\n    this.handleRippleFocus();\n  }\n\n  protected handleBlur() {\n    this.focused = false;\n    this.handleRippleBlur();\n  }\n\n  protected handleRippleMouseDown(event: Event) {\n    const onUp = () => {\n      window.removeEventListener('mouseup', onUp);\n\n      this.handleRippleDeactivate();\n    };\n\n    window.addEventListener('mouseup', onUp);\n    this.rippleHandlers.startPress(event);\n  }\n\n  @eventOptions({passive: true})\n  protected handleRippleTouchStart(event: Event) {\n    this.rippleHandlers.startPress(event);\n  }\n\n  protected handleRippleDeactivate() {\n    this.rippleHandlers.endPress();\n  }\n\n  protected handleRippleMouseEnter() {\n    this.rippleHandlers.startHover();\n  }\n\n  protected handleRippleMouseLeave() {\n    this.rippleHandlers.endHover();\n  }\n\n  protected handleRippleFocus() {\n    this.rippleHandlers.startFocus();\n  }\n\n  protected handleRippleBlur() {\n    this.rippleHandlers.endFocus();\n  }\n\n  protected handleChange() {\n    this.checked = this.formElement.checked;\n    this.indeterminate = this.formElement.indeterminate;\n  }\n\n  protected resetAnimationClass() {\n    this.animationClass = '';\n  }\n\n  get isRippleActive() {\n    return this.rippleElement?.isActive || false;\n  }\n}\n","/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\n// tslint:disable:no-new-decorators\n\nimport {MDCFormFieldAdapter} from '@material/form-field/adapter';\nimport MDCFormFieldFoundation from '@material/form-field/foundation';\nimport {BaseElement, EventType, SpecificEventListener} from '@material/mwc-base/base-element';\nimport {FormElement} from '@material/mwc-base/form-element';\nimport {observer} from '@material/mwc-base/observer';\nimport {html} from 'lit';\nimport {property, query, queryAssignedNodes} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\n\n\nexport class FormfieldBase extends BaseElement {\n  @property({type: Boolean}) alignEnd = false;\n  @property({type: Boolean}) spaceBetween = false;\n  @property({type: Boolean}) nowrap = false;\n\n  @property({type: String})\n  @observer(async function(this: FormfieldBase, label: string) {\n    this.input?.setAttribute('aria-label', label);\n  })\n  label = '';\n\n  @query('.mdc-form-field') protected mdcRoot!: HTMLElement;\n\n  protected mdcFoundation!: MDCFormFieldFoundation;\n\n  protected readonly mdcFoundationClass = MDCFormFieldFoundation;\n\n  protected createAdapter(): MDCFormFieldAdapter {\n    return {\n      registerInteractionHandler:\n          <K extends EventType>(type: K, handler: SpecificEventListener<K>) => {\n            this.labelEl.addEventListener(type, handler);\n          },\n      deregisterInteractionHandler:\n          <K extends EventType>(type: K, handler: SpecificEventListener<K>) => {\n            this.labelEl.removeEventListener(type, handler);\n          },\n      activateInputRipple: async () => {\n        const input = this.input;\n        if (input instanceof FormElement) {\n          const ripple = await input.ripple;\n          if (ripple) {\n            ripple.startPress();\n          }\n        }\n      },\n      deactivateInputRipple: async () => {\n        const input = this.input;\n        if (input instanceof FormElement) {\n          const ripple = await input.ripple;\n          if (ripple) {\n            ripple.endPress();\n          }\n        }\n      },\n    };\n  }\n\n  @queryAssignedNodes('', true, '*')\n  protected slottedInputs!: HTMLElement[]|null;\n\n  @query('label') protected labelEl!: HTMLLabelElement;\n\n  protected get input() {\n    return this.slottedInputs?.[0] ?? null;\n  }\n\n  protected override render() {\n    const classes = {\n      'mdc-form-field--align-end': this.alignEnd,\n      'mdc-form-field--space-between': this.spaceBetween,\n      'mdc-form-field--nowrap': this.nowrap\n    };\n\n    return html`\n      <div class=\"mdc-form-field ${classMap(classes)}\">\n        <slot></slot>\n        <label class=\"mdc-label\"\n               @click=\"${this._labelClick}\">${this.label}</label>\n      </div>`;\n  }\n\n  override click() {\n    this._labelClick();\n  }\n\n  protected _labelClick() {\n    const input = this.input;\n    if (input) {\n      input.focus();\n      input.click();\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport '@material/mwc-ripple/mwc-ripple';\n\nimport {AriaHasPopup, ariaProperty} from '@material/mwc-base/aria-property';\nimport {Ripple} from '@material/mwc-ripple/mwc-ripple';\nimport {RippleHandlers} from '@material/mwc-ripple/ripple-handlers';\nimport {html, LitElement, TemplateResult} from 'lit';\nimport {eventOptions, property, query, queryAsync, state} from 'lit/decorators.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\n\n/** @soyCompatible */\nexport class IconButtonBase extends LitElement {\n  @property({type: Boolean, reflect: true}) disabled = false;\n\n  @property({type: String}) icon = '';\n\n  /** @soyPrefixAttribute */\n  @ariaProperty\n  @property({type: String, attribute: 'aria-label'})\n  ariaLabel!: string;\n\n  /** @soyPrefixAttribute */\n  @ariaProperty\n  @property({type: String, attribute: 'aria-haspopup'})\n  ariaHasPopup!: AriaHasPopup;\n\n  @query('button') buttonElement!: HTMLElement;\n\n  @queryAsync('mwc-ripple') ripple!: Promise<Ripple|null>;\n\n  @state() protected shouldRenderRipple = false;\n\n  protected rippleHandlers: RippleHandlers = new RippleHandlers(() => {\n    this.shouldRenderRipple = true;\n    return this.ripple;\n  });\n\n  /** @soyTemplate */\n  protected renderRipple(): TemplateResult|string {\n    return this.shouldRenderRipple ? html`\n            <mwc-ripple\n                .disabled=\"${this.disabled}\"\n                unbounded>\n            </mwc-ripple>` :\n                                     '';\n  }\n\n  override focus() {\n    const buttonElement = this.buttonElement;\n    if (buttonElement) {\n      this.rippleHandlers.startFocus();\n      buttonElement.focus();\n    }\n  }\n\n  override blur() {\n    const buttonElement = this.buttonElement;\n    if (buttonElement) {\n      this.rippleHandlers.endFocus();\n      buttonElement.blur();\n    }\n  }\n\n  /** @soyTemplate */\n  protected override render(): TemplateResult {\n    return html`<button\n        class=\"mdc-icon-button mdc-icon-button--display-flex\"\n        aria-label=\"${this.ariaLabel || this.icon}\"\n        aria-haspopup=\"${ifDefined(this.ariaHasPopup)}\"\n        ?disabled=\"${this.disabled}\"\n        @focus=\"${this.handleRippleFocus}\"\n        @blur=\"${this.handleRippleBlur}\"\n        @mousedown=\"${this.handleRippleMouseDown}\"\n        @mouseenter=\"${this.handleRippleMouseEnter}\"\n        @mouseleave=\"${this.handleRippleMouseLeave}\"\n        @touchstart=\"${this.handleRippleTouchStart}\"\n        @touchend=\"${this.handleRippleDeactivate}\"\n        @touchcancel=\"${this.handleRippleDeactivate}\"\n    >${this.renderRipple()}\n    <i class=\"material-icons\">${this.icon}</i>\n    <span\n      ><slot></slot\n    ></span>\n  </button>`;\n  }\n\n  @eventOptions({passive: true})\n  protected handleRippleMouseDown(event?: Event) {\n    const onUp = () => {\n      window.removeEventListener('mouseup', onUp);\n\n      this.handleRippleDeactivate();\n    };\n\n    window.addEventListener('mouseup', onUp);\n    this.rippleHandlers.startPress(event);\n  }\n\n  @eventOptions({passive: true})\n  protected handleRippleTouchStart(event?: Event) {\n    this.rippleHandlers.startPress(event);\n  }\n\n  protected handleRippleDeactivate() {\n    this.rippleHandlers.endPress();\n  }\n\n  protected handleRippleMouseEnter() {\n    this.rippleHandlers.startHover();\n  }\n\n  protected handleRippleMouseLeave() {\n    this.rippleHandlers.endHover();\n  }\n\n  protected handleRippleFocus() {\n    this.rippleHandlers.startFocus();\n  }\n\n  protected handleRippleBlur() {\n    this.rippleHandlers.endFocus();\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\n\nimport '@material/mwc-checkbox';\n\nimport {Checkbox} from '@material/mwc-checkbox';\nimport {html} from 'lit';\nimport {property, query} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\n\nimport {GraphicType, ListItemBase} from './mwc-list-item-base';\n\nexport class CheckListItemBase extends ListItemBase {\n  @query('slot') protected override slotElement!: HTMLSlotElement|null;\n  @query('mwc-checkbox') protected checkboxElement!: Checkbox;\n\n  @property({type: Boolean}) left = false;\n  @property({type: String, reflect: true})\n  override graphic: GraphicType = 'control';\n\n  override render() {\n    const checkboxClasses = {\n      'mdc-deprecated-list-item__graphic': this.left,\n      'mdc-deprecated-list-item__meta': !this.left,\n    };\n\n    const text = this.renderText();\n    const graphic = this.graphic && this.graphic !== 'control' && !this.left ?\n        this.renderGraphic() :\n        html``;\n    const meta = this.hasMeta && this.left ? this.renderMeta() : html``;\n    const ripple = this.renderRipple();\n\n    return html`\n      ${ripple}\n      ${graphic}\n      ${this.left ? '' : text}\n      <span class=${classMap(checkboxClasses)}>\n        <mwc-checkbox\n            reducedTouchTarget\n            tabindex=${this.tabindex}\n            .checked=${this.selected}\n            ?disabled=${this.disabled}\n            @change=${this.onChange}>\n        </mwc-checkbox>\n      </span>\n      ${this.left ? text : ''}\n      ${meta}`;\n  }\n\n  protected async onChange(evt: Event) {\n    const checkbox = evt.target as Checkbox;\n    const changeFromProp = this.selected === checkbox.checked;\n\n    if (!changeFromProp) {\n      this._skipPropRequest = true;\n      this.selected = checkbox.checked;\n      await this.updateComplete;\n      this._skipPropRequest = false;\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\n\nimport '@material/mwc-ripple/mwc-ripple';\n\nimport {observer} from '@material/mwc-base/observer';\nimport {Ripple} from '@material/mwc-ripple/mwc-ripple';\nimport {RippleHandlers} from '@material/mwc-ripple/ripple-handlers';\nimport {html, LitElement} from 'lit';\nimport {property, query, queryAsync, state} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\n\nexport type SelectionSource = 'interaction'|'property';\nexport interface RequestSelectedDetail {\n  selected: boolean;\n  source: SelectionSource;\n}\n\nexport interface Layoutable {\n  layout: (updateItems?: boolean) => void;\n  debouncedLayout?: (updateItems?: boolean) => void | undefined;\n}\n\nexport type GraphicType = 'avatar'|'icon'|'medium'|'large'|'control'|null;\n\n/**\n * @fires request-selected {RequestSelectedDetail}\n * @fires list-item-rendered\n */\nexport class ListItemBase extends LitElement {\n  @query('slot') protected slotElement!: HTMLSlotElement|null;\n  @queryAsync('mwc-ripple') ripple!: Promise<Ripple|null>;\n\n  @property({type: String}) value = '';\n  @property({type: String, reflect: true}) group: string|null = null;\n  @property({type: Number, reflect: true}) tabindex = -1;\n  @property({type: Boolean, reflect: true})\n  @observer(function(this: ListItemBase, value: boolean) {\n    if (value) {\n      this.setAttribute('aria-disabled', 'true');\n    } else {\n      this.setAttribute('aria-disabled', 'false');\n    }\n  })\n  disabled = false;\n  @property({type: Boolean, reflect: true}) twoline = false;\n  @property({type: Boolean, reflect: true}) activated = false;\n  @property({type: String, reflect: true}) graphic: GraphicType = null;\n  @property({type: Boolean}) multipleGraphics = false;\n  @property({type: Boolean}) hasMeta = false;\n  @property({type: Boolean, reflect: true})\n  @observer(function(this: ListItemBase, value: boolean) {\n    if (value) {\n      this.removeAttribute('aria-checked');\n      this.removeAttribute('mwc-list-item');\n      this.selected = false;\n      this.activated = false;\n      this.tabIndex = -1;\n    } else {\n      this.setAttribute('mwc-list-item', '');\n    }\n  })\n  noninteractive = false;\n  @property({type: Boolean, reflect: true})\n  @observer(function(this: ListItemBase, value: boolean) {\n    const role = this.getAttribute('role');\n    const isAriaSelectable = role === 'gridcell' || role === 'option' ||\n        role === 'row' || role === 'tab';\n\n    if (isAriaSelectable && value) {\n      this.setAttribute('aria-selected', 'true');\n    } else if (isAriaSelectable) {\n      this.setAttribute('aria-selected', 'false');\n    }\n\n    if (this._firstChanged) {\n      this._firstChanged = false;\n      return;\n    }\n\n    if (this._skipPropRequest) {\n      return;\n    }\n\n    this.fireRequestSelected(value, 'property');\n  })\n  selected = false;\n\n  @state() protected shouldRenderRipple = false;\n  @state() _managingList: Layoutable|null = null;\n\n  protected boundOnClick = this.onClick.bind(this);\n  protected _firstChanged = true;\n  protected _skipPropRequest = false;\n  protected rippleHandlers: RippleHandlers = new RippleHandlers(() => {\n    this.shouldRenderRipple = true;\n    return this.ripple;\n  });\n  protected listeners: ({\n    target: Element;\n    eventNames: string[];\n    cb: EventListenerOrEventListenerObject;\n  })[] =\n      [\n        {\n          target: this,\n          eventNames: ['click'],\n          cb:\n              () => {\n                this.onClick();\n              },\n        },\n        {\n          target: this,\n          eventNames: ['mouseenter'],\n          cb: this.rippleHandlers.startHover,\n        },\n        {\n          target: this,\n          eventNames: ['mouseleave'],\n          cb: this.rippleHandlers.endHover,\n        },\n        {\n          target: this,\n          eventNames: ['focus'],\n          cb: this.rippleHandlers.startFocus,\n        },\n        {\n          target: this,\n          eventNames: ['blur'],\n          cb: this.rippleHandlers.endFocus,\n        },\n        {\n          target: this,\n          eventNames: ['mousedown', 'touchstart'],\n          cb:\n              (e: Event) => {\n                const name = e.type;\n                this.onDown(name === 'mousedown' ? 'mouseup' : 'touchend', e);\n              },\n        },\n      ];\n\n  get text() {\n    const textContent = this.textContent;\n\n    return textContent ? textContent.trim() : '';\n  }\n\n  override render() {\n    const text = this.renderText();\n    const graphic = this.graphic ? this.renderGraphic() : html``;\n    const meta = this.hasMeta ? this.renderMeta() : html``;\n\n    return html`\n      ${this.renderRipple()}\n      ${graphic}\n      ${text}\n      ${meta}`;\n  }\n\n  protected renderRipple() {\n    if (this.shouldRenderRipple) {\n      return html`\n      <mwc-ripple\n        .activated=${this.activated}>\n      </mwc-ripple>`;\n    } else if (this.activated) {\n      return html`<div class=\"fake-activated-ripple\"></div>`;\n    } else {\n      return '';\n    }\n  }\n\n  protected renderGraphic() {\n    const graphicClasses = {\n      multi: this.multipleGraphics,\n    };\n\n    return html`\n      <span class=\"mdc-deprecated-list-item__graphic material-icons ${\n        classMap(graphicClasses)}\">\n        <slot name=\"graphic\"></slot>\n      </span>`;\n  }\n\n  protected renderMeta() {\n    return html`\n      <span class=\"mdc-deprecated-list-item__meta material-icons\">\n        <slot name=\"meta\"></slot>\n      </span>`;\n  }\n\n  protected renderText() {\n    const inner = this.twoline ? this.renderTwoline() : this.renderSingleLine();\n    return html`\n      <span class=\"mdc-deprecated-list-item__text\">\n        ${inner}\n      </span>`;\n  }\n\n  protected renderSingleLine() {\n    return html`<slot></slot>`;\n  }\n\n  protected renderTwoline() {\n    return html`\n      <span class=\"mdc-deprecated-list-item__primary-text\">\n        <slot></slot>\n      </span>\n      <span class=\"mdc-deprecated-list-item__secondary-text\">\n        <slot name=\"secondary\"></slot>\n      </span>\n    `;\n  }\n\n  protected onClick() {\n    this.fireRequestSelected(!this.selected, 'interaction');\n  }\n\n  protected onDown(upName: string, evt: Event) {\n    const onUp = () => {\n      window.removeEventListener(upName, onUp);\n      this.rippleHandlers.endPress();\n    };\n\n    window.addEventListener(upName, onUp);\n    this.rippleHandlers.startPress(evt);\n  }\n\n  protected fireRequestSelected(selected: boolean, source: SelectionSource) {\n    if (this.noninteractive) {\n      return;\n    }\n\n    const customEv = new CustomEvent<RequestSelectedDetail>(\n        'request-selected',\n        {bubbles: true, composed: true, detail: {source, selected}});\n\n    this.dispatchEvent(customEv);\n  }\n\n  override connectedCallback() {\n    super.connectedCallback();\n\n    if (!this.noninteractive) {\n      this.setAttribute('mwc-list-item', '');\n    }\n\n    for (const listener of this.listeners) {\n      for (const eventName of listener.eventNames) {\n        listener.target.addEventListener(\n            eventName, listener.cb, {passive: true});\n      }\n    }\n  }\n\n  override disconnectedCallback() {\n    super.disconnectedCallback();\n\n    for (const listener of this.listeners) {\n      for (const eventName of listener.eventNames) {\n        listener.target.removeEventListener(eventName, listener.cb);\n      }\n    }\n\n    if (this._managingList) {\n      this._managingList.debouncedLayout ?\n          this._managingList.debouncedLayout(true) :\n          this._managingList.layout(true);\n    }\n  }\n\n  // composed flag, event fire through shadow root and up through composed tree\n  protected override firstUpdated() {\n    const ev = new Event('list-item-rendered', {bubbles: true, composed: true});\n    this.dispatchEvent(ev);\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport './mwc-list-item';\n\nimport {BaseElement} from '@material/mwc-base/base-element';\nimport {observer} from '@material/mwc-base/observer';\nimport {deepActiveElementPath, doesElementContainFocus, isNodeElement} from '@material/mwc-base/utils';\nimport {html} from 'lit';\nimport {property, query, queryAssignedNodes} from 'lit/decorators.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\n\nimport {MDCListAdapter} from './mwc-list-adapter';\nimport MDCListFoundation, {ActionDetail, isIndexSet, SelectedDetail} from './mwc-list-foundation';\nimport {MWCListIndex} from './mwc-list-foundation';\nimport {Layoutable, ListItemBase, RequestSelectedDetail} from './mwc-list-item-base';\n\nexport {ActionDetail, createSetFromIndex, isEventMulti, isIndexSet, MultiSelectedEvent, MWCListIndex, SelectedDetail, SelectedEvent, SingleSelectedEvent} from './mwc-list-foundation';\n\nfunction debounceLayout(\n    callback: (updateItems: boolean) => void, waitInMS = 50) {\n  let timeoutId: number;\n  // tslint:disable-next-line\n  return function(updateItems = true) {\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => {\n                  callback(updateItems);\n                }, waitInMS) as unknown as number;\n  };\n}\n\nconst isListItem = (element: Element): element is ListItemBase => {\n  return element.hasAttribute('mwc-list-item');\n};\n\nfunction clearAndCreateItemsReadyPromise(this: ListBase) {\n  const oldResolver = this.itemsReadyResolver;\n  this.itemsReady = new Promise((res) => {\n    // TODO(b/175626389): Type '(value: never[] | PromiseLike<never[]>) => void'\n    // is not assignable to type '(value?: never[] | PromiseLike<never[]> |\n    // undefined) => void'.\n    return this.itemsReadyResolver = res as any;\n  });\n  oldResolver();\n}\n\n/**\n * @fires selected {SelectedDetail}\n * @fires action {ActionDetail}\n * @fires items-updated\n */\nexport abstract class ListBase extends BaseElement implements Layoutable {\n  protected mdcFoundation!: MDCListFoundation;\n  protected mdcAdapter: MDCListAdapter|null = null;\n\n  protected readonly mdcFoundationClass = MDCListFoundation;\n\n  @property({type: String}) emptyMessage: string|undefined;\n\n  @query('.mdc-deprecated-list') protected mdcRoot!: HTMLElement;\n\n  @queryAssignedNodes('', true, '*')\n  protected assignedElements!: HTMLElement[]|null;\n  @queryAssignedNodes('', true, '[tabindex=\"0\"]')\n  protected tabbableElements!: HTMLElement[]|null;\n\n  @property({type: Boolean})\n  @observer(function(this: ListBase, value: boolean) {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.setUseActivatedClass(value);\n    }\n  })\n  activatable = false;\n\n  @property({type: Boolean})\n  @observer(function(this: ListBase, newValue: boolean, oldValue: boolean) {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.setMulti(newValue);\n    }\n\n    if (oldValue !== undefined) {\n      this.layout();\n    }\n  })\n  multi = false;\n\n  @property({type: Boolean})\n  @observer(function(this: ListBase, value: boolean) {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.setWrapFocus(value);\n    }\n  })\n  wrapFocus = false;\n\n  @property({type: String})\n  @observer(function(this: ListBase, _newValue, oldValue: string|null) {\n    if (oldValue !== undefined) {\n      this.updateItems();\n    }\n  })\n  itemRoles: string|null = null;\n\n  @property({type: String}) innerRole: string|null = null;\n\n  @property({type: String}) innerAriaLabel: string|null = null;\n\n  @property({type: Boolean}) rootTabbable = false;\n\n  protected previousTabindex: Element|null = null;\n\n  @property({type: Boolean, reflect: true})\n  @observer(function(this: ListBase, value: boolean) {\n    if (value) {\n      const tabbable = this.tabbableElements?.[0] ?? null;\n      this.previousTabindex = tabbable;\n      if (tabbable) {\n        tabbable.setAttribute('tabindex', '-1');\n      }\n    } else if (!value && this.previousTabindex) {\n      this.previousTabindex.setAttribute('tabindex', '0');\n      this.previousTabindex = null;\n    }\n  })\n  noninteractive = false;\n\n  debouncedLayout: (updateItems?: boolean) => void | undefined;\n  protected itemsReadyResolver:\n      (value?: (PromiseLike<never[]>|never[]|undefined)) => void =\n          (() => {\n               //\n           }) as(value?: (PromiseLike<unknown[]>|unknown[])) => void;\n\n  constructor() {\n    super();\n    const debouncedFunction = debounceLayout(this.layout.bind(this));\n    this.debouncedLayout = (updateItems = true) => {\n      clearAndCreateItemsReadyPromise.call(this);\n\n      debouncedFunction(updateItems);\n    };\n  }\n\n  itemsReady = Promise.resolve([]);\n\n  // tslint:disable:ban-ts-ignore\n  protected override async getUpdateComplete() {\n    // @ts-ignore\n    const result = await super.getUpdateComplete();\n    await this.itemsReady;\n    return result;\n  }\n  // tslint:enable:ban-ts-ignore\n\n\n  protected items_: ListItemBase[] = [];\n\n  get items(): ListItemBase[] {\n    return this.items_;\n  }\n\n  protected updateItems() {\n    const nodes = this.assignedElements ?? [];\n    const listItems: ListItemBase[] = [];\n\n    for (const node of nodes) {\n      if (isListItem(node)) {\n        listItems.push(node);\n        node._managingList = this;\n      }\n\n      if (node.hasAttribute('divider') && !node.hasAttribute('role')) {\n        node.setAttribute('role', 'separator');\n      }\n    }\n\n    this.items_ = listItems;\n    const selectedIndices = new Set<number>();\n\n    this.items_.forEach((item, index) => {\n      if (this.itemRoles) {\n        item.setAttribute('role', this.itemRoles);\n      } else {\n        item.removeAttribute('role');\n      }\n\n      if (item.selected) {\n        selectedIndices.add(index);\n      }\n    });\n\n    if (this.multi) {\n      this.select(selectedIndices);\n    } else {\n      const index =\n          selectedIndices.size ? selectedIndices.entries().next().value[1] : -1;\n      this.select(index);\n    }\n\n    const itemsUpdatedEv =\n        new Event('items-updated', {bubbles: true, composed: true});\n    this.dispatchEvent(itemsUpdatedEv);\n  }\n\n  get selected(): ListItemBase|ListItemBase[]|null {\n    const index = this.index;\n\n    if (!isIndexSet(index)) {\n      if (index === -1) {\n        return null;\n      }\n\n      return this.items[index];\n    }\n\n    const selected: ListItemBase[] = [];\n\n    for (const entry of index) {\n      selected.push(this.items[entry]);\n    }\n\n    return selected;\n  }\n\n  get index(): MWCListIndex {\n    if (this.mdcFoundation) {\n      return this.mdcFoundation.getSelectedIndex();\n    }\n\n    return -1;\n  }\n\n  override render() {\n    const role = this.innerRole === null ? undefined : this.innerRole;\n    const ariaLabel =\n        this.innerAriaLabel === null ? undefined : this.innerAriaLabel;\n    const tabindex = this.rootTabbable ? '0' : '-1';\n\n    return html`\n      <!-- @ts-ignore -->\n      <ul\n          tabindex=${tabindex}\n          role=\"${ifDefined(role)}\"\n          aria-label=\"${ifDefined(ariaLabel)}\"\n          class=\"mdc-deprecated-list\"\n          @keydown=${this.onKeydown}\n          @focusin=${this.onFocusIn}\n          @focusout=${this.onFocusOut}\n          @request-selected=${this.onRequestSelected}\n          @list-item-rendered=${this.onListItemConnected}>\n        <slot></slot>\n        ${this.renderPlaceholder()}\n      </ul>\n    `;\n  }\n\n  renderPlaceholder() {\n    const nodes = this.assignedElements ?? [];\n    if (this.emptyMessage !== undefined && nodes.length === 0) {\n      return html`\n        <mwc-list-item noninteractive>${this.emptyMessage}</mwc-list-item>\n      `;\n    }\n\n    return null;\n  }\n\n  override firstUpdated() {\n    super.firstUpdated();\n\n    if (!this.items.length) {\n      // required because this is called before observers\n      this.mdcFoundation.setMulti(this.multi);\n      // for when children upgrade before list\n      this.layout();\n    }\n  }\n\n  protected onFocusIn(evt: FocusEvent) {\n    if (this.mdcFoundation && this.mdcRoot) {\n      const index = this.getIndexOfTarget(evt);\n      this.mdcFoundation.handleFocusIn(evt, index);\n    }\n  }\n\n  protected onFocusOut(evt: FocusEvent) {\n    if (this.mdcFoundation && this.mdcRoot) {\n      const index = this.getIndexOfTarget(evt);\n      this.mdcFoundation.handleFocusOut(evt, index);\n    }\n  }\n\n  protected onKeydown(evt: KeyboardEvent) {\n    if (this.mdcFoundation && this.mdcRoot) {\n      const index = this.getIndexOfTarget(evt);\n      const target = evt.target as Element;\n      const isRootListItem = isListItem(target);\n      this.mdcFoundation.handleKeydown(evt, isRootListItem, index);\n    }\n  }\n\n  protected onRequestSelected(evt: CustomEvent<RequestSelectedDetail>) {\n    if (this.mdcFoundation) {\n      let index = this.getIndexOfTarget(evt);\n\n      // might happen in shady dom slowness. Recalc children\n      if (index === -1) {\n        this.layout();\n        index = this.getIndexOfTarget(evt);\n\n        // still not found; may not be mwc-list-item. Unsupported case.\n        if (index === -1) {\n          return;\n        }\n      }\n\n      const element = this.items[index];\n\n      if (element.disabled) {\n        return;\n      }\n\n      const selected = evt.detail.selected;\n      const source = evt.detail.source;\n\n      this.mdcFoundation.handleSingleSelection(\n          index, source === 'interaction', selected);\n\n      evt.stopPropagation();\n    }\n  }\n\n  protected getIndexOfTarget(evt: Event): number {\n    const elements = this.items;\n    const path = evt.composedPath();\n\n    for (const pathItem of path as Node[]) {\n      let index = -1;\n      if (isNodeElement(pathItem) && isListItem(pathItem)) {\n        index = elements.indexOf(pathItem);\n      }\n\n      if (index !== -1) {\n        return index;\n      }\n    }\n\n    return -1;\n  }\n\n  protected createAdapter(): MDCListAdapter {\n    this.mdcAdapter = {\n      getListItemCount: () => {\n        if (this.mdcRoot) {\n          return this.items.length;\n        }\n\n        return 0;\n      },\n      getFocusedElementIndex: this.getFocusedItemIndex,\n      getAttributeForElementIndex: (index, attr) => {\n        const listElement = this.mdcRoot;\n        if (!listElement) {\n          return '';\n        }\n\n        const element = this.items[index];\n        return element ? element.getAttribute(attr) : '';\n      },\n      setAttributeForElementIndex: (index, attr, val) => {\n        if (!this.mdcRoot) {\n          return;\n        }\n\n        const element = this.items[index];\n\n        if (element) {\n          element.setAttribute(attr, val);\n        }\n      },\n      focusItemAtIndex: (index) => {\n        const element = this.items[index];\n        if (element) {\n          element.focus();\n        }\n      },\n      setTabIndexForElementIndex: (index, value) => {\n        const item = this.items[index];\n\n        if (item) {\n          item.tabindex = value;\n        }\n      },\n      notifyAction: (index) => {\n        const init: CustomEventInit = {bubbles: true, composed: true};\n        init.detail = {index};\n        const ev = new CustomEvent<ActionDetail>('action', init);\n        this.dispatchEvent(ev);\n      },\n      notifySelected: (index, diff) => {\n        const init: CustomEventInit = {bubbles: true, composed: true};\n        init.detail = {index, diff};\n        const ev = new CustomEvent<SelectedDetail>('selected', init);\n        this.dispatchEvent(ev);\n      },\n      isFocusInsideList: () => {\n        return doesElementContainFocus(this);\n      },\n      isRootFocused: () => {\n        const mdcRoot = this.mdcRoot;\n        const root = mdcRoot.getRootNode() as unknown as DocumentOrShadowRoot;\n        return root.activeElement === mdcRoot;\n      },\n      setDisabledStateForElementIndex: (index, value) => {\n        const item = this.items[index];\n\n        if (!item) {\n          return;\n        }\n\n        item.disabled = value;\n      },\n      getDisabledStateForElementIndex: (index) => {\n        const item = this.items[index];\n\n        if (!item) {\n          return false;\n        }\n\n        return item.disabled;\n      },\n      setSelectedStateForElementIndex: (index, value) => {\n        const item = this.items[index];\n\n        if (!item) {\n          return;\n        }\n\n        item.selected = value;\n      },\n      getSelectedStateForElementIndex: (index) => {\n        const item = this.items[index];\n\n        if (!item) {\n          return false;\n        }\n\n        return item.selected;\n      },\n      setActivatedStateForElementIndex: (index, value) => {\n        const item = this.items[index];\n\n        if (!item) {\n          return;\n        }\n\n        item.activated = value;\n      },\n    };\n\n    return this.mdcAdapter;\n  }\n\n  protected selectUi(index: number, activate = false) {\n    const item = this.items[index];\n    if (item) {\n      item.selected = true;\n      item.activated = activate;\n    }\n  }\n\n  protected deselectUi(index: number) {\n    const item = this.items[index];\n    if (item) {\n      item.selected = false;\n      item.activated = false;\n    }\n  }\n\n  select(index: MWCListIndex) {\n    if (!this.mdcFoundation) {\n      return;\n    }\n\n    this.mdcFoundation.setSelectedIndex(index);\n  }\n\n  toggle(index: number, force?: boolean) {\n    if (this.multi) {\n      this.mdcFoundation.toggleMultiAtIndex(index, force);\n    }\n  }\n\n  protected onListItemConnected(e: CustomEvent) {\n    const target = e.target as ListItemBase;\n\n    this.layout(this.items.indexOf(target) === -1);\n  }\n\n  layout(updateItems = true) {\n    if (updateItems) {\n      this.updateItems();\n    }\n\n    const first: ListItemBase|undefined = this.items[0];\n\n    for (const item of this.items) {\n      item.tabindex = -1;\n    }\n\n    if (first) {\n      if (this.noninteractive) {\n        if (!this.previousTabindex) {\n          this.previousTabindex = first;\n        }\n      } else {\n        first.tabindex = 0;\n      }\n    }\n\n    this.itemsReadyResolver();\n  }\n\n  getFocusedItemIndex() {\n    if (!this.mdcRoot) {\n      return -1;\n    }\n\n    if (!this.items.length) {\n      return -1;\n    }\n\n    const activeElementPath = deepActiveElementPath();\n\n    if (!activeElementPath.length) {\n      return -1;\n    }\n\n    for (let i = activeElementPath.length - 1; i >= 0; i--) {\n      const activeItem = activeElementPath[i];\n\n      if (isListItem(activeItem)) {\n        return this.items.indexOf(activeItem);\n      }\n    }\n\n    return -1;\n  }\n\n  focusItemAtIndex(index: number) {\n    for (const item of this.items) {\n      if (item.tabindex === 0) {\n        item.tabindex = -1;\n        break;\n      }\n    }\n\n    this.items[index].tabindex = 0;\n    this.items[index].focus();\n  }\n\n  override focus() {\n    const root = this.mdcRoot;\n\n    if (root) {\n      root.focus();\n    }\n  }\n\n  override blur() {\n    const root = this.mdcRoot;\n\n    if (root) {\n      root.blur();\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport {MDCMenuSurfaceAdapter} from '@material/menu-surface/adapter';\nimport {Corner as CornerEnum, CornerBit} from '@material/menu-surface/constants';\nimport MDCMenuSurfaceFoundation from '@material/menu-surface/foundation';\nimport {addHasRemoveClass, BaseElement} from '@material/mwc-base/base-element';\nimport {observer} from '@material/mwc-base/observer';\nimport {deepActiveElementPath, doesElementContainFocus} from '@material/mwc-base/utils';\nimport {html} from 'lit';\nimport {property, query, state} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport {styleMap} from 'lit/directives/style-map.js';\n\nexport type Corner = keyof typeof CornerEnum;\nexport type AnchorableElement = HTMLElement&{anchor: Element | null};\nexport type MenuCorner = 'START'|'END';\n\n// tslint:disable:no-bitwise\n\n// required for closure compiler\nconst stringToCorner = {\n  'TOP_LEFT': CornerEnum.TOP_LEFT,\n  'TOP_RIGHT': CornerEnum.TOP_RIGHT,\n  'BOTTOM_LEFT': CornerEnum.BOTTOM_LEFT,\n  'BOTTOM_RIGHT': CornerEnum.BOTTOM_RIGHT,\n  'TOP_START': CornerEnum.TOP_START,\n  'TOP_END': CornerEnum.TOP_END,\n  'BOTTOM_START': CornerEnum.BOTTOM_START,\n  'BOTTOM_END': CornerEnum.BOTTOM_END,\n};\n\n/**\n * @fires opened\n * @fires closed\n */\nexport abstract class MenuSurfaceBase extends BaseElement {\n  protected mdcFoundation!: MDCMenuSurfaceFoundation;\n\n  protected readonly mdcFoundationClass = MDCMenuSurfaceFoundation;\n\n  @query('.mdc-menu-surface') mdcRoot!: HTMLDivElement;\n\n  @query('slot') slotElement!: HTMLSlotElement|null;\n\n  @property({type: Boolean})\n  @observer(function(this: MenuSurfaceBase, isAbsolute: boolean) {\n    if (this.mdcFoundation && !this.fixed) {\n      this.mdcFoundation.setIsHoisted(isAbsolute);\n    }\n  })\n  absolute = false;\n\n  @property({type: Boolean}) fullwidth = false;\n\n  @property({type: Boolean})\n  @observer(function(this: MenuSurfaceBase, isFixed: boolean) {\n    if (this.mdcFoundation && !this.absolute) {\n      this.mdcFoundation.setFixedPosition(isFixed);\n    }\n  })\n  fixed = false;\n\n  @property({type: Number})\n  @observer(function(this: MenuSurfaceBase, value: number|null) {\n    if (this.mdcFoundation && this.y !== null && value !== null) {\n      this.mdcFoundation.setAbsolutePosition(value, this.y);\n      this.mdcFoundation.setAnchorMargin(\n          {left: value, top: this.y, right: -value, bottom: this.y});\n    }\n  })\n  x: number|null = null;\n\n  @property({type: Number})\n  @observer(function(this: MenuSurfaceBase, value: number|null) {\n    if (this.mdcFoundation && this.x !== null && value !== null) {\n      this.mdcFoundation.setAbsolutePosition(this.x, value);\n      this.mdcFoundation.setAnchorMargin(\n          {left: this.x, top: value, right: -this.x, bottom: value});\n    }\n  })\n  y: number|null = null;\n\n  // must be defined before open or else race condition in foundation occurs.\n  @property({type: Boolean})\n  @observer(function(this: MenuSurfaceBase, value: boolean) {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.setQuickOpen(value);\n    }\n  })\n  quick = false;\n\n  @property({type: Boolean, reflect: true})\n  @observer(function(this: MenuSurfaceBase, isOpen: boolean, wasOpen: boolean) {\n    if (this.mdcFoundation) {\n      if (isOpen) {\n        this.mdcFoundation.open();\n        // wasOpen helps with first render (when it is `undefined`) perf\n      } else if (wasOpen !== undefined) {\n        this.mdcFoundation.close();\n      }\n    }\n  })\n  open = false;\n\n  @property({type: Boolean}) stayOpenOnBodyClick: boolean = false;\n\n  @state()\n  @observer(function(this: MenuSurfaceBase, value: CornerEnum) {\n    if (this.mdcFoundation) {\n      if (value) {\n        this.mdcFoundation.setAnchorCorner(value);\n      } else {\n        this.mdcFoundation.setAnchorCorner(value);\n      }\n    }\n  })\n\n  protected bitwiseCorner: CornerEnum = CornerEnum.TOP_START;\n  protected previousMenuCorner: MenuCorner|null = null;\n\n  // must be defined before observer of anchor corner for initialization\n  @property({type: String})\n  @observer(function(this: MenuSurfaceBase, value: MenuCorner) {\n    if (this.mdcFoundation) {\n      const isValidValue = value === 'START' || value === 'END';\n      const isFirstTimeSet = this.previousMenuCorner === null;\n      const cornerChanged =\n          !isFirstTimeSet && value !== this.previousMenuCorner;\n      const initiallySetToEnd = isFirstTimeSet && value === 'END';\n\n      if (isValidValue && (cornerChanged || initiallySetToEnd)) {\n        this.bitwiseCorner = this.bitwiseCorner ^ CornerBit.RIGHT;\n        this.mdcFoundation.flipCornerHorizontally();\n        this.previousMenuCorner = value;\n      }\n    }\n  })\n  menuCorner: MenuCorner = 'START';\n\n  @property({type: String})\n  @observer(function(this: MenuSurfaceBase, value: Corner) {\n    if (this.mdcFoundation) {\n      if (value) {\n        let newCorner = stringToCorner[value];\n        if (this.menuCorner === 'END') {\n          newCorner = newCorner ^ CornerBit.RIGHT;\n        }\n\n        this.bitwiseCorner = newCorner;\n      }\n    }\n  })\n  corner: Corner = 'TOP_START';\n\n  @state() protected styleTop = '';\n  @state() protected styleLeft = '';\n  @state() protected styleRight = '';\n  @state() protected styleBottom = '';\n  @state() protected styleMaxHeight = '';\n  @state() protected styleTransformOrigin = '';\n\n  anchor: HTMLElement|null = null;\n\n  protected previouslyFocused: HTMLElement|Element|null = null;\n  protected previousAnchor: HTMLElement|null = null;\n  protected onBodyClickBound: (evt: MouseEvent) => void = () => undefined;\n\n  override render() {\n    const classes = {\n      'mdc-menu-surface--fixed': this.fixed,\n      'mdc-menu-surface--fullwidth': this.fullwidth,\n    };\n\n    const styles = {\n      'top': this.styleTop,\n      'left': this.styleLeft,\n      'right': this.styleRight,\n      'bottom': this.styleBottom,\n      'max-height': this.styleMaxHeight,\n      'transform-origin': this.styleTransformOrigin,\n    };\n\n    return html`\n      <div\n          class=\"mdc-menu-surface ${classMap(classes)}\"\n          style=\"${styleMap(styles)}\"\n          @keydown=${this.onKeydown}\n          @opened=${this.registerBodyClick}\n          @closed=${this.deregisterBodyClick}>\n        <slot></slot>\n      </div>`;\n  }\n\n  createAdapter(): MDCMenuSurfaceAdapter {\n    return {\n      ...addHasRemoveClass(this.mdcRoot),\n      hasAnchor: () => {\n        return !!this.anchor;\n      },\n      notifyClose: () => {\n        const init: CustomEventInit = {bubbles: true, composed: true};\n        const ev = new CustomEvent('closed', init);\n        this.open = false;\n        this.mdcRoot.dispatchEvent(ev);\n      },\n      notifyClosing: () => {\n        const init: CustomEventInit = {bubbles: true, composed: true};\n        const ev = new CustomEvent('closing', init);\n        this.mdcRoot.dispatchEvent(ev);\n      },\n      notifyOpen: () => {\n        const init: CustomEventInit = {bubbles: true, composed: true};\n        const ev = new CustomEvent('opened', init);\n        this.open = true;\n        this.mdcRoot.dispatchEvent(ev);\n      },\n      isElementInContainer: () => false,\n      isRtl: () => {\n        if (this.mdcRoot) {\n          return getComputedStyle(this.mdcRoot).direction === 'rtl';\n        }\n\n        return false;\n      },\n      setTransformOrigin: (origin) => {\n        const root = this.mdcRoot;\n        if (!root) {\n          return;\n        }\n\n        this.styleTransformOrigin = origin;\n      },\n      isFocused: () => {\n        return doesElementContainFocus(this);\n      },\n      saveFocus: () => {\n        const activeElementPath = deepActiveElementPath();\n        const pathLength = activeElementPath.length;\n\n        if (!pathLength) {\n          this.previouslyFocused = null;\n        }\n\n        this.previouslyFocused = activeElementPath[pathLength - 1];\n      },\n      restoreFocus: () => {\n        if (!this.previouslyFocused) {\n          return;\n        }\n\n        if ('focus' in this.previouslyFocused) {\n          this.previouslyFocused.focus();\n        }\n      },\n      getInnerDimensions: () => {\n        const mdcRoot = this.mdcRoot;\n\n        if (!mdcRoot) {\n          return {width: 0, height: 0};\n        }\n\n        return {width: mdcRoot.offsetWidth, height: mdcRoot.offsetHeight};\n      },\n      getAnchorDimensions: () => {\n        const anchorElement = this.anchor;\n\n        return anchorElement ? anchorElement.getBoundingClientRect() : null;\n      },\n      getBodyDimensions: () => {\n        return {\n          width: document.body.clientWidth,\n          height: document.body.clientHeight,\n        };\n      },\n      getWindowDimensions: () => {\n        return {\n          width: window.innerWidth,\n          height: window.innerHeight,\n        };\n      },\n      getWindowScroll: () => {\n        return {\n          x: window.pageXOffset,\n          y: window.pageYOffset,\n        };\n      },\n      setPosition: (position) => {\n        const mdcRoot = this.mdcRoot;\n\n        if (!mdcRoot) {\n          return;\n        }\n\n        this.styleLeft = 'left' in position ? `${position.left}px` : '';\n        this.styleRight = 'right' in position ? `${position.right}px` : '';\n        this.styleTop = 'top' in position ? `${position.top}px` : '';\n        this.styleBottom = 'bottom' in position ? `${position.bottom}px` : '';\n      },\n      setMaxHeight: async (height) => {\n        const mdcRoot = this.mdcRoot;\n\n        if (!mdcRoot) {\n          return;\n        }\n\n        // must set both for IE support as IE will not set a var\n        this.styleMaxHeight = height;\n        await this.updateComplete;\n        this.styleMaxHeight = `var(--mdc-menu-max-height, ${height})`;\n      },\n    };\n  }\n\n  protected onKeydown(evt: KeyboardEvent) {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.handleKeydown(evt);\n    }\n  }\n\n  protected onBodyClick(evt: MouseEvent) {\n    if (this.stayOpenOnBodyClick) {\n      return;\n    }\n    const path = evt.composedPath();\n    if (path.indexOf(this) === -1) {\n      this.close();\n    }\n  }\n\n  protected registerBodyClick() {\n    this.onBodyClickBound = this.onBodyClick.bind(this);\n    // capture otherwise listener closes menu after quick menu opens\n    document.body.addEventListener(\n        'click', this.onBodyClickBound, {passive: true, capture: true});\n  }\n\n  protected deregisterBodyClick() {\n    document.body.removeEventListener(\n        'click', this.onBodyClickBound, {capture: true});\n  }\n\n  close() {\n    this.open = false;\n  }\n\n  show() {\n    this.open = true;\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport '@material/mwc-list';\nimport './mwc-menu-surface';\n\nimport {MDCMenuAdapter} from '@material/menu/adapter';\nimport {DefaultFocusState as DefaultFocusStateEnum} from '@material/menu/constants';\nimport MDCMenuFoundation from '@material/menu/foundation';\nimport {BaseElement} from '@material/mwc-base/base-element';\nimport {observer} from '@material/mwc-base/observer';\nimport {List, MWCListIndex} from '@material/mwc-list';\nimport {ActionDetail} from '@material/mwc-list/mwc-list-foundation';\nimport {ListItemBase} from '@material/mwc-list/mwc-list-item-base';\nimport {html} from 'lit';\nimport {property, query} from 'lit/decorators.js';\n\nimport {MenuSurface} from './mwc-menu-surface';\nimport {Corner, MenuCorner} from './mwc-menu-surface-base';\n\nexport {ActionDetail, createSetFromIndex, isEventMulti, isIndexSet, MWCListIndex, SelectedDetail} from '@material/mwc-list/mwc-list-foundation';\nexport {Corner, MenuCorner} from './mwc-menu-surface-base';\n\nexport type DefaultFocusState = keyof typeof DefaultFocusStateEnum;\n\n/**\n * @fires selected {SelectedDetail}\n * @fires action {ActionDetail}\n * @fires items-updated\n * @fires opened\n * @fires closed\n */\nexport abstract class MenuBase extends BaseElement {\n  protected mdcFoundation!: MDCMenuFoundation;\n\n  protected readonly mdcFoundationClass = MDCMenuFoundation;\n\n  protected listElement_: List|null = null;\n\n  @query('.mdc-menu') mdcRoot!: MenuSurface;\n\n  @query('slot') slotElement!: HTMLSlotElement|null;\n\n  @property({type: Object}) anchor: HTMLElement|null = null;\n\n  @property({type: Boolean, reflect: true}) open = false;\n\n  @property({type: Boolean}) quick = false;\n\n  @property({type: Boolean}) wrapFocus = false;\n\n  @property({type: String}) innerRole: 'menu'|'listbox' = 'menu';\n\n  @property({type: String}) innerAriaLabel: string|null = null;\n\n  @property({type: String}) corner: Corner = 'TOP_START';\n\n  @property({type: Number}) x: number|null = null;\n\n  @property({type: Number}) y: number|null = null;\n\n  @property({type: Boolean}) absolute = false;\n\n  @property({type: Boolean}) multi = false;\n\n  @property({type: Boolean}) activatable = false;\n\n  @property({type: Boolean}) fixed = false;\n\n  @property({type: Boolean}) forceGroupSelection = false;\n\n  @property({type: Boolean}) fullwidth = false;\n\n  @property({type: String}) menuCorner: MenuCorner = 'START';\n\n  @property({type: Boolean}) stayOpenOnBodyClick: boolean = false;\n\n  @property({type: String})\n  @observer(function(this: MenuBase, value: DefaultFocusState) {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.setDefaultFocusState(DefaultFocusStateEnum[value]);\n    }\n  })\n  defaultFocus: DefaultFocusState = 'LIST_ROOT';\n\n  protected _listUpdateComplete: null|Promise<unknown> = null;\n\n  protected get listElement() {\n    if (!this.listElement_) {\n      this.listElement_ = this.renderRoot.querySelector('mwc-list');\n      return this.listElement_;\n    }\n\n    return this.listElement_;\n  }\n\n  get items(): ListItemBase[] {\n    const listElement = this.listElement;\n\n    if (listElement) {\n      return listElement.items;\n    }\n\n    return [];\n  }\n\n  get index(): MWCListIndex {\n    const listElement = this.listElement;\n\n    if (listElement) {\n      return listElement.index;\n    }\n\n    return -1;\n  }\n\n  get selected(): ListItemBase|ListItemBase[]|null {\n    const listElement = this.listElement;\n\n    if (listElement) {\n      return listElement.selected;\n    }\n\n    return null;\n  }\n\n  override render() {\n    const itemRoles = this.innerRole === 'menu' ? 'menuitem' : 'option';\n\n    return html`\n      <mwc-menu-surface\n          ?hidden=${!this.open}\n          .anchor=${this.anchor}\n          .open=${this.open}\n          .quick=${this.quick}\n          .corner=${this.corner}\n          .x=${this.x}\n          .y=${this.y}\n          .absolute=${this.absolute}\n          .fixed=${this.fixed}\n          .fullwidth=${this.fullwidth}\n          .menuCorner=${this.menuCorner}\n          ?stayOpenOnBodyClick=${this.stayOpenOnBodyClick}\n          class=\"mdc-menu mdc-menu-surface\"\n          @closed=${this.onClosed}\n          @opened=${this.onOpened}\n          @keydown=${this.onKeydown}>\n        <mwc-list\n          rootTabbable\n          .innerAriaLabel=${this.innerAriaLabel}\n          .innerRole=${this.innerRole}\n          .multi=${this.multi}\n          class=\"mdc-deprecated-list\"\n          .itemRoles=${itemRoles}\n          .wrapFocus=${this.wrapFocus}\n          .activatable=${this.activatable}\n          @action=${this.onAction}>\n        <slot></slot>\n      </mwc-list>\n    </mwc-menu-surface>`;\n  }\n\n  protected createAdapter(): MDCMenuAdapter {\n    return {\n      addClassToElementAtIndex: (index, className) => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return;\n        }\n\n        const element = listElement.items[index];\n\n        if (!element) {\n          return;\n        }\n\n        if (className === 'mdc-menu-item--selected') {\n          if (this.forceGroupSelection && !element.selected) {\n            listElement.toggle(index, true);\n          }\n        } else {\n          element.classList.add(className);\n        }\n      },\n      removeClassFromElementAtIndex: (index, className) => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return;\n        }\n\n        const element = listElement.items[index];\n\n        if (!element) {\n          return;\n        }\n\n        if (className === 'mdc-menu-item--selected') {\n          if (element.selected) {\n            listElement.toggle(index, false);\n          }\n        } else {\n          element.classList.remove(className);\n        }\n      },\n      addAttributeToElementAtIndex: (index, attr, value) => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return;\n        }\n\n        const element = listElement.items[index];\n\n        if (!element) {\n          return;\n        }\n\n        element.setAttribute(attr, value);\n      },\n      removeAttributeFromElementAtIndex: (index, attr) => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return;\n        }\n\n        const element = listElement.items[index];\n\n        if (!element) {\n          return;\n        }\n\n        element.removeAttribute(attr);\n      },\n      getAttributeFromElementAtIndex: (index, attr) => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return null;\n        }\n\n        const element = listElement.items[index];\n\n        if (!element) {\n          return null;\n        }\n\n        return element.getAttribute(attr);\n      },\n      elementContainsClass: (element, className) =>\n          element.classList.contains(className),\n      closeSurface: () => {\n        this.open = false;\n      },\n      getElementIndex: (element) => {\n        const listElement = this.listElement;\n        if (listElement) {\n          return listElement.items.indexOf(element as ListItemBase);\n        }\n\n        return -1;\n      },\n      notifySelected: () => { /** handled by list */ },\n      getMenuItemCount: () => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return 0;\n        }\n\n        return listElement.items.length;\n      },\n      focusItemAtIndex: (index) => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return;\n        }\n        const element = listElement.items[index];\n\n        if (element) {\n          (element as HTMLElement).focus();\n        }\n      },\n      focusListRoot: () => {\n        if (this.listElement) {\n          this.listElement.focus();\n        }\n      },\n      getSelectedSiblingOfItemAtIndex: (index) => {\n        const listElement = this.listElement;\n\n        if (!listElement) {\n          return -1;\n        }\n\n        const elementAtIndex = listElement.items[index];\n\n        if (!elementAtIndex || !elementAtIndex.group) {\n          return -1;\n        }\n\n        for (let i = 0; i < listElement.items.length; i++) {\n          if (i === index) {\n            continue;\n          }\n\n          const current = listElement.items[i];\n          if (current.selected && current.group === elementAtIndex.group) {\n            return i;\n          }\n        }\n\n        return -1;\n      },\n      isSelectableItemAtIndex: (index) => {\n        const listElement = this.listElement;\n\n        if (!listElement) {\n          return false;\n        }\n\n        const elementAtIndex = listElement.items[index];\n\n        if (!elementAtIndex) {\n          return false;\n        }\n\n        return elementAtIndex.hasAttribute('group');\n      },\n    };\n  }\n\n  protected onKeydown(evt: KeyboardEvent) {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.handleKeydown(evt);\n    }\n  }\n\n  protected onAction(evt: CustomEvent<ActionDetail>) {\n    const listElement = this.listElement;\n    if (this.mdcFoundation && listElement) {\n      const index = evt.detail.index;\n\n      const el = listElement.items[index];\n\n      if (el) {\n        this.mdcFoundation.handleItemAction(el);\n      }\n    }\n  }\n\n  protected onOpened() {\n    this.open = true;\n\n    if (this.mdcFoundation) {\n      this.mdcFoundation.handleMenuSurfaceOpened();\n    }\n  }\n\n  protected onClosed() {\n    this.open = false;\n  }\n\n  // tslint:disable:ban-ts-ignore\n  protected override async getUpdateComplete() {\n    await this._listUpdateComplete;\n    // @ts-ignore\n    const result = await super.getUpdateComplete();\n    return result;\n  }\n  // tslint:enable:ban-ts-ignore\n\n  protected override async firstUpdated() {\n    super.firstUpdated();\n    const listElement = this.listElement;\n\n    if (listElement) {\n      this._listUpdateComplete = listElement.updateComplete;\n      await this._listUpdateComplete;\n    }\n  }\n\n  select(index: MWCListIndex) {\n    const listElement = this.listElement;\n\n    if (listElement) {\n      listElement.select(index);\n    }\n  }\n\n  close() {\n    this.open = false;\n  }\n\n  show() {\n    this.open = true;\n  }\n\n  getFocusedItemIndex() {\n    const listElement = this.listElement;\n\n    if (listElement) {\n      return listElement.getFocusedItemIndex();\n    }\n\n    return -1;\n  }\n\n  focusItemAtIndex(index: number) {\n    const listElement = this.listElement;\n\n    if (listElement) {\n      listElement.focusItemAtIndex(index);\n    }\n  }\n\n  layout(updateItems = true) {\n    const listElement = this.listElement;\n\n    if (listElement) {\n      listElement.layout(updateItems);\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport {BaseElement} from '@material/mwc-base/base-element';\nimport {MDCNotchedOutlineAdapter} from '@material/notched-outline/adapter';\nimport {MDCNotchedOutlineFoundation} from '@material/notched-outline/foundation';\nimport {html} from 'lit';\nimport {property, query} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\n\nexport class NotchedOutlineBase extends BaseElement {\n  @query('.mdc-notched-outline') protected mdcRoot!: HTMLElement;\n  protected mdcFoundation!: MDCNotchedOutlineFoundation;\n\n  protected readonly mdcFoundationClass = MDCNotchedOutlineFoundation;\n\n  @property({type: Number}) width = 0;\n\n  @property({type: Boolean, reflect: true}) open = false;\n\n  protected lastOpen = this.open;\n\n  @query('.mdc-notched-outline__notch') protected notchElement!: HTMLDivElement;\n\n  protected createAdapter(): MDCNotchedOutlineAdapter {\n    return {\n      addClass: (className) => this.mdcRoot.classList.add(className),\n      removeClass: (className) => this.mdcRoot.classList.remove(className),\n      setNotchWidthProperty: (width) =>\n          this.notchElement.style.setProperty('width', `${width}px`),\n      removeNotchWidthProperty: () =>\n          this.notchElement.style.removeProperty('width'),\n    };\n  }\n\n  protected openOrClose(shouldOpen: boolean, width?: number) {\n    if (!this.mdcFoundation) {\n      return;\n    }\n\n    if (shouldOpen && width !== undefined) {\n      this.mdcFoundation.notch(width);\n    } else {\n      this.mdcFoundation.closeNotch();\n    }\n  }\n\n  override render() {\n    this.openOrClose(this.open, this.width);\n\n    const classes = classMap({\n      'mdc-notched-outline--notched': this.open,\n    });\n\n    return html`\n      <span class=\"mdc-notched-outline ${classes}\">\n        <span class=\"mdc-notched-outline__leading\"></span>\n        <span class=\"mdc-notched-outline__notch\">\n          <slot></slot>\n        </span>\n        <span class=\"mdc-notched-outline__trailing\"></span>\n      </span>`;\n  }\n}\n","/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport '@material/mwc-ripple/mwc-ripple';\n\nimport {ariaProperty} from '@material/mwc-base/aria-property';\nimport {addHasRemoveClass, FormElement} from '@material/mwc-base/form-element';\nimport {observer} from '@material/mwc-base/observer';\nimport {SingleSelectionController} from '@material/mwc-radio/single-selection-controller';\nimport {Ripple} from '@material/mwc-ripple/mwc-ripple';\nimport {RippleHandlers} from '@material/mwc-ripple/ripple-handlers';\nimport {MDCRadioAdapter} from '@material/radio/adapter';\nimport MDCRadioFoundation from '@material/radio/foundation';\nimport {html, TemplateResult} from 'lit';\nimport {eventOptions, property, query, queryAsync, state} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\n\n/**\n * @fires checked\n * @soyCompatible\n */\nexport class RadioBase extends FormElement {\n  @query('.mdc-radio') protected mdcRoot!: HTMLElement;\n\n  @query('input') protected formElement!: HTMLInputElement;\n\n  protected _checked = false;\n\n  @state() protected useStateLayerCustomProperties = false;\n\n  @property({type: Boolean}) global = false;\n\n  @property({type: Boolean, reflect: true})\n  get checked(): boolean {\n    return this._checked;\n  }\n\n  /**\n   * We define our own getter/setter for `checked` because we need to track\n   * changes to it synchronously.\n   *\n   * The order in which the `checked` property is set across radio buttons\n   * within the same group is very important. However, we can't rely on\n   * UpdatingElement's `updated` callback to observe these changes (which is\n   * also what the `@observer` decorator uses), because it batches changes to\n   * all properties.\n   *\n   * Consider:\n   *\n   *   radio1.disabled = true;\n   *   radio2.checked = true;\n   *   radio1.checked = true;\n   *\n   * In this case we'd first see all changes for radio1, and then for radio2,\n   * and we couldn't tell that radio1 was the most recently checked.\n   */\n  set checked(isChecked: boolean) {\n    const oldValue = this._checked;\n    if (isChecked === oldValue) {\n      return;\n    }\n    this._checked = isChecked;\n    if (this.formElement) {\n      this.formElement.checked = isChecked;\n    }\n    this._selectionController?.update(this);\n\n    if (isChecked === false) {\n      // Remove focus ring when unchecked on other radio programmatically.\n      // Blur on input since this determines the focus style.\n      this.formElement?.blur();\n    }\n    this.requestUpdate('checked', oldValue);\n\n    // useful when unchecks self and wrapping element needs to synchronize\n    // TODO(b/168543810): Remove triggering event on programmatic API call.\n    this.dispatchEvent(new Event('checked', {bubbles: true, composed: true}));\n  }\n\n  @property({type: Boolean})\n  @observer(function(this: RadioBase, disabled: boolean) {\n    this.mdcFoundation.setDisabled(disabled);\n  })\n  override disabled = false;\n\n  @property({type: String})\n  @observer(function(this: RadioBase, value: string) {\n    this._handleUpdatedValue(value);\n  })\n  value = 'on';\n\n  _handleUpdatedValue(newValue: string) {\n    // the observer function can't access protected fields (according to\n    // closure compiler) because it's not a method on the class, so we need this\n    // wrapper.\n    this.formElement.value = newValue;\n  }\n\n  @property({type: String}) name = '';\n\n  /**\n   * Touch target extends beyond visual boundary of a component by default.\n   * Set to `true` to remove touch target added to the component.\n   * @see https://material.io/design/usability/accessibility.html\n   */\n  @property({type: Boolean}) reducedTouchTarget = false;\n\n  protected mdcFoundationClass = MDCRadioFoundation;\n\n  protected mdcFoundation!: MDCRadioFoundation;\n\n  protected _selectionController?: SingleSelectionController;\n\n  /**\n   * input's tabindex is updated based on checked status.\n   * Tab navigation will be removed from unchecked radios.\n   */\n  @property({type: Number}) formElementTabIndex = 0;\n\n  @state() protected focused = false;\n  @state() protected shouldRenderRipple = false;\n\n  @queryAsync('mwc-ripple') override ripple!: Promise<Ripple|null>;\n\n  /** @soyPrefixAttribute */\n  @ariaProperty @property({attribute: 'aria-label'}) ariaLabel!: string;\n\n  /** @soyPrefixAttribute */\n  @ariaProperty\n  @property({attribute: 'aria-labelledby'})\n  ariaLabelledBy!: string;\n\n  protected rippleElement: Ripple|null = null;\n\n  protected rippleHandlers: RippleHandlers = new RippleHandlers(() => {\n    this.shouldRenderRipple = true;\n    this.ripple.then((v) => {\n      this.rippleElement = v;\n    });\n\n    return this.ripple;\n  });\n\n  /** @soyTemplate */\n  protected renderRipple(): TemplateResult|string {\n    return this.shouldRenderRipple ? html`<mwc-ripple unbounded accent\n        .internalUseStateLayerCustomProperties=\"${\n                                         this.useStateLayerCustomProperties}\"\n        .disabled=\"${this.disabled}\"></mwc-ripple>` :\n                                     '';\n  }\n\n  get isRippleActive() {\n    return this.rippleElement?.isActive || false;\n  }\n\n  override connectedCallback() {\n    super.connectedCallback();\n    // Note that we must defer creating the selection controller until the\n    // element has connected, because selection controllers are keyed by the\n    // radio's shadow root. For example, if we're stamping in a lit map\n    // or repeat, then we'll be constructed before we're added to a root node.\n    //\n    // Also note if we aren't using native shadow DOM, we still need a\n    // SelectionController, because we should update checked status of other\n    // radios in the group when selection changes. It also simplifies\n    // implementation and testing to use one in all cases.\n    //\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    this._selectionController = SingleSelectionController.getController(this);\n    this._selectionController.register(this);\n\n    // Radios maybe checked before connected, update selection as soon it is\n    // connected to DOM. Last checked radio button in the DOM will be selected.\n    //\n    // NOTE: If we update selection only after firstUpdate() we might mistakenly\n    // update checked status before other radios are rendered.\n    this._selectionController.update(this);\n  }\n\n  override disconnectedCallback() {\n    // The controller is initialized in connectedCallback, so if we are in\n    // disconnectedCallback then it must be initialized.\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this._selectionController!.unregister(this);\n    this._selectionController = undefined;\n  }\n\n  override focus() {\n    this.formElement.focus();\n  }\n\n  protected createAdapter(): MDCRadioAdapter {\n    return {\n      ...addHasRemoveClass(this.mdcRoot),\n      setNativeControlDisabled: (disabled: boolean) => {\n        this.formElement.disabled = disabled;\n      },\n    };\n  }\n\n  protected handleFocus() {\n    this.focused = true;\n    this.handleRippleFocus();\n  }\n\n  protected handleClick() {\n    // Firefox has weird behavior with radios if they are not focused\n    this.formElement.focus();\n  }\n\n  protected handleBlur() {\n    this.focused = false;\n    this.formElement.blur();\n    this.rippleHandlers.endFocus();\n  }\n\n  protected setFormData(formData: FormData) {\n    if (this.name && this.checked) {\n      formData.append(this.name, this.value);\n    }\n  }\n\n  /**\n   * @soyTemplate\n   * @soyAttributes radioAttributes: input\n   * @soyClasses radioClasses: .mdc-radio\n   */\n  protected override render(): TemplateResult {\n    /** @classMap */\n    const classes = {\n      'mdc-radio--touch': !this.reducedTouchTarget,\n      'mdc-ripple-upgraded--background-focused': this.focused,\n      'mdc-radio--disabled': this.disabled,\n    };\n\n    return html`\n      <div class=\"mdc-radio ${classMap(classes)}\">\n        <input\n          tabindex=\"${this.formElementTabIndex}\"\n          class=\"mdc-radio__native-control\"\n          type=\"radio\"\n          name=\"${this.name}\"\n          aria-label=\"${ifDefined(this.ariaLabel)}\"\n          aria-labelledby=\"${ifDefined(this.ariaLabelledBy)}\"\n          .checked=\"${this.checked}\"\n          .value=\"${this.value}\"\n          ?disabled=\"${this.disabled}\"\n          @change=\"${this.changeHandler}\"\n          @focus=\"${this.handleFocus}\"\n          @click=\"${this.handleClick}\"\n          @blur=\"${this.handleBlur}\"\n          @mousedown=\"${this.handleRippleMouseDown}\"\n          @mouseenter=\"${this.handleRippleMouseEnter}\"\n          @mouseleave=\"${this.handleRippleMouseLeave}\"\n          @touchstart=\"${this.handleRippleTouchStart}\"\n          @touchend=\"${this.handleRippleDeactivate}\"\n          @touchcancel=\"${this.handleRippleDeactivate}\">\n        <div class=\"mdc-radio__background\">\n          <div class=\"mdc-radio__outer-circle\"></div>\n          <div class=\"mdc-radio__inner-circle\"></div>\n        </div>\n        ${this.renderRipple()}\n      </div>`;\n  }\n\n  protected handleRippleMouseDown(event: Event) {\n    const onUp = () => {\n      window.removeEventListener('mouseup', onUp);\n\n      this.handleRippleDeactivate();\n    };\n\n    window.addEventListener('mouseup', onUp);\n    this.rippleHandlers.startPress(event);\n  }\n\n  @eventOptions({passive: true})\n  protected handleRippleTouchStart(event: Event) {\n    this.rippleHandlers.startPress(event);\n  }\n\n  protected handleRippleDeactivate() {\n    this.rippleHandlers.endPress();\n  }\n\n  protected handleRippleMouseEnter() {\n    this.rippleHandlers.startHover();\n  }\n\n  protected handleRippleMouseLeave() {\n    this.rippleHandlers.endHover();\n  }\n\n  protected handleRippleFocus() {\n    this.rippleHandlers.startFocus();\n  }\n\n  protected changeHandler() {\n    this.checked = this.formElement.checked;\n  }\n}\n","/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport {matches} from '@material/dom/ponyfill';\nimport {BaseElement} from '@material/mwc-base/base-element';\nimport {RippleInterface} from '@material/mwc-base/utils';\nimport {MDCRippleAdapter} from '@material/ripple/adapter';\nimport MDCRippleFoundation from '@material/ripple/foundation';\nimport {html, PropertyValues, TemplateResult} from 'lit';\nimport {property, query, state} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport {styleMap} from 'lit/directives/style-map.js';\n\n/** @soyCompatible */\nexport class RippleBase extends BaseElement implements RippleInterface {\n  @query('.mdc-ripple-surface') mdcRoot!: HTMLElement;\n\n  @property({type: Boolean}) primary = false;\n\n  @property({type: Boolean}) accent = false;\n\n  @property({type: Boolean}) unbounded = false;\n\n  @property({type: Boolean}) disabled = false;\n\n  @property({type: Boolean}) activated = false;\n\n  @property({type: Boolean}) selected = false;\n\n  @property({type: Boolean}) internalUseStateLayerCustomProperties = false;\n\n  @state() protected hovering = false;\n\n  @state() protected bgFocused = false;\n\n  @state() protected fgActivation = false;\n\n  @state() protected fgDeactivation = false;\n\n  @state() protected fgScale = '';\n\n  @state() protected fgSize = '';\n\n  @state() protected translateStart = '';\n\n  @state() protected translateEnd = '';\n\n  @state() protected leftPos = '';\n\n  @state() protected topPos = '';\n\n  protected mdcFoundationClass = MDCRippleFoundation;\n\n  protected mdcFoundation!: MDCRippleFoundation;\n\n  get isActive(): any {\n    return matches(this.parentElement || this, ':active');\n  }\n\n  createAdapter(): MDCRippleAdapter {\n    return {\n      browserSupportsCssVars: () => true,\n      isUnbounded: () => this.unbounded,\n      isSurfaceActive: () => this.isActive,\n      isSurfaceDisabled: () => this.disabled,\n      addClass: (className: string) => {\n        switch (className) {\n          case 'mdc-ripple-upgraded--background-focused':\n            this.bgFocused = true;\n            break;\n          case 'mdc-ripple-upgraded--foreground-activation':\n            this.fgActivation = true;\n            break;\n          case 'mdc-ripple-upgraded--foreground-deactivation':\n            this.fgDeactivation = true;\n            break;\n          default:\n            break;\n        }\n      },\n      removeClass: (className: string) => {\n        switch (className) {\n          case 'mdc-ripple-upgraded--background-focused':\n            this.bgFocused = false;\n            break;\n          case 'mdc-ripple-upgraded--foreground-activation':\n            this.fgActivation = false;\n            break;\n          case 'mdc-ripple-upgraded--foreground-deactivation':\n            this.fgDeactivation = false;\n            break;\n          default:\n            break;\n        }\n      },\n      containsEventTarget: () => true,\n      registerInteractionHandler: () => undefined,\n      deregisterInteractionHandler: () => undefined,\n      registerDocumentInteractionHandler: () => undefined,\n      deregisterDocumentInteractionHandler: () => undefined,\n      registerResizeHandler: () => undefined,\n      deregisterResizeHandler: () => undefined,\n      updateCssVariable: (varName: string, value: string) => {\n        switch (varName) {\n          case '--mdc-ripple-fg-scale':\n            this.fgScale = value;\n            break;\n          case '--mdc-ripple-fg-size':\n            this.fgSize = value;\n            break;\n          case '--mdc-ripple-fg-translate-end':\n            this.translateEnd = value;\n            break;\n          case '--mdc-ripple-fg-translate-start':\n            this.translateStart = value;\n            break;\n          case '--mdc-ripple-left':\n            this.leftPos = value;\n            break;\n          case '--mdc-ripple-top':\n            this.topPos = value;\n            break;\n          default:\n            break;\n        }\n      },\n      computeBoundingRect: () =>\n          (this.parentElement || this).getBoundingClientRect(),\n      getWindowPageOffset: () =>\n          ({x: window.pageXOffset, y: window.pageYOffset}),\n    };\n  }\n\n  startPress(ev?: Event) {\n    this.waitForFoundation(() => {\n      this.mdcFoundation.activate(ev);\n    });\n  }\n\n  endPress() {\n    this.waitForFoundation(() => {\n      this.mdcFoundation.deactivate();\n    });\n  }\n\n  startFocus() {\n    this.waitForFoundation(() => {\n      this.mdcFoundation.handleFocus();\n    });\n  }\n\n  endFocus() {\n    this.waitForFoundation(() => {\n      this.mdcFoundation.handleBlur();\n    });\n  }\n\n  startHover() {\n    this.hovering = true;\n  }\n\n  endHover() {\n    this.hovering = false;\n  }\n\n  /**\n   * Wait for the MDCFoundation to be created by `firstUpdated`\n   */\n  protected waitForFoundation(fn: () => void) {\n    if (this.mdcFoundation) {\n      fn();\n    } else {\n      this.updateComplete.then(fn);\n    }\n  }\n\n  protected override update(changedProperties: PropertyValues<this>) {\n    if (changedProperties.has('disabled')) {\n      // stop hovering when ripple is disabled to prevent a stuck \"hover\" state\n      // When re-enabled, the outer component will get a `mouseenter` event on\n      // the first movement, which will call `startHover()`\n      if (this.disabled) {\n        this.endHover();\n      }\n    }\n    super.update(changedProperties);\n  }\n\n  /** @soyTemplate */\n  protected override render(): TemplateResult {\n    const shouldActivateInPrimary =\n        this.activated && (this.primary || !this.accent);\n    const shouldSelectInPrimary =\n        this.selected && (this.primary || !this.accent);\n\n    /** @classMap */\n    const classes = {\n      'mdc-ripple-surface--accent': this.accent,\n      'mdc-ripple-surface--primary--activated': shouldActivateInPrimary,\n      'mdc-ripple-surface--accent--activated': this.accent && this.activated,\n      'mdc-ripple-surface--primary--selected': shouldSelectInPrimary,\n      'mdc-ripple-surface--accent--selected': this.accent && this.selected,\n      'mdc-ripple-surface--disabled': this.disabled,\n      'mdc-ripple-surface--hover': this.hovering,\n      'mdc-ripple-surface--primary': this.primary,\n      'mdc-ripple-surface--selected': this.selected,\n      'mdc-ripple-upgraded--background-focused': this.bgFocused,\n      'mdc-ripple-upgraded--foreground-activation': this.fgActivation,\n      'mdc-ripple-upgraded--foreground-deactivation': this.fgDeactivation,\n      'mdc-ripple-upgraded--unbounded': this.unbounded,\n      'mdc-ripple-surface--internal-use-state-layer-custom-properties':\n          this.internalUseStateLayerCustomProperties,\n    };\n    return html`\n        <div class=\"mdc-ripple-surface mdc-ripple-upgraded ${classMap(classes)}\"\n          style=\"${styleMap({\n      '--mdc-ripple-fg-scale': this.fgScale,\n      '--mdc-ripple-fg-size': this.fgSize,\n      '--mdc-ripple-fg-translate-end': this.translateEnd,\n      '--mdc-ripple-fg-translate-start': this.translateStart,\n      '--mdc-ripple-left': this.leftPos,\n      '--mdc-ripple-top': this.topPos,\n    })}\"></div>`;\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport '@material/mwc-notched-outline';\nimport '@material/mwc-menu';\nimport '@material/mwc-icon/mwc-icon';\n\nimport {KEY, normalizeKey} from '@material/dom/keyboard';\nimport {MDCFloatingLabelFoundation} from '@material/floating-label/foundation';\nimport {MDCLineRippleFoundation} from '@material/line-ripple/foundation';\nimport * as typeahead from '@material/list/typeahead';\nimport {MDCListTextAndIndex} from '@material/list/types';\nimport {addHasRemoveClass, FormElement} from '@material/mwc-base/form-element';\nimport {observer} from '@material/mwc-base/observer';\nimport {isNodeElement} from '@material/mwc-base/utils';\nimport {floatingLabel, FloatingLabel} from '@material/mwc-floating-label';\nimport {lineRipple, LineRipple} from '@material/mwc-line-ripple';\nimport {ListItemBase} from '@material/mwc-list/mwc-list-item-base';\nimport {Menu} from '@material/mwc-menu';\nimport {NotchedOutline} from '@material/mwc-notched-outline';\nimport {MDCSelectAdapter} from '@material/select/adapter';\nimport MDCSelectFoundation from '@material/select/foundation';\nimport {html, nothing} from 'lit';\nimport {eventOptions, property, query, state} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\n\n// must be done to get past lit-analyzer checks\ndeclare global {\n  interface Element {\n    floatingLabelFoundation?: MDCFloatingLabelFoundation;\n    lineRippleFoundation?: MDCLineRippleFoundation;\n  }\n}\n\ntype CustomValidityState = {\n  -readonly[P in keyof ValidityState]: ValidityState[P]\n};\n\nconst createValidityObj =\n    (customValidity: Partial<ValidityState> = {}): ValidityState => {\n      /*\n       * We need to make ValidityState an object because it is readonly and\n       * we cannot use the spread operator. Also, we don't export\n       * `CustomValidityState` because it is a leaky implementation and the user\n       * already has access to `ValidityState` in lib.dom.ts. Also an interface\n       * {a: Type} can be casted to {readonly a: Type} so passing any object\n       * should be fine.\n       */\n      const objectifiedCustomValidity: Partial<CustomValidityState> = {};\n\n      // eslint-disable-next-line guard-for-in\n      for (const propName in customValidity) {\n        /*\n         * Casting is needed because ValidityState's props are all readonly and\n         * thus cannot be set on `onjectifiedCustomValidity`. In the end, the\n         * interface is the same as ValidityState (but not readonly), but the\n         * function signature casts the output to ValidityState (thus readonly).\n         */\n        objectifiedCustomValidity[propName as keyof CustomValidityState] =\n            customValidity[propName as keyof ValidityState];\n      }\n\n      return {\n        badInput: false,\n        customError: false,\n        patternMismatch: false,\n        rangeOverflow: false,\n        rangeUnderflow: false,\n        stepMismatch: false,\n        tooLong: false,\n        tooShort: false,\n        typeMismatch: false,\n        valid: true,\n        valueMissing: false,\n        ...objectifiedCustomValidity\n      };\n    };\n\n/**\n * @fires selected {SelectedDetail}\n * @fires action {ActionDetail}\n * @fires opened\n * @fires closed\n * @fires change\n * @fires invalid\n */\nexport abstract class SelectBase extends FormElement {\n  protected mdcFoundation!: MDCSelectFoundation;\n\n  protected readonly mdcFoundationClass = MDCSelectFoundation;\n\n  @query('.mdc-select') protected mdcRoot!: HTMLElement;\n\n  @query('.formElement') protected formElement!: HTMLInputElement;\n\n  @query('slot') protected slotElement!: HTMLSlotElement|null;\n\n  @query('select') protected nativeSelectElement!: HTMLSelectElement|null;\n\n  @query('input') protected nativeInputElement!: HTMLInputElement|null;\n\n  @query('.mdc-line-ripple') protected lineRippleElement!: LineRipple|null;\n\n  @query('.mdc-floating-label') protected labelElement!: FloatingLabel|null;\n\n  @query('mwc-notched-outline') protected outlineElement!: NotchedOutline|null;\n\n  @query('.mdc-menu') protected menuElement!: Menu|null;\n\n  @query('.mdc-select__anchor') protected anchorElement!: HTMLDivElement|null;\n\n  @property({type: Boolean, attribute: 'disabled', reflect: true})\n  @observer(function(this: SelectBase, value: boolean) {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.setDisabled(value);\n    }\n  })\n  override disabled = false;\n\n  @property({type: Boolean})\n  @observer(function(this: SelectBase, _newVal: boolean, oldVal: boolean) {\n    if (oldVal !== undefined && this.outlined !== oldVal) {\n      this.layout(false);\n    }\n  })\n  outlined = false;\n\n  @property({type: String})\n  @observer(function(this: SelectBase, _newVal: string, oldVal: string) {\n    if (oldVal !== undefined && this.label !== oldVal) {\n      this.layout(false);\n    }\n  })\n  label = '';\n\n  @state() protected outlineOpen = false;\n\n  @state() protected outlineWidth = 0;\n\n  @property({type: String})\n  @observer(function(this: SelectBase, value: string) {\n    if (this.mdcFoundation) {\n      const initialization = this.selected === null && !!value;\n      const valueSetByUser = this.selected && this.selected.value !== value;\n\n      if (initialization || valueSetByUser) {\n        this.selectByValue(value);\n      }\n      this.reportValidity();\n    }\n  })\n  value = '';\n\n  @property() name = '';\n\n  @state() protected selectedText = '';\n\n  @property({type: String}) icon = '';\n\n  @state() protected menuOpen = false;\n\n  @property({type: String}) helper = '';\n\n  @property({type: Boolean}) validateOnInitialRender = false;\n\n  @property({type: String}) validationMessage = '';\n\n  @property({type: Boolean}) required = false;\n\n  @property({type: Boolean}) naturalMenuWidth = false;\n\n  @state() protected isUiValid = true;\n\n  @property({type: Boolean}) fixedMenuPosition = false;\n\n  // Transiently holds current typeahead prefix from user.\n  protected typeaheadState = typeahead.initState();\n  protected sortedIndexByFirstChar = new Map<string, MDCListTextAndIndex[]>();\n\n  protected menuElement_: Menu|null = null;\n\n  get items(): ListItemBase[] {\n    // memoize menuElement to prevent unnecessary querySelector calls.\n    if (!this.menuElement_) {\n      this.menuElement_ = this.menuElement;\n    }\n\n    if (this.menuElement_) {\n      return this.menuElement_.items;\n    }\n\n    return [];\n  }\n\n  get selected(): ListItemBase|null {\n    const menuElement = this.menuElement;\n    if (menuElement) {\n      return menuElement.selected as ListItemBase | null;\n    }\n\n    return null;\n  }\n\n  get index(): number {\n    const menuElement = this.menuElement;\n    if (menuElement) {\n      return menuElement.index as number;\n    }\n\n    return -1;\n  }\n\n  protected listeners: ({\n    target: Element;\n    name: string;\n    cb: EventListenerOrEventListenerObject;\n  })[] = [];\n  protected onBodyClickBound: (evt: MouseEvent) => void = () => undefined;\n  protected _menuUpdateComplete: null|Promise<unknown> = null;\n  protected get shouldRenderHelperText(): boolean {\n    return !!this.helper || !!this.validationMessage;\n  }\n\n  protected valueSetDirectly = false;\n\n  validityTransform:\n      ((value: string,\n        nativeValidity: ValidityState) => Partial<ValidityState>)|null = null;\n\n  protected _validity: ValidityState = createValidityObj();\n\n  get validity(): ValidityState {\n    this._checkValidity(this.value);\n\n    return this._validity;\n  }\n\n  override render() {\n    const classes = {\n      'mdc-select--disabled': this.disabled,\n      'mdc-select--no-label': !this.label,\n      'mdc-select--filled': !this.outlined,\n      'mdc-select--outlined': this.outlined,\n      'mdc-select--with-leading-icon': !!this.icon,\n      'mdc-select--required': this.required,\n      'mdc-select--invalid': !this.isUiValid,\n    };\n\n    const menuClasses = {\n      'mdc-select__menu--invalid': !this.isUiValid,\n    };\n\n    const labelledby = !!this.label ? 'label' : undefined;\n    const describedby = this.shouldRenderHelperText ? 'helper-text' : undefined;\n\n    return html`\n      <div\n          class=\"mdc-select ${classMap(classes)}\">\n        <input\n            class=\"formElement\"\n            name=\"${this.name}\"\n            .value=\"${this.value}\"\n            hidden\n            ?disabled=\"${this.disabled}\"\n            ?required=${this.required}>\n        <!-- @ts-ignore -->\n        <div class=\"mdc-select__anchor\"\n            aria-autocomplete=\"none\"\n            role=\"combobox\"\n            aria-expanded=${this.menuOpen}\n            aria-invalid=${!this.isUiValid}\n            aria-haspopup=\"listbox\"\n            aria-labelledby=${ifDefined(labelledby)}\n            aria-required=${this.required}\n            aria-describedby=${ifDefined(describedby)}\n            @click=${this.onClick}\n            @focus=${this.onFocus}\n            @blur=${this.onBlur}\n            @keydown=${this.onKeydown}>\n          ${this.renderRipple()}\n          ${this.outlined ? this.renderOutline() : this.renderLabel()}\n          ${this.renderLeadingIcon()}\n          <span class=\"mdc-select__selected-text-container\">\n            <span class=\"mdc-select__selected-text\">${this.selectedText}</span>\n          </span>\n          <span class=\"mdc-select__dropdown-icon\">\n            <svg\n                class=\"mdc-select__dropdown-icon-graphic\"\n                viewBox=\"7 10 10 5\"\n                focusable=\"false\">\n              <polygon\n                  class=\"mdc-select__dropdown-icon-inactive\"\n                  stroke=\"none\"\n                  fill-rule=\"evenodd\"\n                  points=\"7 10 12 15 17 10\">\n              </polygon>\n              <polygon\n                  class=\"mdc-select__dropdown-icon-active\"\n                  stroke=\"none\"\n                  fill-rule=\"evenodd\"\n                  points=\"7 15 12 10 17 15\">\n              </polygon>\n            </svg>\n          </span>\n          ${this.renderLineRipple()}\n        </div>\n        <mwc-menu\n            innerRole=\"listbox\"\n            wrapFocus\n            class=\"mdc-select__menu mdc-menu mdc-menu-surface ${\n        classMap(menuClasses)}\"\n            activatable\n            .fullwidth=${\n        this.fixedMenuPosition ? false : !this.naturalMenuWidth}\n            .open=${this.menuOpen}\n            .anchor=${this.anchorElement}\n            .fixed=${this.fixedMenuPosition}\n            @selected=${this.onSelected}\n            @opened=${this.onOpened}\n            @closed=${this.onClosed}\n            @items-updated=${this.onItemsUpdated}\n            @keydown=${this.handleTypeahead}>\n          <slot></slot>\n        </mwc-menu>\n      </div>\n      ${this.renderHelperText()}`;\n  }\n\n  protected renderRipple() {\n    if (this.outlined) {\n      return nothing;\n    }\n\n    return html`\n      <span class=\"mdc-select__ripple\"></span>\n    `;\n  }\n\n  protected renderOutline() {\n    if (!this.outlined) {\n      return nothing;\n    }\n\n    return html`\n      <mwc-notched-outline\n          .width=${this.outlineWidth}\n          .open=${this.outlineOpen}\n          class=\"mdc-notched-outline\">\n        ${this.renderLabel()}\n      </mwc-notched-outline>`;\n  }\n\n  protected renderLabel() {\n    if (!this.label) {\n      return nothing;\n    }\n\n    return html`\n      <span\n          .floatingLabelFoundation=${\n        floatingLabel(this.label) as unknown as MDCFloatingLabelFoundation}\n          id=\"label\">${this.label}</span>\n    `;\n  }\n\n  protected renderLeadingIcon() {\n    if (!this.icon) {\n      return nothing;\n    }\n\n    return html`<mwc-icon class=\"mdc-select__icon\"><div>${\n        this.icon}</div></mwc-icon>`;\n  }\n\n  protected renderLineRipple() {\n    if (this.outlined) {\n      return nothing;\n    }\n\n    return html`\n      <span .lineRippleFoundation=${\n        lineRipple() as unknown as MDCLineRippleFoundation}></span>\n    `;\n  }\n\n  protected renderHelperText() {\n    if (!this.shouldRenderHelperText) {\n      return nothing;\n    }\n\n    const showValidationMessage = this.validationMessage && !this.isUiValid;\n    const classes = {\n      'mdc-select-helper-text--validation-msg': showValidationMessage,\n    };\n\n    return html`\n        <p\n          class=\"mdc-select-helper-text ${classMap(classes)}\"\n          id=\"helper-text\">${\n        showValidationMessage ? this.validationMessage : this.helper}</p>`;\n  }\n\n  protected createAdapter(): MDCSelectAdapter {\n    return {\n      ...addHasRemoveClass(this.mdcRoot),\n      activateBottomLine: () => {\n        if (this.lineRippleElement) {\n          this.lineRippleElement.lineRippleFoundation.activate();\n        }\n      },\n      deactivateBottomLine: () => {\n        if (this.lineRippleElement) {\n          this.lineRippleElement.lineRippleFoundation.deactivate();\n        }\n      },\n      hasLabel: () => {\n        return !!this.label;\n      },\n      floatLabel: (shouldFloat) => {\n        if (this.labelElement) {\n          this.labelElement.floatingLabelFoundation.float(shouldFloat);\n        }\n      },\n      getLabelWidth: () => {\n        if (this.labelElement) {\n          return this.labelElement.floatingLabelFoundation.getWidth();\n        }\n\n        return 0;\n      },\n      setLabelRequired: (isRequired) => {\n        if (this.labelElement) {\n          this.labelElement.floatingLabelFoundation.setRequired(isRequired);\n        }\n      },\n      hasOutline: () => this.outlined,\n      notchOutline: (labelWidth) => {\n        const outlineElement = this.outlineElement;\n        if (outlineElement && !this.outlineOpen) {\n          this.outlineWidth = labelWidth;\n          this.outlineOpen = true;\n        }\n      },\n      closeOutline: () => {\n        if (this.outlineElement) {\n          this.outlineOpen = false;\n        }\n      },\n      setRippleCenter: (normalizedX) => {\n        if (this.lineRippleElement) {\n          const foundation = this.lineRippleElement.lineRippleFoundation;\n          foundation.setRippleCenter(normalizedX);\n        }\n      },\n      notifyChange: async (value) => {\n        if (!this.valueSetDirectly && value === this.value) {\n          return;\n        }\n\n        this.valueSetDirectly = false;\n        this.value = value;\n        await this.updateComplete;\n        const ev = new Event('change', {bubbles: true});\n        this.dispatchEvent(ev);\n      },\n      setSelectedText: (value) => this.selectedText = value,\n      isSelectAnchorFocused: () => {\n        const selectAnchorElement = this.anchorElement;\n\n        if (!selectAnchorElement) {\n          return false;\n        }\n\n        const rootNode =\n            selectAnchorElement.getRootNode() as ShadowRoot | Document;\n\n        return rootNode.activeElement === selectAnchorElement;\n      },\n      getSelectAnchorAttr: (attr) => {\n        const selectAnchorElement = this.anchorElement;\n\n        if (!selectAnchorElement) {\n          return null;\n        }\n\n        return selectAnchorElement.getAttribute(attr);\n      },\n      setSelectAnchorAttr: (attr, value) => {\n        const selectAnchorElement = this.anchorElement;\n\n        if (!selectAnchorElement) {\n          return;\n        }\n\n        selectAnchorElement.setAttribute(attr, value);\n      },\n      removeSelectAnchorAttr: (attr) => {\n        const selectAnchorElement = this.anchorElement;\n\n        if (!selectAnchorElement) {\n          return;\n        }\n\n        selectAnchorElement.removeAttribute(attr);\n      },\n      openMenu: () => {\n        this.menuOpen = true;\n      },\n      closeMenu: () => {\n        this.menuOpen = false;\n      },\n      addMenuClass: () => undefined,\n      removeMenuClass: () => undefined,\n      getAnchorElement: () => this.anchorElement,\n      setMenuAnchorElement: () => {\n        /* Handled by anchor directive */\n      },\n      setMenuAnchorCorner: () => {\n        const menuElement = this.menuElement;\n        if (menuElement) {\n          menuElement.corner = 'BOTTOM_START';\n        }\n      },\n      setMenuWrapFocus: (wrapFocus) => {\n        const menuElement = this.menuElement;\n        if (menuElement) {\n          menuElement.wrapFocus = wrapFocus;\n        }\n      },\n      focusMenuItemAtIndex: (index) => {\n        const menuElement = this.menuElement;\n        if (!menuElement) {\n          return;\n        }\n\n        const element = menuElement.items[index];\n\n        if (!element) {\n          return;\n        }\n\n        (element as HTMLElement).focus();\n      },\n      getMenuItemCount: () => {\n        const menuElement = this.menuElement;\n\n        if (menuElement) {\n          return menuElement.items.length;\n        }\n\n        return 0;\n      },\n      getMenuItemValues: () => {\n        const menuElement = this.menuElement;\n\n        if (!menuElement) {\n          return [];\n        }\n\n        const items = menuElement.items;\n\n        return items.map((item) => item.value);\n      },\n      getMenuItemTextAtIndex: (index) => {\n        const menuElement = this.menuElement;\n        if (!menuElement) {\n          return '';\n        }\n\n        const element = menuElement.items[index];\n\n        if (!element) {\n          return '';\n        }\n\n        return element.text;\n      },\n      getSelectedIndex: () => this.index,\n      setSelectedIndex: () => undefined,\n      isTypeaheadInProgress: () =>\n          typeahead.isTypingInProgress(this.typeaheadState),\n      typeaheadMatchItem: (nextChar, startingIndex) => {\n        if (!this.menuElement) {\n          return -1;\n        }\n\n        const opts: typeahead.TypeaheadMatchItemOpts = {\n          focusItemAtIndex: (index) => {\n            this.menuElement!.focusItemAtIndex(index);\n          },\n          focusedItemIndex: startingIndex ?\n              startingIndex :\n              this.menuElement.getFocusedItemIndex(),\n          nextChar,\n          sortedIndexByFirstChar: this.sortedIndexByFirstChar,\n          skipFocus: false,\n          isItemAtIndexDisabled: (index) => this.items[index].disabled,\n        };\n\n        const index = typeahead.matchItem(opts, this.typeaheadState);\n\n        if (index !== -1) {\n          this.select(index);\n        }\n\n        return index;\n      },\n    };\n  }\n\n  checkValidity(): boolean {\n    const isValid = this._checkValidity(this.value);\n\n    if (!isValid) {\n      const invalidEvent =\n          new Event('invalid', {bubbles: false, cancelable: true});\n      this.dispatchEvent(invalidEvent);\n    }\n\n    return isValid;\n  }\n\n  reportValidity(): boolean {\n    const isValid = this.checkValidity();\n\n    this.isUiValid = isValid;\n\n    return isValid;\n  }\n\n  protected _checkValidity(value: string) {\n    const nativeValidity = this.formElement.validity;\n\n    let validity = createValidityObj(nativeValidity);\n\n    if (this.validityTransform) {\n      const customValidity = this.validityTransform(value, validity);\n      validity = {...validity, ...customValidity};\n    }\n\n    this._validity = validity;\n\n    return this._validity.valid;\n  }\n\n  setCustomValidity(message: string) {\n    this.validationMessage = message;\n    this.formElement.setCustomValidity(message);\n  }\n\n  // tslint:disable:ban-ts-ignore\n  protected override async getUpdateComplete() {\n    await this._menuUpdateComplete;\n    // @ts-ignore\n    const result = await super.getUpdateComplete();\n    return result;\n  }\n  // tslint:enable:ban-ts-ignore\n\n  protected override async firstUpdated() {\n    const menuElement = this.menuElement;\n\n    if (menuElement) {\n      this._menuUpdateComplete = menuElement.updateComplete;\n      await this._menuUpdateComplete;\n    }\n\n    super.firstUpdated();\n\n    this.mdcFoundation.isValid = () => true;\n    this.mdcFoundation.setValid = () => undefined;\n    this.mdcFoundation.setDisabled(this.disabled);\n\n    if (this.validateOnInitialRender) {\n      this.reportValidity();\n    }\n\n    // Select an option based on init value\n    if (!this.selected) {\n      if (!this.items.length && this.slotElement &&\n          this.slotElement.assignedNodes({flatten: true}).length) {\n        // Shady DOM initial render fix\n        await new Promise((res) => requestAnimationFrame(res));\n        await this.layout();\n      }\n\n      const hasEmptyFirstOption =\n          this.items.length && this.items[0].value === '';\n      if (!this.value && hasEmptyFirstOption) {\n        this.select(0);\n        return;\n      }\n\n      this.selectByValue(this.value);\n    }\n\n    this.sortedIndexByFirstChar = typeahead.initSortedIndex(\n        this.items.length, (index) => this.items[index].text);\n  }\n\n  protected onItemsUpdated() {\n    this.sortedIndexByFirstChar = typeahead.initSortedIndex(\n        this.items.length, (index) => this.items[index].text);\n  }\n\n  select(index: number) {\n    const menuElement = this.menuElement;\n\n    if (menuElement) {\n      menuElement.select(index);\n    }\n  }\n\n  protected selectByValue(value: string) {\n    let indexToSelect = -1;\n    for (let i = 0; i < this.items.length; i++) {\n      const item = this.items[i];\n      if (item.value === value) {\n        indexToSelect = i;\n        break;\n      }\n    }\n    this.valueSetDirectly = true;\n    this.select(indexToSelect);\n    this.mdcFoundation.handleChange();\n  }\n\n  override disconnectedCallback() {\n    super.disconnectedCallback();\n\n    for (const listener of this.listeners) {\n      listener.target.removeEventListener(listener.name, listener.cb);\n    }\n  }\n\n  override focus() {\n    const focusEvt = new CustomEvent('focus');\n    const selectAnchorElement = this.anchorElement;\n\n    if (selectAnchorElement) {\n      selectAnchorElement.dispatchEvent(focusEvt);\n      selectAnchorElement.focus();\n    }\n  }\n\n  override blur() {\n    const focusEvt = new CustomEvent('blur');\n    const selectAnchorElement = this.anchorElement;\n\n    if (selectAnchorElement) {\n      selectAnchorElement.dispatchEvent(focusEvt);\n      selectAnchorElement.blur();\n    }\n  }\n\n  protected onFocus() {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.handleFocus();\n    }\n  }\n\n  protected onBlur() {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.handleBlur();\n    }\n\n    const menuElement = this.menuElement;\n\n    if (menuElement && !menuElement.open) {\n      this.reportValidity();\n    }\n  }\n\n  protected onClick(evt: MouseEvent|TouchEvent) {\n    if (this.mdcFoundation) {\n      this.focus();\n      const targetClientRect = (evt.target as Element).getBoundingClientRect();\n      let xCoord = 0;\n\n      if ('touches' in evt) {\n        xCoord = evt.touches[0].clientX;\n      } else {\n        xCoord = evt.clientX;\n      }\n\n      const normalizedX = xCoord - targetClientRect.left;\n      this.mdcFoundation.handleClick(normalizedX);\n    }\n  }\n\n  protected onKeydown(evt: KeyboardEvent) {\n    const arrowUp = normalizeKey(evt) === KEY.ARROW_UP;\n    const arrowDown = normalizeKey(evt) === KEY.ARROW_DOWN;\n\n    if (arrowDown || arrowUp) {\n      const shouldSelectNextItem = arrowUp && this.index > 0;\n      const shouldSelectPrevItem =\n          arrowDown && this.index < this.items.length - 1;\n\n      if (shouldSelectNextItem) {\n        this.select(this.index - 1);\n      } else if (shouldSelectPrevItem) {\n        this.select(this.index + 1);\n      }\n      evt.preventDefault();\n\n      this.mdcFoundation.openMenu();\n      return;\n    }\n\n    this.mdcFoundation.handleKeydown(evt);\n  }\n\n  // must capture to run before list foundation captures event\n  @eventOptions({capture: true})\n  protected handleTypeahead(event: KeyboardEvent) {\n    if (!this.menuElement) {\n      return;\n    }\n\n    const focusedItemIndex = this.menuElement.getFocusedItemIndex();\n    const target = isNodeElement(event.target as Node) ?\n        event.target as HTMLElement :\n        null;\n    const isTargetListItem =\n        target ? target.hasAttribute('mwc-list-item') : false;\n\n    const opts: typeahead.HandleKeydownOpts = {\n      event,\n      focusItemAtIndex: (index) => {\n        this.menuElement!.focusItemAtIndex(index);\n      },\n      focusedItemIndex,\n      isTargetListItem,\n      sortedIndexByFirstChar: this.sortedIndexByFirstChar,\n      isItemAtIndexDisabled: (index) => this.items[index].disabled,\n    };\n\n    typeahead.handleKeydown(opts, this.typeaheadState);\n  }\n\n  protected async onSelected(event: CustomEvent<{index: number}>) {\n    if (!this.mdcFoundation) {\n      await this.updateComplete;\n    }\n\n    this.mdcFoundation.handleMenuItemAction(event.detail.index);\n    const item = this.items[event.detail.index];\n    if (item) {\n      this.value = item.value;\n    }\n  }\n\n  protected onOpened() {\n    if (this.mdcFoundation) {\n      this.menuOpen = true;\n      this.mdcFoundation.handleMenuOpened();\n    }\n  }\n\n  protected onClosed() {\n    if (this.mdcFoundation) {\n      this.menuOpen = false;\n      this.mdcFoundation.handleMenuClosed();\n    }\n  }\n\n  protected setFormData(formData: FormData) {\n    if (this.name && this.selected !== null) {\n      formData.append(this.name, this.value);\n    }\n  }\n\n  async layout(updateItems = true) {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.layout();\n    }\n\n    await this.updateComplete;\n\n    const menuElement = this.menuElement;\n\n    if (menuElement) {\n      menuElement.layout(updateItems);\n    }\n\n    const labelElement = this.labelElement;\n\n    if (!labelElement) {\n      this.outlineOpen = false;\n      return;\n    }\n\n    const shouldFloat = !!this.label && !!this.value;\n    labelElement.floatingLabelFoundation.float(shouldFloat);\n\n    if (!this.outlined) {\n      return;\n    }\n\n    this.outlineOpen = shouldFloat;\n    await this.updateComplete;\n\n    /* When the textfield automatically notches due to a value and label\n     * being defined, the textfield may be set to `display: none` by the user.\n     * this means that the notch is of size 0px. We provide this function so\n     * that the user may manually resize the notch to the floated label's\n     * width.\n     */\n    const labelWidth = labelElement.floatingLabelFoundation.getWidth();\n    if (this.outlineOpen) {\n      this.outlineWidth = labelWidth;\n    }\n  }\n\n  async layoutOptions() {\n    if (!this.mdcFoundation) {\n      return;\n    }\n\n    this.mdcFoundation.layoutOptions();\n  }\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport '@material/mwc-notched-outline';\n\nimport {MDCFloatingLabelFoundation} from '@material/floating-label/foundation';\nimport {MDCLineRippleFoundation} from '@material/line-ripple/foundation';\nimport {addHasRemoveClass, FormElement} from '@material/mwc-base/form-element';\nimport {observer} from '@material/mwc-base/observer';\nimport {floatingLabel, FloatingLabel} from '@material/mwc-floating-label';\nimport {lineRipple, LineRipple} from '@material/mwc-line-ripple';\nimport {NotchedOutline} from '@material/mwc-notched-outline';\nimport {MDCTextFieldAdapter, MDCTextFieldInputAdapter, MDCTextFieldLabelAdapter, MDCTextFieldLineRippleAdapter, MDCTextFieldOutlineAdapter, MDCTextFieldRootAdapter} from '@material/textfield/adapter';\nimport MDCTextFieldFoundation from '@material/textfield/foundation';\nimport {html, PropertyValues, TemplateResult} from 'lit';\nimport {eventOptions, property, query, state} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\nimport {live} from 'lit/directives/live.js';\n\n// must be done to get past lit-analyzer checks\ndeclare global {\n  interface HTMLElement {\n    floatingLabelFoundation?: MDCFloatingLabelFoundation;\n    lineRippleFoundation?: MDCLineRippleFoundation;\n  }\n  interface Element {\n    floatingLabelFoundation?: MDCFloatingLabelFoundation;\n    lineRippleFoundation?: MDCLineRippleFoundation;\n  }\n}\n\ntype CustomValidityState = {\n  -readonly[P in keyof ValidityState]: ValidityState[P]\n};\n\n\nconst passiveEvents = ['touchstart', 'touchmove', 'scroll', 'mousewheel'];\n\nconst createValidityObj =\n    (customValidity: Partial<ValidityState> = {}): ValidityState => {\n      /*\n       * We need to make ValidityState an object because it is readonly and\n       * we cannot use the spread operator. Also, we don't export\n       * `CustomValidityState` because it is a leaky implementation and the user\n       * already has access to `ValidityState` in lib.dom.ts. Also an interface\n       * {a: Type} can be casted to {readonly a: Type} so passing any object\n       * should be fine.\n       */\n      const objectifiedCustomValidity: Partial<CustomValidityState> = {};\n\n      // eslint-disable-next-line guard-for-in\n      for (const propName in customValidity) {\n        /*\n         * Casting is needed because ValidityState's props are all readonly and\n         * thus cannot be set on `onjectifiedCustomValidity`. In the end, the\n         * interface is the same as ValidityState (but not readonly), but the\n         * function signature casts the output to ValidityState (thus readonly).\n         */\n        objectifiedCustomValidity[propName as keyof CustomValidityState] =\n            customValidity[propName as keyof ValidityState];\n      }\n\n      return {\n        badInput: false,\n        customError: false,\n        patternMismatch: false,\n        rangeOverflow: false,\n        rangeUnderflow: false,\n        stepMismatch: false,\n        tooLong: false,\n        tooShort: false,\n        typeMismatch: false,\n        valid: true,\n        valueMissing: false,\n        ...objectifiedCustomValidity\n      };\n    };\n\n/**\n * This is the enumerated typeof HTMLInputElement.type as declared by\n * lit-analyzer.\n */\nexport type TextFieldType = 'text'|'search'|'tel'|'url'|'email'|'password'|\n    'date'|'month'|'week'|'time'|'datetime-local'|'number'|'color';\n\n/**\n * This is the enumerated typeof HTMLInputElement.inputMode as declared by\n * lit-analyzer.\n */\nexport type TextFieldInputMode =\n    'verbatim'|'latin'|'latin-name'|'latin-prose'|'full-width-latin'|'kana'|\n    'kana-name'|'katakana'|'numeric'|'tel'|'email'|'url';\n\nexport type TextAreaCharCounter = 'external'|'internal';\n\n/** @soyCompatible */\nexport abstract class TextFieldBase extends FormElement {\n  protected mdcFoundation!: MDCTextFieldFoundation;\n\n  protected readonly mdcFoundationClass = MDCTextFieldFoundation;\n\n  @query('.mdc-text-field') protected mdcRoot!: HTMLElement;\n\n  @query('input') protected formElement!: HTMLInputElement;\n\n  @query('.mdc-floating-label') protected labelElement!: FloatingLabel|null;\n\n  @query('.mdc-line-ripple') protected lineRippleElement!: LineRipple|null;\n\n  @query('mwc-notched-outline') protected outlineElement!: NotchedOutline|null;\n\n  @query('.mdc-notched-outline__notch') protected notchElement!: HTMLElement;\n\n  @property({type: String}) value = '';\n\n  @property({type: String}) type: TextFieldType = 'text';\n\n  @property({type: String}) placeholder = '';\n\n  @property({type: String})\n  @observer(function(this: TextFieldBase, _newVal: string, oldVal: string) {\n    if (oldVal !== undefined && this.label !== oldVal) {\n      this.layout();\n    }\n  })\n  label = '';\n\n  @property({type: String}) icon = '';\n\n  @property({type: String}) iconTrailing = '';\n\n  @property({type: Boolean, reflect: true}) override disabled = false;\n\n  @property({type: Boolean}) required = false;\n\n  @property({type: Number}) minLength = -1;\n\n  @property({type: Number}) maxLength = -1;\n\n  @property({type: Boolean, reflect: true})\n  @observer(function(this: TextFieldBase, _newVal: boolean, oldVal: boolean) {\n    if (oldVal !== undefined && this.outlined !== oldVal) {\n      this.layout();\n    }\n  })\n  outlined = false;\n\n  @property({type: String}) helper = '';\n\n  @property({type: Boolean}) validateOnInitialRender = false;\n\n  @property({type: String}) validationMessage = '';\n\n  @property({type: Boolean}) autoValidate = false;\n\n  @property({type: String}) pattern = '';\n\n  @property({type: String}) min: number|string = '';\n\n  @property({type: String}) max: number|string = '';\n\n  /**\n   * step can be a number or the keyword \"any\".\n   *\n   * Use `String` typing to pass down the value as a string and let the native\n   * input cast internally as needed.\n   */\n  @property({type: String}) step: number|'any'|null = null;\n\n  @property({type: Number}) size: number|null = null;\n\n  @property({type: Boolean}) helperPersistent = false;\n\n  @property({type: Boolean}) charCounter: boolean|TextAreaCharCounter = false;\n\n  @property({type: Boolean}) endAligned = false;\n\n  @property({type: String}) override prefix = '';\n\n  @property({type: String}) suffix = '';\n\n  @property({type: String}) name = '';\n\n  // lit-analyzer requires specific string types, but TS does not compile since\n  // base class is unspecific \"string\". It also needs non-null coercion (!)\n  // since we don't want to provide a default value, but the base class is not\n  // typed to allow undefined.\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  @property({type: String}) inputMode!: TextFieldInputMode;\n\n  @property({type: Boolean}) readOnly = false;\n\n  @property({type: String}) override autocapitalize = '';\n\n  @state() protected outlineOpen = false;\n  @state() protected outlineWidth = 0;\n  @state() protected isUiValid = true;\n  @state() protected focused = false;\n\n  protected _validity: ValidityState = createValidityObj();\n\n  get validity(): ValidityState {\n    this._checkValidity(this.value);\n\n    return this._validity;\n  }\n\n  get willValidate(): boolean {\n    return this.formElement.willValidate;\n  }\n\n  get selectionStart(): number|null {\n    return this.formElement.selectionStart;\n  }\n\n  get selectionEnd(): number|null {\n    return this.formElement.selectionEnd;\n  }\n\n  validityTransform:\n      ((value: string,\n        nativeValidity: ValidityState) => Partial<ValidityState>)|null = null;\n\n  override focus() {\n    const focusEvt = new CustomEvent('focus');\n    this.formElement.dispatchEvent(focusEvt);\n    this.formElement.focus();\n  }\n\n  override blur() {\n    const blurEvt = new CustomEvent('blur');\n    this.formElement.dispatchEvent(blurEvt);\n    this.formElement.blur();\n  }\n\n  select() {\n    this.formElement.select();\n  }\n\n  setSelectionRange(\n      selectionStart: number, selectionEnd: number,\n      selectionDirection?: 'forward'|'backward'|'none') {\n    this.formElement.setSelectionRange(\n        selectionStart, selectionEnd, selectionDirection);\n  }\n\n  override update(changedProperties: PropertyValues) {\n    if (changedProperties.has('autoValidate') && this.mdcFoundation) {\n      this.mdcFoundation.setValidateOnValueChange(this.autoValidate);\n    }\n\n    if (changedProperties.has('value') && typeof this.value !== 'string') {\n      this.value = `${this.value}`;\n    }\n\n    super.update(changedProperties);\n  }\n\n  protected setFormData(formData: FormData) {\n    if (this.name) {\n      formData.append(this.name, this.value);\n    }\n  }\n\n  /** @soyTemplate */\n  override render(): TemplateResult {\n    const shouldRenderCharCounter = this.charCounter && this.maxLength !== -1;\n    const shouldRenderHelperText =\n        !!this.helper || !!this.validationMessage || shouldRenderCharCounter;\n\n    /** @classMap */\n    const classes = {\n      'mdc-text-field--disabled': this.disabled,\n      'mdc-text-field--no-label': !this.label,\n      'mdc-text-field--filled': !this.outlined,\n      'mdc-text-field--outlined': this.outlined,\n      'mdc-text-field--with-leading-icon': this.icon,\n      'mdc-text-field--with-trailing-icon': this.iconTrailing,\n      'mdc-text-field--end-aligned': this.endAligned,\n    };\n\n    return html`\n      <label class=\"mdc-text-field ${classMap(classes)}\">\n        ${this.renderRipple()}\n        ${this.outlined ? this.renderOutline() : this.renderLabel()}\n        ${this.renderLeadingIcon()}\n        ${this.renderPrefix()}\n        ${this.renderInput(shouldRenderHelperText)}\n        ${this.renderSuffix()}\n        ${this.renderTrailingIcon()}\n        ${this.renderLineRipple()}\n      </label>\n      ${this.renderHelperText(shouldRenderHelperText, shouldRenderCharCounter)}\n    `;\n  }\n\n  override updated(changedProperties: PropertyValues) {\n    if (changedProperties.has('value') &&\n        changedProperties.get('value') !== undefined) {\n      this.mdcFoundation.setValue(this.value);\n\n      if (this.autoValidate) {\n        this.reportValidity();\n      }\n    }\n  }\n\n  /** @soyTemplate */\n  protected renderRipple(): TemplateResult|string {\n    return this.outlined ? '' : html`\n      <span class=\"mdc-text-field__ripple\"></span>\n    `;\n  }\n\n  /** @soyTemplate */\n  protected renderOutline(): TemplateResult|string {\n    return !this.outlined ? '' : html`\n      <mwc-notched-outline\n          .width=${this.outlineWidth}\n          .open=${this.outlineOpen}\n          class=\"mdc-notched-outline\">\n        ${this.renderLabel()}\n      </mwc-notched-outline>`;\n  }\n\n  /** @soyTemplate */\n  protected renderLabel(): TemplateResult|string {\n    return !this.label ?\n        '' :\n        html`\n      <span\n          .floatingLabelFoundation=${\n            floatingLabel(this.label) as unknown as MDCFloatingLabelFoundation}\n          id=\"label\">${this.label}</span>\n    `;\n  }\n\n  /** @soyTemplate */\n  protected renderLeadingIcon(): TemplateResult|string {\n    return this.icon ? this.renderIcon(this.icon) : '';\n  }\n\n  /** @soyTemplate */\n  protected renderTrailingIcon(): TemplateResult|string {\n    return this.iconTrailing ? this.renderIcon(this.iconTrailing, true) : '';\n  }\n\n  /** @soyTemplate */\n  protected renderIcon(icon: string, isTrailingIcon: boolean = false):\n      TemplateResult {\n    /** @classMap */\n    const classes = {\n      'mdc-text-field__icon--leading': !isTrailingIcon,\n      'mdc-text-field__icon--trailing': isTrailingIcon\n    };\n\n    return html`<i class=\"material-icons mdc-text-field__icon ${\n        classMap(classes)}\">${icon}</i>`;\n  }\n\n  /** @soyTemplate */\n  protected renderPrefix(): TemplateResult|string {\n    return this.prefix ? this.renderAffix(this.prefix) : '';\n  }\n\n  /** @soyTemplate */\n  protected renderSuffix(): TemplateResult|string {\n    return this.suffix ? this.renderAffix(this.suffix, true) : '';\n  }\n\n  /** @soyTemplate */\n  protected renderAffix(content: string, isSuffix: boolean = false):\n      TemplateResult|string {\n    /** @classMap */\n    const classes = {\n      'mdc-text-field__affix--prefix': !isSuffix,\n      'mdc-text-field__affix--suffix': isSuffix\n    };\n\n    return html`<span class=\"mdc-text-field__affix ${classMap(classes)}\">\n        ${content}</span>`;\n  }\n\n  /** @soyTemplate */\n  protected renderInput(shouldRenderHelperText: boolean): TemplateResult {\n    const minOrUndef = this.minLength === -1 ? undefined : this.minLength;\n    const maxOrUndef = this.maxLength === -1 ? undefined : this.maxLength;\n    const autocapitalizeOrUndef = this.autocapitalize ?\n        this.autocapitalize as (\n            'off' | 'none' | 'on' | 'sentences' | 'words' | 'characters') :\n        undefined;\n    const showValidationMessage = this.validationMessage && !this.isUiValid;\n    const ariaLabelledbyOrUndef = !!this.label ? 'label' : undefined;\n    const ariaControlsOrUndef =\n        shouldRenderHelperText ? 'helper-text' : undefined;\n    const ariaDescribedbyOrUndef =\n        this.focused || this.helperPersistent || showValidationMessage ?\n        'helper-text' :\n        undefined;\n    // TODO: live() directive needs casting for lit-analyzer\n    // https://github.com/runem/lit-analyzer/pull/91/files\n    // TODO: lit-analyzer labels min/max as (number|string) instead of string\n    return html`\n      <input\n          aria-labelledby=${ifDefined(ariaLabelledbyOrUndef)}\n          aria-controls=\"${ifDefined(ariaControlsOrUndef)}\"\n          aria-describedby=\"${ifDefined(ariaDescribedbyOrUndef)}\"\n          class=\"mdc-text-field__input\"\n          type=\"${this.type}\"\n          .value=\"${live(this.value) as unknown as string}\"\n          ?disabled=\"${this.disabled}\"\n          placeholder=\"${this.placeholder}\"\n          ?required=\"${this.required}\"\n          ?readonly=\"${this.readOnly}\"\n          minlength=\"${ifDefined(minOrUndef)}\"\n          maxlength=\"${ifDefined(maxOrUndef)}\"\n          pattern=\"${ifDefined(this.pattern ? this.pattern : undefined)}\"\n          min=\"${ifDefined(this.min === '' ? undefined : this.min as number)}\"\n          max=\"${ifDefined(this.max === '' ? undefined : this.max as number)}\"\n          step=\"${\n        ifDefined(this.step === null ? undefined : this.step as number)}\"\n          size=\"${ifDefined(this.size === null ? undefined : this.size)}\"\n          name=\"${ifDefined(this.name === '' ? undefined : this.name)}\"\n          inputmode=\"${ifDefined(this.inputMode)}\"\n          autocapitalize=\"${ifDefined(autocapitalizeOrUndef)}\"\n          @input=\"${this.handleInputChange}\"\n          @focus=\"${this.onInputFocus}\"\n          @blur=\"${this.onInputBlur}\">`;\n  }\n\n  /** @soyTemplate */\n  protected renderLineRipple(): TemplateResult|string {\n    return this.outlined ?\n        '' :\n        html`\n      <span .lineRippleFoundation=${\n            lineRipple() as unknown as MDCLineRippleFoundation}></span>\n    `;\n  }\n\n  /** @soyTemplate */\n  protected renderHelperText(\n      shouldRenderHelperText: boolean,\n      shouldRenderCharCounter: boolean): TemplateResult|string {\n    const showValidationMessage = this.validationMessage && !this.isUiValid;\n    /** @classMap */\n    const classes = {\n      'mdc-text-field-helper-text--persistent': this.helperPersistent,\n      'mdc-text-field-helper-text--validation-msg': showValidationMessage,\n    };\n\n    const ariaHiddenOrUndef =\n        this.focused || this.helperPersistent || showValidationMessage ?\n        undefined :\n        'true';\n    const helperText =\n        showValidationMessage ? this.validationMessage : this.helper;\n    return !shouldRenderHelperText ? '' : html`\n      <div class=\"mdc-text-field-helper-line\">\n        <div id=\"helper-text\"\n             aria-hidden=\"${ifDefined(ariaHiddenOrUndef)}\"\n             class=\"mdc-text-field-helper-text ${classMap(classes)}\"\n             >${helperText}</div>\n        ${this.renderCharCounter(shouldRenderCharCounter)}\n      </div>`;\n  }\n\n  /** @soyTemplate */\n  protected renderCharCounter(shouldRenderCharCounter: boolean): TemplateResult\n      |string {\n    const length = Math.min(this.value.length, this.maxLength);\n    return !shouldRenderCharCounter ? '' : html`\n      <span class=\"mdc-text-field-character-counter\"\n            >${length} / ${this.maxLength}</span>`;\n  }\n\n  protected onInputFocus() {\n    this.focused = true;\n  }\n\n  protected onInputBlur() {\n    this.focused = false;\n    this.reportValidity();\n  }\n\n  checkValidity(): boolean {\n    const isValid = this._checkValidity(this.value);\n\n    if (!isValid) {\n      const invalidEvent =\n          new Event('invalid', {bubbles: false, cancelable: true});\n      this.dispatchEvent(invalidEvent);\n    }\n\n    return isValid;\n  }\n\n  reportValidity(): boolean {\n    const isValid = this.checkValidity();\n\n    this.mdcFoundation.setValid(isValid);\n    this.isUiValid = isValid;\n\n    return isValid;\n  }\n\n  protected _checkValidity(value: string) {\n    const nativeValidity = this.formElement.validity;\n\n    let validity = createValidityObj(nativeValidity);\n\n    if (this.validityTransform) {\n      const customValidity = this.validityTransform(value, validity);\n      validity = {...validity, ...customValidity};\n      this.mdcFoundation.setUseNativeValidation(false);\n    } else {\n      this.mdcFoundation.setUseNativeValidation(true);\n    }\n\n    this._validity = validity;\n\n    return this._validity.valid;\n  }\n\n  setCustomValidity(message: string) {\n    this.validationMessage = message;\n    this.formElement.setCustomValidity(message);\n  }\n\n  @eventOptions({passive: true})\n  protected handleInputChange() {\n    this.value = this.formElement.value;\n  }\n\n\n  protected createAdapter(): MDCTextFieldAdapter {\n    return {\n      ...this.getRootAdapterMethods(),\n      ...this.getInputAdapterMethods(),\n      ...this.getLabelAdapterMethods(),\n      ...this.getLineRippleAdapterMethods(),\n      ...this.getOutlineAdapterMethods(),\n    };\n  }\n\n  protected getRootAdapterMethods(): MDCTextFieldRootAdapter {\n    return {\n      registerTextFieldInteractionHandler: (evtType, handler) =>\n          this.addEventListener(evtType, handler),\n      deregisterTextFieldInteractionHandler: (evtType, handler) =>\n          this.removeEventListener(evtType, handler),\n      registerValidationAttributeChangeHandler: (handler) => {\n        const getAttributesList =\n            (mutationsList: MutationRecord[]): string[] => {\n              return mutationsList.map((mutation) => mutation.attributeName)\n                         .filter((attributeName) => attributeName) as string[];\n            };\n        const observer = new MutationObserver((mutationsList) => {\n          handler(getAttributesList(mutationsList));\n        });\n        const config = {attributes: true};\n        observer.observe(this.formElement, config);\n        return observer;\n      },\n      deregisterValidationAttributeChangeHandler:\n          (observer: MutationObserver) => observer.disconnect(),\n      ...addHasRemoveClass(this.mdcRoot),\n    };\n  }\n\n  protected getInputAdapterMethods(): MDCTextFieldInputAdapter {\n    return {\n      getNativeInput: () => this.formElement,\n      // since HelperTextFoundation is not used, aria-describedby a11y logic\n      // is implemented in render method instead of these adapter methods\n      setInputAttr: () => undefined,\n      removeInputAttr: () => undefined,\n      isFocused: () => this.shadowRoot ?\n          this.shadowRoot.activeElement === this.formElement :\n          false,\n      registerInputInteractionHandler: (evtType, handler) =>\n          this.formElement.addEventListener(\n              evtType, handler, {passive: evtType in passiveEvents}),\n      deregisterInputInteractionHandler: (evtType, handler) =>\n          this.formElement.removeEventListener(evtType, handler),\n    };\n  }\n\n  protected getLabelAdapterMethods(): MDCTextFieldLabelAdapter {\n    return {\n      floatLabel: (shouldFloat: boolean) => this.labelElement &&\n          this.labelElement.floatingLabelFoundation.float(shouldFloat),\n      getLabelWidth: () => {\n        return this.labelElement ?\n            this.labelElement.floatingLabelFoundation.getWidth() :\n            0;\n      },\n      hasLabel: () => Boolean(this.labelElement),\n      shakeLabel: (shouldShake: boolean) => this.labelElement &&\n          this.labelElement.floatingLabelFoundation.shake(shouldShake),\n      setLabelRequired: (isRequired: boolean) => {\n        if (this.labelElement) {\n          this.labelElement.floatingLabelFoundation.setRequired(isRequired);\n        }\n      },\n    };\n  }\n\n  protected getLineRippleAdapterMethods(): MDCTextFieldLineRippleAdapter {\n    return {\n      activateLineRipple: () => {\n        if (this.lineRippleElement) {\n          this.lineRippleElement.lineRippleFoundation.activate();\n        }\n      },\n      deactivateLineRipple: () => {\n        if (this.lineRippleElement) {\n          this.lineRippleElement.lineRippleFoundation.deactivate();\n        }\n      },\n      setLineRippleTransformOrigin: (normalizedX: number) => {\n        if (this.lineRippleElement) {\n          this.lineRippleElement.lineRippleFoundation.setRippleCenter(\n              normalizedX);\n        }\n      },\n    };\n  }\n\n  // tslint:disable:ban-ts-ignore\n  protected override async getUpdateComplete() {\n    // @ts-ignore\n    const result = await super.getUpdateComplete();\n    await this.outlineElement?.updateComplete;\n    return result;\n  }\n  // tslint:enable:ban-ts-ignore\n\n  override firstUpdated() {\n    super.firstUpdated();\n\n    this.mdcFoundation.setValidateOnValueChange(this.autoValidate);\n\n    if (this.validateOnInitialRender) {\n      this.reportValidity();\n    }\n\n    // wait for the outline element to render to update the notch width\n    this.outlineElement?.updateComplete.then(() => {\n      // `foundation.notchOutline()` assumes the label isn't floating and\n      // multiplies by a constant, but the label is already is floating at this\n      // stage, therefore directly set the outline width to the label width\n      this.outlineWidth =\n          this.labelElement?.floatingLabelFoundation.getWidth() || 0;\n    });\n  }\n\n  protected getOutlineAdapterMethods(): MDCTextFieldOutlineAdapter {\n    return {\n      closeOutline: () => this.outlineElement && (this.outlineOpen = false),\n      hasOutline: () => Boolean(this.outlineElement),\n      notchOutline: (labelWidth) => {\n        const outlineElement = this.outlineElement;\n        if (outlineElement && !this.outlineOpen) {\n          this.outlineWidth = labelWidth;\n          this.outlineOpen = true;\n        }\n      }\n    };\n  }\n\n  async layout() {\n    await this.updateComplete;\n\n    const labelElement = this.labelElement;\n\n    if (!labelElement) {\n      this.outlineOpen = false;\n      return;\n    }\n\n    const shouldFloat = !!this.label && !!this.value;\n    labelElement.floatingLabelFoundation.float(shouldFloat);\n\n    if (!this.outlined) {\n      return;\n    }\n\n    this.outlineOpen = shouldFloat;\n    await this.updateComplete;\n\n    /* When the textfield automatically notches due to a value and label\n     * being defined, the textfield may be set to `display: none` by the user.\n     * this means that the notch is of size 0px. We provide this function so\n     * that the user may manually resize the notch to the floated label's\n     * width.\n     */\n    const labelWidth = labelElement.floatingLabelFoundation.getWidth();\n    if (this.outlineOpen) {\n      this.outlineWidth = labelWidth;\n      await this.updateComplete;\n    }\n  }\n}\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\n/**\n`iron-a11y-announcer` is a singleton element that is intended to add a11y\nto features that require on-demand announcement from screen readers. In\norder to make use of the announcer, it is best to request its availability\nin the announcing element.\n\nExample:\n\n    Polymer({\n\n      is: 'x-chatty',\n\n      attached: function() {\n        // This will create the singleton element if it has not\n        // been created yet:\n        Polymer.IronA11yAnnouncer.requestAvailability();\n      }\n    });\n\nAfter the `iron-a11y-announcer` has been made available, elements can\nmake announces by firing bubbling `iron-announce` events.\n\nExample:\n\n    this.fire('iron-announce', {\n      text: 'This is an announcement!'\n    }, { bubbles: true });\n\nNote: announcements are only audible if you have a screen reader enabled.\n\n@group Iron Elements\n@demo demo/index.html\n*/\nexport const IronA11yAnnouncer = Polymer({\n  _template: html`\n    <style>\n      :host {\n        display: inline-block;\n        position: fixed;\n        clip: rect(0px,0px,0px,0px);\n      }\n    </style>\n    <div aria-live$=\"[[mode]]\">[[_text]]</div>\n`,\n\n  is: 'iron-a11y-announcer',\n\n  properties: {\n\n    /**\n     * The value of mode is used to set the `aria-live` attribute\n     * for the element that will be announced. Valid values are: `off`,\n     * `polite` and `assertive`.\n     */\n    mode: {type: String, value: 'polite'},\n\n    _text: {type: String, value: ''}\n  },\n\n  created: function() {\n    if (!IronA11yAnnouncer.instance) {\n      IronA11yAnnouncer.instance = this;\n    }\n\n    document.body.addEventListener(\n        'iron-announce', this._onIronAnnounce.bind(this));\n  },\n\n  /**\n   * Cause a text string to be announced by screen readers.\n   *\n   * @param {string} text The text that should be announced.\n   */\n  announce: function(text) {\n    this._text = '';\n    this.async(function() {\n      this._text = text;\n    }, 100);\n  },\n\n  _onIronAnnounce: function(event) {\n    if (event.detail && event.detail.text) {\n      this.announce(event.detail.text);\n    }\n  }\n});\n\nIronA11yAnnouncer.instance = null;\n\nIronA11yAnnouncer.requestAvailability = function() {\n  if (!IronA11yAnnouncer.instance) {\n    IronA11yAnnouncer.instance = document.createElement('iron-a11y-announcer');\n  }\n\n  document.body.appendChild(IronA11yAnnouncer.instance);\n};\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\n/**\nThe `<iron-flex-layout>` component provides simple ways to use\n[CSS flexible box\nlayout](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Flexible_boxes),\nalso known as flexbox. Note that this is an old element, that was written\nbefore all modern browsers had non-prefixed flex styles. As such, nowadays you\ndon't really need to use this element anymore, and can use CSS flex styles\ndirectly in your code.\n\nThis component provides two different ways to use flexbox:\n\n1. [Layout\nclasses](https://github.com/PolymerElements/iron-flex-layout/tree/master/iron-flex-layout-classes.html).\nThe layout class stylesheet provides a simple set of class-based flexbox rules,\nthat let you specify layout properties directly in markup. You must include this\nfile in every element that needs to use them.\n\n    Sample use:\n\n    ```\n    <custom-element-demo>\n      <template>\n        <script src=\"../webcomponentsjs/webcomponents-lite.js\"></script>\n        <next-code-block></next-code-block>\n      </template>\n    </custom-element-demo>\n    ```\n\n    ```js\n    import {html} from '@polymer/polymer/lib/utils/html-tag.js';\n    import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\n\n    const template = html`\n      <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\"></style>\n      <style>\n        .test { width: 100px; }\n      </style>\n      <div class=\"layout horizontal center-center\">\n        <div class=\"test\">horizontal layout center alignment</div>\n      </div>\n    `;\n    document.body.appendChild(template.content);\n    ```\n\n2. [Custom CSS\nmixins](https://github.com/PolymerElements/iron-flex-layout/blob/master/iron-flex-layout.html).\nThe mixin stylesheet includes custom CSS mixins that can be applied inside a CSS\nrule using the `@apply` function.\n\nPlease note that the old [/deep/ layout\nclasses](https://github.com/PolymerElements/iron-flex-layout/tree/master/classes)\nare deprecated, and should not be used. To continue using layout properties\ndirectly in markup, please switch to using the new `dom-module`-based\n[layout\nclasses](https://github.com/PolymerElements/iron-flex-layout/tree/master/iron-flex-layout-classes.html).\nPlease note that the new version does not use `/deep/`, and therefore requires\nyou to import the `dom-modules` in every element that needs to use them.\n\n@group Iron Elements\n@pseudoElement iron-flex-layout\n@demo demo/index.html\n*/\nconst template = html`\n<custom-style>\n  <style is=\"custom-style\">\n    [hidden] {\n      display: none !important;\n    }\n  </style>\n</custom-style>\n<custom-style>\n  <style is=\"custom-style\">\n    html {\n\n      --layout: {\n        display: -ms-flexbox;\n        display: -webkit-flex;\n        display: flex;\n      };\n\n      --layout-inline: {\n        display: -ms-inline-flexbox;\n        display: -webkit-inline-flex;\n        display: inline-flex;\n      };\n\n      --layout-horizontal: {\n        @apply --layout;\n\n        -ms-flex-direction: row;\n        -webkit-flex-direction: row;\n        flex-direction: row;\n      };\n\n      --layout-horizontal-reverse: {\n        @apply --layout;\n\n        -ms-flex-direction: row-reverse;\n        -webkit-flex-direction: row-reverse;\n        flex-direction: row-reverse;\n      };\n\n      --layout-vertical: {\n        @apply --layout;\n\n        -ms-flex-direction: column;\n        -webkit-flex-direction: column;\n        flex-direction: column;\n      };\n\n      --layout-vertical-reverse: {\n        @apply --layout;\n\n        -ms-flex-direction: column-reverse;\n        -webkit-flex-direction: column-reverse;\n        flex-direction: column-reverse;\n      };\n\n      --layout-wrap: {\n        -ms-flex-wrap: wrap;\n        -webkit-flex-wrap: wrap;\n        flex-wrap: wrap;\n      };\n\n      --layout-wrap-reverse: {\n        -ms-flex-wrap: wrap-reverse;\n        -webkit-flex-wrap: wrap-reverse;\n        flex-wrap: wrap-reverse;\n      };\n\n      --layout-flex-auto: {\n        -ms-flex: 1 1 auto;\n        -webkit-flex: 1 1 auto;\n        flex: 1 1 auto;\n      };\n\n      --layout-flex-none: {\n        -ms-flex: none;\n        -webkit-flex: none;\n        flex: none;\n      };\n\n      --layout-flex: {\n        -ms-flex: 1 1 0.000000001px;\n        -webkit-flex: 1;\n        flex: 1;\n        -webkit-flex-basis: 0.000000001px;\n        flex-basis: 0.000000001px;\n      };\n\n      --layout-flex-2: {\n        -ms-flex: 2;\n        -webkit-flex: 2;\n        flex: 2;\n      };\n\n      --layout-flex-3: {\n        -ms-flex: 3;\n        -webkit-flex: 3;\n        flex: 3;\n      };\n\n      --layout-flex-4: {\n        -ms-flex: 4;\n        -webkit-flex: 4;\n        flex: 4;\n      };\n\n      --layout-flex-5: {\n        -ms-flex: 5;\n        -webkit-flex: 5;\n        flex: 5;\n      };\n\n      --layout-flex-6: {\n        -ms-flex: 6;\n        -webkit-flex: 6;\n        flex: 6;\n      };\n\n      --layout-flex-7: {\n        -ms-flex: 7;\n        -webkit-flex: 7;\n        flex: 7;\n      };\n\n      --layout-flex-8: {\n        -ms-flex: 8;\n        -webkit-flex: 8;\n        flex: 8;\n      };\n\n      --layout-flex-9: {\n        -ms-flex: 9;\n        -webkit-flex: 9;\n        flex: 9;\n      };\n\n      --layout-flex-10: {\n        -ms-flex: 10;\n        -webkit-flex: 10;\n        flex: 10;\n      };\n\n      --layout-flex-11: {\n        -ms-flex: 11;\n        -webkit-flex: 11;\n        flex: 11;\n      };\n\n      --layout-flex-12: {\n        -ms-flex: 12;\n        -webkit-flex: 12;\n        flex: 12;\n      };\n\n      /* alignment in cross axis */\n\n      --layout-start: {\n        -ms-flex-align: start;\n        -webkit-align-items: flex-start;\n        align-items: flex-start;\n      };\n\n      --layout-center: {\n        -ms-flex-align: center;\n        -webkit-align-items: center;\n        align-items: center;\n      };\n\n      --layout-end: {\n        -ms-flex-align: end;\n        -webkit-align-items: flex-end;\n        align-items: flex-end;\n      };\n\n      --layout-baseline: {\n        -ms-flex-align: baseline;\n        -webkit-align-items: baseline;\n        align-items: baseline;\n      };\n\n      /* alignment in main axis */\n\n      --layout-start-justified: {\n        -ms-flex-pack: start;\n        -webkit-justify-content: flex-start;\n        justify-content: flex-start;\n      };\n\n      --layout-center-justified: {\n        -ms-flex-pack: center;\n        -webkit-justify-content: center;\n        justify-content: center;\n      };\n\n      --layout-end-justified: {\n        -ms-flex-pack: end;\n        -webkit-justify-content: flex-end;\n        justify-content: flex-end;\n      };\n\n      --layout-around-justified: {\n        -ms-flex-pack: distribute;\n        -webkit-justify-content: space-around;\n        justify-content: space-around;\n      };\n\n      --layout-justified: {\n        -ms-flex-pack: justify;\n        -webkit-justify-content: space-between;\n        justify-content: space-between;\n      };\n\n      --layout-center-center: {\n        @apply --layout-center;\n        @apply --layout-center-justified;\n      };\n\n      /* self alignment */\n\n      --layout-self-start: {\n        -ms-align-self: flex-start;\n        -webkit-align-self: flex-start;\n        align-self: flex-start;\n      };\n\n      --layout-self-center: {\n        -ms-align-self: center;\n        -webkit-align-self: center;\n        align-self: center;\n      };\n\n      --layout-self-end: {\n        -ms-align-self: flex-end;\n        -webkit-align-self: flex-end;\n        align-self: flex-end;\n      };\n\n      --layout-self-stretch: {\n        -ms-align-self: stretch;\n        -webkit-align-self: stretch;\n        align-self: stretch;\n      };\n\n      --layout-self-baseline: {\n        -ms-align-self: baseline;\n        -webkit-align-self: baseline;\n        align-self: baseline;\n      };\n\n      /* multi-line alignment in main axis */\n\n      --layout-start-aligned: {\n        -ms-flex-line-pack: start;  /* IE10 */\n        -ms-align-content: flex-start;\n        -webkit-align-content: flex-start;\n        align-content: flex-start;\n      };\n\n      --layout-end-aligned: {\n        -ms-flex-line-pack: end;  /* IE10 */\n        -ms-align-content: flex-end;\n        -webkit-align-content: flex-end;\n        align-content: flex-end;\n      };\n\n      --layout-center-aligned: {\n        -ms-flex-line-pack: center;  /* IE10 */\n        -ms-align-content: center;\n        -webkit-align-content: center;\n        align-content: center;\n      };\n\n      --layout-between-aligned: {\n        -ms-flex-line-pack: justify;  /* IE10 */\n        -ms-align-content: space-between;\n        -webkit-align-content: space-between;\n        align-content: space-between;\n      };\n\n      --layout-around-aligned: {\n        -ms-flex-line-pack: distribute;  /* IE10 */\n        -ms-align-content: space-around;\n        -webkit-align-content: space-around;\n        align-content: space-around;\n      };\n\n      /*******************************\n                Other Layout\n      *******************************/\n\n      --layout-block: {\n        display: block;\n      };\n\n      --layout-invisible: {\n        visibility: hidden !important;\n      };\n\n      --layout-relative: {\n        position: relative;\n      };\n\n      --layout-fit: {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n      };\n\n      --layout-scroll: {\n        -webkit-overflow-scrolling: touch;\n        overflow: auto;\n      };\n\n      --layout-fullbleed: {\n        margin: 0;\n        height: 100vh;\n      };\n\n      /* fixed position */\n\n      --layout-fixed-top: {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n      };\n\n      --layout-fixed-right: {\n        position: fixed;\n        top: 0;\n        right: 0;\n        bottom: 0;\n      };\n\n      --layout-fixed-bottom: {\n        position: fixed;\n        right: 0;\n        bottom: 0;\n        left: 0;\n      };\n\n      --layout-fixed-left: {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n      };\n\n    }\n  </style>\n</custom-style>`;\n\ntemplate.setAttribute('style', 'display: none;');\ndocument.head.appendChild(template.content);\n\nvar style = document.createElement('style');\nstyle.textContent = '[hidden] { display: none !important; }';\ndocument.head.appendChild(style);\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\n\nimport {IronMeta} from '@polymer/iron-meta/iron-meta.js';\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {dom} from '@polymer/polymer/lib/legacy/polymer.dom.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\nimport {Base} from '@polymer/polymer/polymer-legacy.js';\n\n/**\n\nThe `iron-icon` element displays an icon. By default an icon renders as a 24px\nsquare.\n\nExample using src:\n\n    <iron-icon src=\"star.png\"></iron-icon>\n\nExample setting size to 32px x 32px:\n\n    <iron-icon class=\"big\" src=\"big_star.png\"></iron-icon>\n\n    <style is=\"custom-style\">\n      .big {\n        --iron-icon-height: 32px;\n        --iron-icon-width: 32px;\n      }\n    </style>\n\nThe iron elements include several sets of icons. To use the default set of\nicons, import `iron-icons.js` and use the `icon` attribute to specify an icon:\n\n    <script type=\"module\">\n      import \"@polymer/iron-icons/iron-icons.js\";\n    </script>\n\n    <iron-icon icon=\"menu\"></iron-icon>\n\nTo use a different built-in set of icons, import the specific\n`iron-icons/<iconset>-icons.js`, and specify the icon as `<iconset>:<icon>`.\nFor example, to use a communication icon, you would use:\n\n    <script type=\"module\">\n      import \"@polymer/iron-icons/communication-icons.js\";\n    </script>\n\n    <iron-icon icon=\"communication:email\"></iron-icon>\n\nYou can also create custom icon sets of bitmap or SVG icons.\n\nExample of using an icon named `cherry` from a custom iconset with the ID\n`fruit`:\n\n    <iron-icon icon=\"fruit:cherry\"></iron-icon>\n\nSee `<iron-iconset>` and `<iron-iconset-svg>` for more information about how to\ncreate a custom iconset.\n\nSee the `iron-icons` demo to see the icons available in the various iconsets.\n\n### Styling\n\nThe following custom properties are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--iron-icon` | Mixin applied to the icon | {}\n`--iron-icon-width` | Width of the icon | `24px`\n`--iron-icon-height` | Height of the icon | `24px`\n`--iron-icon-fill-color` | Fill color of the svg icon | `currentcolor`\n`--iron-icon-stroke-color` | Stroke color of the svg icon | none\n\n@group Iron Elements\n@element iron-icon\n@demo demo/index.html\n@hero hero.svg\n@homepage polymer.github.io\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        @apply --layout-inline;\n        @apply --layout-center-center;\n        position: relative;\n\n        vertical-align: middle;\n\n        fill: var(--iron-icon-fill-color, currentcolor);\n        stroke: var(--iron-icon-stroke-color, none);\n\n        width: var(--iron-icon-width, 24px);\n        height: var(--iron-icon-height, 24px);\n        @apply --iron-icon;\n      }\n\n      :host([hidden]) {\n        display: none;\n      }\n    </style>\n`,\n\n  is: 'iron-icon',\n\n  properties: {\n\n    /**\n     * The name of the icon to use. The name should be of the form:\n     * `iconset_name:icon_name`.\n     */\n    icon: {type: String},\n\n    /**\n     * The name of the theme to used, if one is specified by the\n     * iconset.\n     */\n    theme: {type: String},\n\n    /**\n     * If using iron-icon without an iconset, you can set the src to be\n     * the URL of an individual icon image file. Note that this will take\n     * precedence over a given icon attribute.\n     */\n    src: {type: String},\n\n    /**\n     * @type {!IronMeta}\n     */\n    _meta: {value: Base.create('iron-meta', {type: 'iconset'})}\n\n  },\n\n  observers: [\n    '_updateIcon(_meta, isAttached)',\n    '_updateIcon(theme, isAttached)',\n    '_srcChanged(src, isAttached)',\n    '_iconChanged(icon, isAttached)'\n  ],\n\n  _DEFAULT_ICONSET: 'icons',\n\n  _iconChanged: function(icon) {\n    var parts = (icon || '').split(':');\n    this._iconName = parts.pop();\n    this._iconsetName = parts.pop() || this._DEFAULT_ICONSET;\n    this._updateIcon();\n  },\n\n  _srcChanged: function(src) {\n    this._updateIcon();\n  },\n\n  _usesIconset: function() {\n    return this.icon || !this.src;\n  },\n\n  /** @suppress {visibility} */\n  _updateIcon: function() {\n    if (this._usesIconset()) {\n      if (this._img && this._img.parentNode) {\n        dom(this.root).removeChild(this._img);\n      }\n      if (this._iconName === '') {\n        if (this._iconset) {\n          this._iconset.removeIcon(this);\n        }\n      } else if (this._iconsetName && this._meta) {\n        this._iconset = /** @type {?Polymer.Iconset} */ (\n            this._meta.byKey(this._iconsetName));\n        if (this._iconset) {\n          this._iconset.applyIcon(this, this._iconName, this.theme);\n          this.unlisten(window, 'iron-iconset-added', '_updateIcon');\n        } else {\n          this.listen(window, 'iron-iconset-added', '_updateIcon');\n        }\n      }\n    } else {\n      if (this._iconset) {\n        this._iconset.removeIcon(this);\n      }\n      if (!this._img) {\n        this._img = document.createElement('img');\n        this._img.style.width = '100%';\n        this._img.style.height = '100%';\n        this._img.draggable = false;\n      }\n      this._img.src = this.src;\n      dom(this.root).appendChild(this._img);\n    }\n  }\n});\n","/**\n@license\nCopyright (c) 2014 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport {IronA11yKeysBehavior} from '@polymer/iron-a11y-keys-behavior/iron-a11y-keys-behavior.js';\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {dom} from '@polymer/polymer/lib/legacy/polymer.dom.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\nvar Utility = {\n  distance: function(x1, y1, x2, y2) {\n    var xDelta = (x1 - x2);\n    var yDelta = (y1 - y2);\n\n    return Math.sqrt(xDelta * xDelta + yDelta * yDelta);\n  },\n\n  now: window.performance && window.performance.now ?\n      window.performance.now.bind(window.performance) :\n      Date.now\n};\n\n/**\n * @param {HTMLElement} element\n * @constructor\n */\nfunction ElementMetrics(element) {\n  this.element = element;\n  this.width = this.boundingRect.width;\n  this.height = this.boundingRect.height;\n\n  this.size = Math.max(this.width, this.height);\n}\n\nElementMetrics.prototype = {\n  get boundingRect() {\n    return this.element.getBoundingClientRect();\n  },\n\n  furthestCornerDistanceFrom: function(x, y) {\n    var topLeft = Utility.distance(x, y, 0, 0);\n    var topRight = Utility.distance(x, y, this.width, 0);\n    var bottomLeft = Utility.distance(x, y, 0, this.height);\n    var bottomRight = Utility.distance(x, y, this.width, this.height);\n\n    return Math.max(topLeft, topRight, bottomLeft, bottomRight);\n  }\n};\n\n/**\n * @param {HTMLElement} element\n * @constructor\n */\nfunction Ripple(element) {\n  this.element = element;\n  this.color = window.getComputedStyle(element).color;\n\n  this.wave = document.createElement('div');\n  this.waveContainer = document.createElement('div');\n  this.wave.style.backgroundColor = this.color;\n  this.wave.classList.add('wave');\n  this.waveContainer.classList.add('wave-container');\n  dom(this.waveContainer).appendChild(this.wave);\n\n  this.resetInteractionState();\n}\n\nRipple.MAX_RADIUS = 300;\n\nRipple.prototype = {\n  get recenters() {\n    return this.element.recenters;\n  },\n\n  get center() {\n    return this.element.center;\n  },\n\n  get mouseDownElapsed() {\n    var elapsed;\n\n    if (!this.mouseDownStart) {\n      return 0;\n    }\n\n    elapsed = Utility.now() - this.mouseDownStart;\n\n    if (this.mouseUpStart) {\n      elapsed -= this.mouseUpElapsed;\n    }\n\n    return elapsed;\n  },\n\n  get mouseUpElapsed() {\n    return this.mouseUpStart ? Utility.now() - this.mouseUpStart : 0;\n  },\n\n  get mouseDownElapsedSeconds() {\n    return this.mouseDownElapsed / 1000;\n  },\n\n  get mouseUpElapsedSeconds() {\n    return this.mouseUpElapsed / 1000;\n  },\n\n  get mouseInteractionSeconds() {\n    return this.mouseDownElapsedSeconds + this.mouseUpElapsedSeconds;\n  },\n\n  get initialOpacity() {\n    return this.element.initialOpacity;\n  },\n\n  get opacityDecayVelocity() {\n    return this.element.opacityDecayVelocity;\n  },\n\n  get radius() {\n    var width2 = this.containerMetrics.width * this.containerMetrics.width;\n    var height2 = this.containerMetrics.height * this.containerMetrics.height;\n    var waveRadius =\n        Math.min(Math.sqrt(width2 + height2), Ripple.MAX_RADIUS) * 1.1 + 5;\n\n    var duration = 1.1 - 0.2 * (waveRadius / Ripple.MAX_RADIUS);\n    var timeNow = this.mouseInteractionSeconds / duration;\n    var size = waveRadius * (1 - Math.pow(80, -timeNow));\n\n    return Math.abs(size);\n  },\n\n  get opacity() {\n    if (!this.mouseUpStart) {\n      return this.initialOpacity;\n    }\n\n    return Math.max(\n        0,\n        this.initialOpacity -\n            this.mouseUpElapsedSeconds * this.opacityDecayVelocity);\n  },\n\n  get outerOpacity() {\n    // Linear increase in background opacity, capped at the opacity\n    // of the wavefront (waveOpacity).\n    var outerOpacity = this.mouseUpElapsedSeconds * 0.3;\n    var waveOpacity = this.opacity;\n\n    return Math.max(0, Math.min(outerOpacity, waveOpacity));\n  },\n\n  get isOpacityFullyDecayed() {\n    return this.opacity < 0.01 &&\n        this.radius >= Math.min(this.maxRadius, Ripple.MAX_RADIUS);\n  },\n\n  get isRestingAtMaxRadius() {\n    return this.opacity >= this.initialOpacity &&\n        this.radius >= Math.min(this.maxRadius, Ripple.MAX_RADIUS);\n  },\n\n  get isAnimationComplete() {\n    return this.mouseUpStart ? this.isOpacityFullyDecayed :\n                               this.isRestingAtMaxRadius;\n  },\n\n  get translationFraction() {\n    return Math.min(\n        1, this.radius / this.containerMetrics.size * 2 / Math.sqrt(2));\n  },\n\n  get xNow() {\n    if (this.xEnd) {\n      return this.xStart + this.translationFraction * (this.xEnd - this.xStart);\n    }\n\n    return this.xStart;\n  },\n\n  get yNow() {\n    if (this.yEnd) {\n      return this.yStart + this.translationFraction * (this.yEnd - this.yStart);\n    }\n\n    return this.yStart;\n  },\n\n  get isMouseDown() {\n    return this.mouseDownStart && !this.mouseUpStart;\n  },\n\n  resetInteractionState: function() {\n    this.maxRadius = 0;\n    this.mouseDownStart = 0;\n    this.mouseUpStart = 0;\n\n    this.xStart = 0;\n    this.yStart = 0;\n    this.xEnd = 0;\n    this.yEnd = 0;\n    this.slideDistance = 0;\n\n    this.containerMetrics = new ElementMetrics(this.element);\n  },\n\n  draw: function() {\n    var scale;\n    var dx;\n    var dy;\n\n    this.wave.style.opacity = this.opacity;\n\n    scale = this.radius / (this.containerMetrics.size / 2);\n    dx = this.xNow - (this.containerMetrics.width / 2);\n    dy = this.yNow - (this.containerMetrics.height / 2);\n\n\n    // 2d transform for safari because of border-radius and overflow:hidden\n    // clipping bug. https://bugs.webkit.org/show_bug.cgi?id=98538\n    this.waveContainer.style.webkitTransform =\n        'translate(' + dx + 'px, ' + dy + 'px)';\n    this.waveContainer.style.transform =\n        'translate3d(' + dx + 'px, ' + dy + 'px, 0)';\n    this.wave.style.webkitTransform = 'scale(' + scale + ',' + scale + ')';\n    this.wave.style.transform = 'scale3d(' + scale + ',' + scale + ',1)';\n  },\n\n  /** @param {Event=} event */\n  downAction: function(event) {\n    var xCenter = this.containerMetrics.width / 2;\n    var yCenter = this.containerMetrics.height / 2;\n\n    this.resetInteractionState();\n    this.mouseDownStart = Utility.now();\n\n    if (this.center) {\n      this.xStart = xCenter;\n      this.yStart = yCenter;\n      this.slideDistance =\n          Utility.distance(this.xStart, this.yStart, this.xEnd, this.yEnd);\n    } else {\n      this.xStart = event ?\n          event.detail.x - this.containerMetrics.boundingRect.left :\n          this.containerMetrics.width / 2;\n      this.yStart = event ?\n          event.detail.y - this.containerMetrics.boundingRect.top :\n          this.containerMetrics.height / 2;\n    }\n\n    if (this.recenters) {\n      this.xEnd = xCenter;\n      this.yEnd = yCenter;\n      this.slideDistance =\n          Utility.distance(this.xStart, this.yStart, this.xEnd, this.yEnd);\n    }\n\n    this.maxRadius = this.containerMetrics.furthestCornerDistanceFrom(\n        this.xStart, this.yStart);\n\n    this.waveContainer.style.top =\n        (this.containerMetrics.height - this.containerMetrics.size) / 2 + 'px';\n    this.waveContainer.style.left =\n        (this.containerMetrics.width - this.containerMetrics.size) / 2 + 'px';\n\n    this.waveContainer.style.width = this.containerMetrics.size + 'px';\n    this.waveContainer.style.height = this.containerMetrics.size + 'px';\n  },\n\n  /** @param {Event=} event */\n  upAction: function(event) {\n    if (!this.isMouseDown) {\n      return;\n    }\n\n    this.mouseUpStart = Utility.now();\n  },\n\n  remove: function() {\n    dom(dom(this.waveContainer).parentNode).removeChild(this.waveContainer);\n  }\n};\n\n/**\nMaterial design: [Surface\nreaction](https://www.google.com/design/spec/animation/responsive-interaction.html#responsive-interaction-surface-reaction)\n\n`paper-ripple` provides a visual effect that other paper elements can\nuse to simulate a rippling effect emanating from the point of contact.  The\neffect can be visualized as a concentric circle with motion.\n\nExample:\n\n    <div style=\"position:relative\">\n      <paper-ripple></paper-ripple>\n    </div>\n\nNote, it's important that the parent container of the ripple be relative\nposition, otherwise the ripple will emanate outside of the desired container.\n\n`paper-ripple` listens to \"mousedown\" and \"mouseup\" events so it would display\nripple effect when touches on it.  You can also defeat the default behavior and\nmanually route the down and up actions to the ripple element.  Note that it is\nimportant if you call `downAction()` you will have to make sure to call\n`upAction()` so that `paper-ripple` would end the animation loop.\n\nExample:\n\n    <paper-ripple id=\"ripple\" style=\"pointer-events: none;\"></paper-ripple>\n    ...\n    downAction: function(e) {\n      this.$.ripple.downAction(e.detail);\n    },\n    upAction: function(e) {\n      this.$.ripple.upAction();\n    }\n\nStyling ripple effect:\n\n  Use CSS color property to style the ripple:\n\n    paper-ripple {\n      color: #4285f4;\n    }\n\n  Note that CSS color property is inherited so it is not required to set it on\n  the `paper-ripple` element directly.\n\nBy default, the ripple is centered on the point of contact.  Apply the\n`recenters` attribute to have the ripple grow toward the center of its\ncontainer.\n\n    <paper-ripple recenters></paper-ripple>\n\nYou can also  center the ripple inside its container from the start.\n\n    <paper-ripple center></paper-ripple>\n\nApply `circle` class to make the rippling effect within a circle.\n\n    <paper-ripple class=\"circle\"></paper-ripple>\n\n@element paper-ripple\n@demo demo/index.html\n*/\nPolymer({\n  /** @override */\n  _template: html`\n    <style>\n      :host {\n        display: block;\n        position: absolute;\n        border-radius: inherit;\n        overflow: hidden;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        /* See PolymerElements/paper-behaviors/issues/34. On non-Chrome browsers,\n         * creating a node (with a position:absolute) in the middle of an event\n         * handler \"interrupts\" that event handler (which happens when the\n         * ripple is created on demand) */\n        pointer-events: none;\n      }\n\n      :host([animating]) {\n        /* This resolves a rendering issue in Chrome (as of 40) where the\n           ripple is not properly clipped by its parent (which may have\n           rounded corners). See: http://jsbin.com/temexa/4\n\n           Note: We only apply this style conditionally. Otherwise, the browser\n           will create a new compositing layer for every ripple element on the\n           page, and that would be bad. */\n        -webkit-transform: translate(0, 0);\n        transform: translate3d(0, 0, 0);\n      }\n\n      #background,\n      #waves,\n      .wave-container,\n      .wave {\n        pointer-events: none;\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      }\n\n      #background,\n      .wave {\n        opacity: 0;\n      }\n\n      #waves,\n      .wave {\n        overflow: hidden;\n      }\n\n      .wave-container,\n      .wave {\n        border-radius: 50%;\n      }\n\n      :host(.circle) #background,\n      :host(.circle) #waves {\n        border-radius: 50%;\n      }\n\n      :host(.circle) .wave-container {\n        overflow: hidden;\n      }\n    </style>\n\n    <div id=\"background\"></div>\n    <div id=\"waves\"></div>\n`,\n\n  is: 'paper-ripple',\n  behaviors: [IronA11yKeysBehavior],\n\n  properties: {\n    /**\n     * The initial opacity set on the wave.\n     * @type number\n     * @default 0.25\n     */\n    initialOpacity: {type: Number, value: 0.25},\n\n    /**\n     * How fast (opacity per second) the wave fades out.\n     *\n     * @type number\n     * @default 0.8\n     */\n    opacityDecayVelocity: {type: Number, value: 0.8},\n\n    /**\n     * If true, ripples will exhibit a gravitational pull towards\n     * the center of their container as they fade away.\n     *\n     * @type boolean\n     * @default false\n     */\n    recenters: {type: Boolean, value: false},\n\n    /**\n     * If true, ripples will center inside its container\n     *\n     * @type boolean\n     * @default false\n     */\n    center: {type: Boolean, value: false},\n\n    /**\n     * A list of the visual ripples.\n     *\n     * @type Array\n     * @default []\n     */\n    ripples: {\n      type: Array,\n      value: function() {\n        return [];\n      }\n    },\n\n    /**\n     * True when there are visible ripples animating within the\n     * element.\n     */\n    animating:\n        {type: Boolean, readOnly: true, reflectToAttribute: true, value: false},\n\n    /**\n     * If true, the ripple will remain in the \"down\" state until `holdDown`\n     * is set to false again.\n     */\n    holdDown: {type: Boolean, value: false, observer: '_holdDownChanged'},\n\n    /**\n     * If true, the ripple will not generate a ripple effect\n     * via pointer interaction.\n     * Calling ripple's imperative api like `simulatedRipple` will\n     * still generate the ripple effect.\n     */\n    noink: {type: Boolean, value: false},\n\n    _animating: {type: Boolean},\n\n    _boundAnimate: {\n      type: Function,\n      value: function() {\n        return this.animate.bind(this);\n      }\n    }\n  },\n\n  get target() {\n    return this.keyEventTarget;\n  },\n\n  /**\n   * @type {!Object}\n   */\n  keyBindings: {\n    'enter:keydown': '_onEnterKeydown',\n    'space:keydown': '_onSpaceKeydown',\n    'space:keyup': '_onSpaceKeyup'\n  },\n\n  /** @override */\n  attached: function() {\n    // Set up a11yKeysBehavior to listen to key events on the target,\n    // so that space and enter activate the ripple even if the target doesn't\n    // handle key events. The key handlers deal with `noink` themselves.\n    if (dom(this).parentNode.nodeType == 11) {  // DOCUMENT_FRAGMENT_NODE\n      this.keyEventTarget = dom(this).getOwnerRoot().host;\n    } else {\n      this.keyEventTarget = dom(this).parentNode;\n    }\n    var keyEventTarget = /** @type {!EventTarget} */ (this.keyEventTarget);\n    this.listen(keyEventTarget, 'up', 'uiUpAction');\n    this.listen(keyEventTarget, 'down', 'uiDownAction');\n  },\n\n  /** @override */\n  detached: function() {\n    this.unlisten(this.keyEventTarget, 'up', 'uiUpAction');\n    this.unlisten(this.keyEventTarget, 'down', 'uiDownAction');\n    this.keyEventTarget = null;\n  },\n\n  get shouldKeepAnimating() {\n    for (var index = 0; index < this.ripples.length; ++index) {\n      if (!this.ripples[index].isAnimationComplete) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n  simulatedRipple: function() {\n    this.downAction(null);\n\n    // Please see polymer/polymer#1305\n    this.async(function() {\n      this.upAction();\n    }, 1);\n  },\n\n  /**\n   * Provokes a ripple down effect via a UI event,\n   * respecting the `noink` property.\n   * @param {Event=} event\n   */\n  uiDownAction: function(event) {\n    if (!this.noink) {\n      this.downAction(event);\n    }\n  },\n\n  /**\n   * Provokes a ripple down effect via a UI event,\n   * *not* respecting the `noink` property.\n   * @param {Event=} event\n   */\n  downAction: function(event) {\n    if (this.holdDown && this.ripples.length > 0) {\n      return;\n    }\n\n    var ripple = this.addRipple();\n\n    ripple.downAction(event);\n\n    if (!this._animating) {\n      this._animating = true;\n      this.animate();\n    }\n  },\n\n  /**\n   * Provokes a ripple up effect via a UI event,\n   * respecting the `noink` property.\n   * @param {Event=} event\n   */\n  uiUpAction: function(event) {\n    if (!this.noink) {\n      this.upAction(event);\n    }\n  },\n\n  /**\n   * Provokes a ripple up effect via a UI event,\n   * *not* respecting the `noink` property.\n   * @param {Event=} event\n   */\n  upAction: function(event) {\n    if (this.holdDown) {\n      return;\n    }\n\n    this.ripples.forEach(function(ripple) {\n      ripple.upAction(event);\n    });\n\n    this._animating = true;\n    this.animate();\n  },\n\n  onAnimationComplete: function() {\n    this._animating = false;\n    this.$.background.style.backgroundColor = '';\n    this.fire('transitionend');\n  },\n\n  addRipple: function() {\n    var ripple = new Ripple(this);\n\n    dom(this.$.waves).appendChild(ripple.waveContainer);\n    this.$.background.style.backgroundColor = ripple.color;\n    this.ripples.push(ripple);\n\n    this._setAnimating(true);\n\n    return ripple;\n  },\n\n  removeRipple: function(ripple) {\n    var rippleIndex = this.ripples.indexOf(ripple);\n\n    if (rippleIndex < 0) {\n      return;\n    }\n\n    this.ripples.splice(rippleIndex, 1);\n\n    ripple.remove();\n\n    if (!this.ripples.length) {\n      this._setAnimating(false);\n    }\n  },\n\n  /**\n   * Deprecated. Please use animateRipple() instead.\n   *\n   * This method name conflicts with Element#animate().\n   * https://developer.mozilla.org/en-US/docs/Web/API/Element/animate.\n   *\n   * @suppress {checkTypes}\n   * @override\n   */\n  animate: function() {\n    if (!this._animating) {\n      return;\n    }\n    var index;\n    var ripple;\n\n    for (index = 0; index < this.ripples.length; ++index) {\n      ripple = this.ripples[index];\n\n      ripple.draw();\n\n      this.$.background.style.opacity = ripple.outerOpacity;\n\n      if (ripple.isOpacityFullyDecayed && !ripple.isRestingAtMaxRadius) {\n        this.removeRipple(ripple);\n      }\n    }\n\n    if (!this.shouldKeepAnimating && this.ripples.length === 0) {\n      this.onAnimationComplete();\n    } else {\n      window.requestAnimationFrame(this._boundAnimate);\n    }\n  },\n\n  /**\n   * An alias for animate() whose name does not conflict with the platform\n   * Element.animate() method.\n   */\n  animateRipple: function() {\n    return this.animate();\n  },\n\n  _onEnterKeydown: function() {\n    this.uiDownAction();\n    this.async(this.uiUpAction, 1);\n  },\n\n  _onSpaceKeydown: function() {\n    this.uiDownAction();\n  },\n\n  _onSpaceKeyup: function() {\n    this.uiUpAction();\n  },\n\n  // note: holdDown does not respect noink since it can be a focus based\n  // effect.\n  _holdDownChanged: function(newVal, oldVal) {\n    if (oldVal === undefined) {\n      return;\n    }\n    if (newVal) {\n      this.downAction();\n    } else {\n      this.upAction();\n    }\n  }\n\n  /**\n  Fired when the animation finishes.\n  This is useful if you want to wait until\n  the ripple animation finishes to perform some action.\n\n  @event transitionend\n  @param {{node: Object}} detail Contains the animated node.\n  */\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/paper-styles/typography.js';\n\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\nimport {PaperInputAddonBehavior} from './paper-input-addon-behavior.js';\n\n/*\n`<paper-input-char-counter>` is a character counter for use with\n`<paper-input-container>`. It shows the number of characters entered in the\ninput and the max length if it is specified.\n\n    <paper-input-container>\n      <input maxlength=\"20\">\n      <paper-input-char-counter></paper-input-char-counter>\n    </paper-input-container>\n\n### Styling\n\nThe following mixin is available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-input-char-counter` | Mixin applied to the element | `{}`\n*/\nPolymer({\n  /** @override */\n  _template: html`\n    <style>\n      :host {\n        display: inline-block;\n        float: right;\n\n        @apply --paper-font-caption;\n        @apply --paper-input-char-counter;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      :host(:dir(rtl)) {\n        float: left;\n      }\n    </style>\n\n    <span>[[_charCounterStr]]</span>\n`,\n\n  is: 'paper-input-char-counter',\n  behaviors: [PaperInputAddonBehavior],\n  properties: {_charCounterStr: {type: String, value: '0'}},\n\n  /**\n   * This overrides the update function in PaperInputAddonBehavior.\n   * @param {{\n   *   inputElement: (Element|undefined),\n   *   value: (string|undefined),\n   *   invalid: boolean\n   * }} state -\n   *     inputElement: The input element.\n   *     value: The input value.\n   *     invalid: True if the input value is invalid.\n   */\n  update: function(state) {\n    if (!state.inputElement) {\n      return;\n    }\n\n    state.value = state.value || '';\n\n    var counter = state.value.toString().length.toString();\n\n    if (state.inputElement.hasAttribute('maxlength')) {\n      counter += '/' + state.inputElement.getAttribute('maxlength');\n    }\n\n    this._charCounterStr = counter;\n  }\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport '@polymer/paper-styles/typography.js';\n\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {dom} from '@polymer/polymer/lib/legacy/polymer.dom.js';\nimport {dashToCamelCase} from '@polymer/polymer/lib/utils/case-map.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\nconst template = html`\n<custom-style>\n  <style is=\"custom-style\">\n    html {\n      --paper-input-container-shared-input-style: {\n        position: relative; /* to make a stacking context */\n        outline: none;\n        box-shadow: none;\n        padding: 0;\n        margin: 0;\n        width: 100%;\n        max-width: 100%;\n        background: transparent;\n        border: none;\n        color: var(--paper-input-container-input-color, var(--primary-text-color));\n        -webkit-appearance: none;\n        text-align: inherit;\n        vertical-align: var(--paper-input-container-input-align, bottom);\n\n        @apply --paper-font-subhead;\n      };\n    }\n  </style>\n</custom-style>\n`;\ntemplate.setAttribute('style', 'display: none;');\ndocument.head.appendChild(template.content);\n\n/*\n`<paper-input-container>` is a container for a `<label>`, an `<iron-input>` or\n`<textarea>` and optional add-on elements such as an error message or character\ncounter, used to implement Material Design text fields.\n\nFor example:\n\n    <paper-input-container>\n      <label slot=\"label\">Your name</label>\n      <iron-input slot=\"input\">\n        <input>\n      </iron-input>\n      // In Polymer 1.0, you would use `<input is=\"iron-input\" slot=\"input\">`\ninstead of the above.\n    </paper-input-container>\n\nYou can style the nested `<input>` however you want; if you want it to look like\na Material Design input, you can style it with the\n--paper-input-container-shared-input-style mixin.\n\nDo not wrap `<paper-input-container>` around elements that already include it,\nsuch as `<paper-input>`. Doing so may cause events to bounce infinitely between\nthe container and its contained element.\n\n### Listening for input changes\n\nBy default, it listens for changes on the `bind-value` attribute on its children\nnodes and perform tasks such as auto-validating and label styling when the\n`bind-value` changes. You can configure the attribute it listens to with the\n`attr-for-value` attribute.\n\n### Using a custom input element\n\nYou can use a custom input element in a `<paper-input-container>`, for example\nto implement a compound input field like a social security number input. The\ncustom input element should have the `paper-input-input` class, have a\n`notify:true` value property and optionally implements\n`Polymer.IronValidatableBehavior` if it is validatable.\n\n    <paper-input-container attr-for-value=\"ssn-value\">\n      <label slot=\"label\">Social security number</label>\n      <ssn-input slot=\"input\" class=\"paper-input-input\"></ssn-input>\n    </paper-input-container>\n\n\nIf you're using a `<paper-input-container>` imperatively, it's important to make\nsure that you attach its children (the `iron-input` and the optional `label`)\nbefore you attach the `<paper-input-container>` itself, so that it can be set up\ncorrectly.\n\n### Validation\n\nIf the `auto-validate` attribute is set, the input container will validate the\ninput and update the container styling when the input value changes.\n\n### Add-ons\n\nAdd-ons are child elements of a `<paper-input-container>` with the `add-on`\nattribute and implements the `Polymer.PaperInputAddonBehavior` behavior. They\nare notified when the input value or validity changes, and may implement\nfunctionality such as error messages or character counters. They appear at the\nbottom of the input.\n\n### Prefixes and suffixes\nThese are child elements of a `<paper-input-container>` with the `prefix`\nor `suffix` attribute, and are displayed inline with the input, before or after.\n\n    <paper-input-container>\n      <div slot=\"prefix\">$</div>\n      <label slot=\"label\">Total</label>\n      <iron-input slot=\"input\">\n        <input>\n      </iron-input>\n      // In Polymer 1.0, you would use `<input is=\"iron-input\" slot=\"input\">`\ninstead of the above. <paper-icon-button slot=\"suffix\"\nicon=\"clear\"></paper-icon-button>\n    </paper-input-container>\n\n### Styling\n\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-input-container-color` | Label and underline color when the input is not focused | `--secondary-text-color`\n`--paper-input-container-focus-color` | Label and underline color when the input is focused | `--primary-color`\n`--paper-input-container-invalid-color` | Label and underline color when the input is is invalid | `--error-color`\n`--paper-input-container-input-color` | Input foreground color | `--primary-text-color`\n`--paper-input-container` | Mixin applied to the container | `{}`\n`--paper-input-container-disabled` | Mixin applied to the container when it's disabled | `{}`\n`--paper-input-container-label` | Mixin applied to the label | `{}`\n`--paper-input-container-label-focus` | Mixin applied to the label when the input is focused | `{}`\n`--paper-input-container-label-floating` | Mixin applied to the label when floating | `{}`\n`--paper-input-container-input` | Mixin applied to the input | `{}`\n`--paper-input-container-input-align` | The vertical-align property of the input | `bottom`\n`--paper-input-container-input-disabled` | Mixin applied to the input when the component is disabled | `{}`\n`--paper-input-container-input-focus` | Mixin applied to the input when focused | `{}`\n`--paper-input-container-input-invalid` | Mixin applied to the input when invalid | `{}`\n`--paper-input-container-input-webkit-spinner` | Mixin applied to the webkit spinner | `{}`\n`--paper-input-container-input-webkit-clear` | Mixin applied to the webkit clear button | `{}`\n`--paper-input-container-input-webkit-calendar-picker-indicator` | Mixin applied to the webkit calendar picker indicator | `{}`\n`--paper-input-container-ms-clear` | Mixin applied to the Internet Explorer clear button | `{}`\n`--paper-input-container-underline` | Mixin applied to the underline | `{}`\n`--paper-input-container-underline-focus` | Mixin applied to the underline when the input is focused | `{}`\n`--paper-input-container-underline-disabled` | Mixin applied to the underline when the input is disabled | `{}`\n`--paper-input-prefix` | Mixin applied to the input prefix | `{}`\n`--paper-input-suffix` | Mixin applied to the input suffix | `{}`\n`--paper-input-container-label-before` | Mixin applied to label before pseudo element | {}\n`--paper-input-container-label-after` | Mixin applied to label after pseudo element (useful for required asterisk) | {}\n\nThis element is `display:block` by default, but you can set the `inline`\nattribute to make it `display:inline-block`.\n*/\nPolymer({\n  /** @override */\n  _template: html`\n    <style>\n      :host {\n        display: block;\n        padding: 8px 0;\n        @apply --paper-input-container;\n      }\n\n      :host([inline]) {\n        display: inline-block;\n      }\n\n      :host([disabled]) {\n        pointer-events: none;\n        opacity: 0.33;\n\n        @apply --paper-input-container-disabled;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      .floated-label-placeholder {\n        @apply --paper-font-caption;\n      }\n\n      .underline {\n        height: 2px;\n        position: relative;\n      }\n\n      .focused-line {\n        @apply --layout-fit;\n        border-bottom: 2px solid var(--paper-input-container-focus-color, var(--primary-color));\n\n        -webkit-transform-origin: center center;\n        transform-origin: center center;\n        -webkit-transform: scale3d(0,1,1);\n        transform: scale3d(0,1,1);\n\n        @apply --paper-input-container-underline-focus;\n      }\n\n      .underline.is-highlighted .focused-line {\n        -webkit-transform: none;\n        transform: none;\n        -webkit-transition: -webkit-transform 0.25s;\n        transition: transform 0.25s;\n\n        @apply --paper-transition-easing;\n      }\n\n      .underline.is-invalid .focused-line {\n        border-color: var(--paper-input-container-invalid-color, var(--error-color));\n        -webkit-transform: none;\n        transform: none;\n        -webkit-transition: -webkit-transform 0.25s;\n        transition: transform 0.25s;\n\n        @apply --paper-transition-easing;\n      }\n\n      .unfocused-line {\n        @apply --layout-fit;\n        border-bottom: 1px solid var(--paper-input-container-color, var(--secondary-text-color));\n        @apply --paper-input-container-underline;\n      }\n\n      :host([disabled]) .unfocused-line {\n        border-bottom: 1px dashed;\n        border-color: var(--paper-input-container-color, var(--secondary-text-color));\n        @apply --paper-input-container-underline-disabled;\n      }\n\n      .input-wrapper {\n        @apply --layout-horizontal;\n        @apply --layout-center;\n        position: relative;\n      }\n\n      .input-content {\n        @apply --layout-flex-auto;\n        @apply --layout-relative;\n        max-width: 100%;\n      }\n\n      .input-content ::slotted(label),\n      .input-content ::slotted(.paper-input-label) {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        font: inherit;\n        color: var(--paper-input-container-color, var(--secondary-text-color));\n        -webkit-transition: -webkit-transform 0.25s, width 0.25s;\n        transition: transform 0.25s, width 0.25s;\n        -webkit-transform-origin: left top;\n        transform-origin: left top;\n        /* Fix for safari not focusing 0-height date/time inputs with -webkit-apperance: none; */\n        min-height: 1px;\n\n        @apply --paper-font-common-nowrap;\n        @apply --paper-font-subhead;\n        @apply --paper-input-container-label;\n        @apply --paper-transition-easing;\n      }\n\n\n      .input-content ::slotted(label):before,\n      .input-content ::slotted(.paper-input-label):before {\n        @apply --paper-input-container-label-before;\n      }\n\n      .input-content ::slotted(label):after,\n      .input-content ::slotted(.paper-input-label):after {\n        @apply --paper-input-container-label-after;\n      }\n\n      .input-content.label-is-floating ::slotted(label),\n      .input-content.label-is-floating ::slotted(.paper-input-label) {\n        -webkit-transform: translateY(-75%) scale(0.75);\n        transform: translateY(-75%) scale(0.75);\n\n        /* Since we scale to 75/100 of the size, we actually have 100/75 of the\n        original space now available */\n        width: 133%;\n\n        @apply --paper-input-container-label-floating;\n      }\n\n      :host(:dir(rtl)) .input-content.label-is-floating ::slotted(label),\n      :host(:dir(rtl)) .input-content.label-is-floating ::slotted(.paper-input-label) {\n        right: 0;\n        left: auto;\n        -webkit-transform-origin: right top;\n        transform-origin: right top;\n      }\n\n      .input-content.label-is-highlighted ::slotted(label),\n      .input-content.label-is-highlighted ::slotted(.paper-input-label) {\n        color: var(--paper-input-container-focus-color, var(--primary-color));\n\n        @apply --paper-input-container-label-focus;\n      }\n\n      .input-content.is-invalid ::slotted(label),\n      .input-content.is-invalid ::slotted(.paper-input-label) {\n        color: var(--paper-input-container-invalid-color, var(--error-color));\n      }\n\n      .input-content.label-is-hidden ::slotted(label),\n      .input-content.label-is-hidden ::slotted(.paper-input-label) {\n        visibility: hidden;\n      }\n\n      .input-content ::slotted(input),\n      .input-content ::slotted(iron-input),\n      .input-content ::slotted(textarea),\n      .input-content ::slotted(iron-autogrow-textarea),\n      .input-content ::slotted(.paper-input-input) {\n        @apply --paper-input-container-shared-input-style;\n        /* The apply shim doesn't apply the nested color custom property,\n          so we have to re-apply it here. */\n        color: var(--paper-input-container-input-color, var(--primary-text-color));\n        @apply --paper-input-container-input;\n      }\n\n      .input-content ::slotted(input)::-webkit-outer-spin-button,\n      .input-content ::slotted(input)::-webkit-inner-spin-button {\n        @apply --paper-input-container-input-webkit-spinner;\n      }\n\n      .input-content.focused ::slotted(input),\n      .input-content.focused ::slotted(iron-input),\n      .input-content.focused ::slotted(textarea),\n      .input-content.focused ::slotted(iron-autogrow-textarea),\n      .input-content.focused ::slotted(.paper-input-input) {\n        @apply --paper-input-container-input-focus;\n      }\n\n      .input-content.is-invalid ::slotted(input),\n      .input-content.is-invalid ::slotted(iron-input),\n      .input-content.is-invalid ::slotted(textarea),\n      .input-content.is-invalid ::slotted(iron-autogrow-textarea),\n      .input-content.is-invalid ::slotted(.paper-input-input) {\n        @apply --paper-input-container-input-invalid;\n      }\n\n      .prefix ::slotted(*) {\n        display: inline-block;\n        @apply --paper-font-subhead;\n        @apply --layout-flex-none;\n        @apply --paper-input-prefix;\n      }\n\n      .suffix ::slotted(*) {\n        display: inline-block;\n        @apply --paper-font-subhead;\n        @apply --layout-flex-none;\n\n        @apply --paper-input-suffix;\n      }\n\n      /* Firefox sets a min-width on the input, which can cause layout issues */\n      .input-content ::slotted(input) {\n        min-width: 0;\n      }\n\n      .input-content ::slotted(textarea) {\n        resize: none;\n      }\n\n      .add-on-content {\n        position: relative;\n      }\n\n      .add-on-content.is-invalid ::slotted(*) {\n        color: var(--paper-input-container-invalid-color, var(--error-color));\n      }\n\n      .add-on-content.is-highlighted ::slotted(*) {\n        color: var(--paper-input-container-focus-color, var(--primary-color));\n      }\n    </style>\n\n    <div class=\"floated-label-placeholder\" aria-hidden=\"true\" hidden=\"[[noLabelFloat]]\">&nbsp;</div>\n\n    <div class=\"input-wrapper\">\n      <span class=\"prefix\"><slot name=\"prefix\"></slot></span>\n\n      <div class$=\"[[_computeInputContentClass(noLabelFloat,alwaysFloatLabel,focused,invalid,_inputHasContent)]]\" id=\"labelAndInputContainer\">\n        <slot name=\"label\"></slot>\n        <slot name=\"input\"></slot>\n      </div>\n\n      <span class=\"suffix\"><slot name=\"suffix\"></slot></span>\n    </div>\n\n    <div class$=\"[[_computeUnderlineClass(focused,invalid)]]\">\n      <div class=\"unfocused-line\"></div>\n      <div class=\"focused-line\"></div>\n    </div>\n\n    <div class$=\"[[_computeAddOnContentClass(focused,invalid)]]\">\n      <slot name=\"add-on\"></slot>\n    </div>\n`,\n\n  is: 'paper-input-container',\n\n  properties: {\n    /**\n     * Set to true to disable the floating label. The label disappears when the\n     * input value is not null.\n     */\n    noLabelFloat: {type: Boolean, value: false},\n\n    /**\n     * Set to true to always float the floating label.\n     */\n    alwaysFloatLabel: {type: Boolean, value: false},\n\n    /**\n     * The attribute to listen for value changes on.\n     */\n    attrForValue: {type: String, value: 'bind-value'},\n\n    /**\n     * Set to true to auto-validate the input value when it changes.\n     */\n    autoValidate: {type: Boolean, value: false},\n\n    /**\n     * True if the input is invalid. This property is set automatically when the\n     * input value changes if auto-validating, or when the `iron-input-validate`\n     * event is heard from a child.\n     */\n    invalid: {observer: '_invalidChanged', type: Boolean, value: false},\n\n    /**\n     * True if the input has focus.\n     */\n    focused: {readOnly: true, type: Boolean, value: false, notify: true},\n\n    _addons: {\n      type: Array\n      // do not set a default value here intentionally - it will be initialized\n      // lazily when a distributed child is attached, which may occur before\n      // configuration for this element in polyfill.\n    },\n\n    _inputHasContent: {type: Boolean, value: false},\n\n    _inputSelector:\n        {type: String, value: 'input,iron-input,textarea,.paper-input-input'},\n\n    _boundOnFocus: {\n      type: Function,\n      value: function() {\n        return this._onFocus.bind(this);\n      }\n    },\n\n    _boundOnBlur: {\n      type: Function,\n      value: function() {\n        return this._onBlur.bind(this);\n      }\n    },\n\n    _boundOnInput: {\n      type: Function,\n      value: function() {\n        return this._onInput.bind(this);\n      }\n    },\n\n    _boundValueChanged: {\n      type: Function,\n      value: function() {\n        return this._onValueChanged.bind(this);\n      }\n    }\n  },\n\n  listeners: {\n    'addon-attached': '_onAddonAttached',\n    'iron-input-validate': '_onIronInputValidate'\n  },\n\n  get _valueChangedEvent() {\n    return this.attrForValue + '-changed';\n  },\n\n  get _propertyForValue() {\n    return dashToCamelCase(this.attrForValue);\n  },\n\n  get _inputElement() {\n    return dom(this).querySelector(this._inputSelector);\n  },\n\n  get _inputElementValue() {\n    return this._inputElement[this._propertyForValue] ||\n        this._inputElement.value;\n  },\n\n  /** @override */\n  ready: function() {\n    // Paper-input treats a value of undefined differently at startup than\n    // the rest of the time (specifically: it does not validate it at startup,\n    // but it does after that. We need to track whether the first time we\n    // encounter the value is basically this first time, so that we can validate\n    // it correctly the rest of the time. See\n    // https://github.com/PolymerElements/paper-input/issues/605\n    this.__isFirstValueUpdate = true;\n    if (!this._addons) {\n      this._addons = [];\n    }\n    this.addEventListener('focus', this._boundOnFocus, true);\n    this.addEventListener('blur', this._boundOnBlur, true);\n  },\n\n  /** @override */\n  attached: function() {\n    if (this.attrForValue) {\n      this._inputElement.addEventListener(\n          this._valueChangedEvent, this._boundValueChanged);\n    } else {\n      this.addEventListener('input', this._onInput);\n    }\n\n    // Only validate when attached if the input already has a value.\n    if (this._inputElementValue && this._inputElementValue != '') {\n      this._handleValueAndAutoValidate(this._inputElement);\n    } else {\n      this._handleValue(this._inputElement);\n    }\n  },\n\n  /** @private */\n  _onAddonAttached: function(event) {\n    if (!this._addons) {\n      this._addons = [];\n    }\n    var target = event.target;\n    if (this._addons.indexOf(target) === -1) {\n      this._addons.push(target);\n      if (this.isAttached) {\n        this._handleValue(this._inputElement);\n      }\n    }\n  },\n\n  /** @private */\n  _onFocus: function() {\n    this._setFocused(true);\n  },\n\n  /** @private */\n  _onBlur: function() {\n    this._setFocused(false);\n    this._handleValueAndAutoValidate(this._inputElement);\n  },\n\n  /** @private */\n  _onInput: function(event) {\n    this._handleValueAndAutoValidate(event.target);\n  },\n\n  /** @private */\n  _onValueChanged: function(event) {\n    var input = event.target;\n\n    // Paper-input treats a value of undefined differently at startup than\n    // the rest of the time (specifically: it does not validate it at startup,\n    // but it does after that. If this is in fact the bootup case, ignore\n    // validation, just this once.\n    if (this.__isFirstValueUpdate) {\n      this.__isFirstValueUpdate = false;\n      if (input.value === undefined || input.value === '') {\n        return;\n      }\n    }\n\n    this._handleValueAndAutoValidate(event.target);\n  },\n\n  /** @private */\n  _handleValue: function(inputElement) {\n    var value = this._inputElementValue;\n\n    // type=\"number\" hack needed because this.value is empty until it's valid\n    if (value || value === 0 ||\n        (inputElement.type === 'number' && !inputElement.checkValidity())) {\n      this._inputHasContent = true;\n    } else {\n      this._inputHasContent = false;\n    }\n\n    this.updateAddons(\n        {inputElement: inputElement, value: value, invalid: this.invalid});\n  },\n\n  /** @private */\n  _handleValueAndAutoValidate: function(inputElement) {\n    if (this.autoValidate && inputElement) {\n      var valid;\n\n      if (inputElement.validate) {\n        valid = inputElement.validate(this._inputElementValue);\n      } else {\n        valid = inputElement.checkValidity();\n      }\n      this.invalid = !valid;\n    }\n\n    // Call this last to notify the add-ons.\n    this._handleValue(inputElement);\n  },\n\n  /** @private */\n  _onIronInputValidate: function(event) {\n    this.invalid = this._inputElement.invalid;\n  },\n\n  /** @private */\n  _invalidChanged: function() {\n    if (this._addons) {\n      this.updateAddons({invalid: this.invalid});\n    }\n  },\n\n  /**\n   * Call this to update the state of add-ons.\n   * @param {Object} state Add-on state.\n   */\n  updateAddons: function(state) {\n    for (var addon, index = 0; addon = this._addons[index]; index++) {\n      addon.update(state);\n    }\n  },\n\n  /** @private */\n  _computeInputContentClass: function(\n      noLabelFloat, alwaysFloatLabel, focused, invalid, _inputHasContent) {\n    var cls = 'input-content';\n    if (!noLabelFloat) {\n      var label = this.querySelector('label');\n\n      if (alwaysFloatLabel || _inputHasContent) {\n        cls += ' label-is-floating';\n        // If the label is floating, ignore any offsets that may have been\n        // applied from a prefix element.\n        this.$.labelAndInputContainer.style.position = 'static';\n\n        if (invalid) {\n          cls += ' is-invalid';\n        } else if (focused) {\n          cls += ' label-is-highlighted';\n        }\n      } else {\n        // When the label is not floating, it should overlap the input element.\n        if (label) {\n          this.$.labelAndInputContainer.style.position = 'relative';\n        }\n        if (invalid) {\n          cls += ' is-invalid';\n        }\n      }\n    } else {\n      if (_inputHasContent) {\n        cls += ' label-is-hidden';\n      }\n      if (invalid) {\n        cls += ' is-invalid';\n      }\n    }\n    if (focused) {\n      cls += ' focused';\n    }\n    return cls;\n  },\n\n  /** @private */\n  _computeUnderlineClass: function(focused, invalid) {\n    var cls = 'underline';\n    if (invalid) {\n      cls += ' is-invalid';\n    } else if (focused) {\n      cls += ' is-highlighted'\n    }\n    return cls;\n  },\n\n  /** @private */\n  _computeAddOnContentClass: function(focused, invalid) {\n    var cls = 'add-on-content';\n    if (invalid) {\n      cls += ' is-invalid';\n    } else if (focused) {\n      cls += ' is-highlighted'\n    }\n    return cls;\n  }\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport '@polymer/paper-styles/typography.js';\n\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\nimport {PaperInputAddonBehavior} from './paper-input-addon-behavior.js';\n\n/*\n`<paper-input-error>` is an error message for use with\n`<paper-input-container>`. The error is displayed when the\n`<paper-input-container>` is `invalid`.\n\n    <paper-input-container>\n      <input pattern=\"[0-9]*\">\n      <paper-input-error slot=\"add-on\">Only numbers are\nallowed!</paper-input-error>\n    </paper-input-container>\n\n### Styling\n\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-input-container-invalid-color` | The foreground color of the error | `--error-color`\n`--paper-input-error` | Mixin applied to the error | `{}`\n*/\nPolymer({\n  /** @override */\n  _template: html`\n    <style>\n      :host {\n        display: inline-block;\n        visibility: hidden;\n\n        color: var(--paper-input-container-invalid-color, var(--error-color));\n\n        @apply --paper-font-caption;\n        @apply --paper-input-error;\n        position: absolute;\n        left:0;\n        right:0;\n      }\n\n      :host([invalid]) {\n        visibility: visible;\n      }\n\n      #a11yWrapper {\n        visibility: hidden;\n      }\n\n      :host([invalid]) #a11yWrapper {\n        visibility: visible;\n      }\n    </style>\n\n    <!--\n    If the paper-input-error element is directly referenced by an\n    \\`aria-describedby\\` attribute, such as when used as a paper-input add-on,\n    then applying \\`visibility: hidden;\\` to the paper-input-error element itself\n    does not hide the error.\n\n    For more information, see:\n    https://www.w3.org/TR/accname-1.1/#mapping_additional_nd_description\n    -->\n    <div id=\"a11yWrapper\">\n      <slot></slot>\n    </div>\n`,\n\n  is: 'paper-input-error',\n  behaviors: [PaperInputAddonBehavior],\n\n  properties: {\n    /**\n     * True if the error is showing.\n     */\n    invalid: {readOnly: true, reflectToAttribute: true, type: Boolean}\n  },\n\n  /**\n   * This overrides the update function in PaperInputAddonBehavior.\n   * @param {{\n   *   inputElement: (Element|undefined),\n   *   value: (string|undefined),\n   *   invalid: boolean\n   * }} state -\n   *     inputElement: The input element.\n   *     value: The input value.\n   *     invalid: True if the input value is invalid.\n   */\n  update: function(state) {\n    this._setInvalid(state.invalid);\n  }\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport {IronA11yAnnouncer} from '@polymer/iron-a11y-announcer/iron-a11y-announcer.js';\nimport {IronValidatableBehavior} from '@polymer/iron-validatable-behavior/iron-validatable-behavior.js';\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {dom} from '@polymer/polymer/lib/legacy/polymer.dom.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\n/**\n`<iron-input>` is a wrapper to a native `<input>` element, that adds two-way\nbinding and prevention of invalid input. To use it, you must distribute a native\n`<input>` yourself. You can continue to use the native `input` as you would\nnormally:\n\n    <iron-input>\n      <input>\n    </iron-input>\n\n    <iron-input>\n      <input type=\"email\" disabled>\n    </iron-input>\n\n### Two-way binding\n\nBy default you can only get notified of changes to a native `<input>`'s `value`\ndue to user input:\n\n    <input value=\"{{myValue::input}}\">\n\nThis means that if you imperatively set the value (i.e. `someNativeInput.value =\n'foo'`), no events will be fired and this change cannot be observed.\n\n`iron-input` adds the `bind-value` property that mirrors the native `input`'s\n'`value` property; this property can be used for two-way data binding.\n`bind-value` will notify if it is changed either by user input or by script.\n\n    <iron-input bind-value=\"{{myValue}}\">\n      <input>\n    </iron-input>\n\nNote: this means that if you want to imperatively set the native `input`'s, you\n_must_ set `bind-value` instead, so that the wrapper `iron-input` can be\nnotified.\n\n### Validation\n\n`iron-input` uses the native `input`'s validation. For simplicity, `iron-input`\nhas a `validate()` method (which internally just checks the distributed\n`input`'s validity), which sets an `invalid` attribute that can also be used for\nstyling.\n\nTo validate automatically as you type, you can use the `auto-validate`\nattribute.\n\n`iron-input` also fires an `iron-input-validate` event after `validate()` is\ncalled. You can use it to implement a custom validator:\n\n    var CatsOnlyValidator = {\n      validate: function(ironInput) {\n        var valid = !ironInput.bindValue || ironInput.bindValue === 'cat';\n        ironInput.invalid = !valid;\n        return valid;\n      }\n    }\n    ironInput.addEventListener('iron-input-validate', function() {\n      CatsOnly.validate(input2);\n    });\n\nYou can also use an element implementing an\n[`IronValidatorBehavior`](/element/PolymerElements/iron-validatable-behavior).\nThis example can also be found in the demo for this element:\n\n    <iron-input validator=\"cats-only\">\n      <input>\n    </iron-input>\n\n### Preventing invalid input\n\nIt may be desirable to only allow users to enter certain characters. You can use\nthe `allowed-pattern` attribute to accomplish this. This feature is separate\nfrom validation, and `allowed-pattern` does not affect how the input is\nvalidated.\n\n    // Only allow typing digits, but a valid input has exactly 5 digits.\n    <iron-input allowed-pattern=\"[0-9]\">\n      <input pattern=\"\\d{5}\">\n    </iron-input>\n\n@demo demo/index.html\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: inline-block;\n      }\n    </style>\n    <slot id=\"content\"></slot>\n`,\n\n  is: 'iron-input',\n  behaviors: [IronValidatableBehavior],\n\n  /**\n   * Fired whenever `validate()` is called.\n   *\n   * @event iron-input-validate\n   */\n\n  properties: {\n\n    /**\n     * Use this property instead of `value` for two-way data binding, or to\n     * set a default value for the input. **Do not** use the distributed\n     * input's `value` property to set a default value.\n     */\n    bindValue: {type: String, value: ''},\n\n    /**\n     * Computed property that echoes `bindValue` (mostly used for Polymer 1.0\n     * backcompatibility, if you were one-way binding to the Polymer 1.0\n     * `input is=\"iron-input\"` value attribute).\n     */\n    value: {type: String, computed: '_computeValue(bindValue)'},\n\n    /**\n     * Regex-like list of characters allowed as input; all characters not in the\n     * list will be rejected. The recommended format should be a list of allowed\n     * characters, for example, `[a-zA-Z0-9.+-!;:]`.\n     *\n     * This pattern represents the allowed characters for the field; as the user\n     * inputs text, each individual character will be checked against the\n     * pattern (rather than checking the entire value as a whole). If a\n     * character is not a match, it will be rejected.\n     *\n     * Pasted input will have each character checked individually; if any\n     * character doesn't match `allowedPattern`, the entire pasted string will\n     * be rejected.\n     *\n     * Note: if you were using `iron-input` in 1.0, you were also required to\n     * set `prevent-invalid-input`. This is no longer needed as of Polymer 2.0,\n     * and will be set automatically for you if an `allowedPattern` is provided.\n     *\n     */\n    allowedPattern: {type: String},\n\n    /**\n     * Set to true to auto-validate the input value as you type.\n     */\n    autoValidate: {type: Boolean, value: false},\n\n    /**\n     * The native input element.\n     */\n    _inputElement: Object,\n  },\n\n  observers: ['_bindValueChanged(bindValue, _inputElement)'],\n  listeners: {'input': '_onInput', 'keypress': '_onKeypress'},\n\n  created: function() {\n    IronA11yAnnouncer.requestAvailability();\n    this._previousValidInput = '';\n    this._patternAlreadyChecked = false;\n  },\n\n  attached: function() {\n    // If the input is added at a later time, update the internal reference.\n    this._observer = dom(this).observeNodes(function(info) {\n      this._initSlottedInput();\n    }.bind(this));\n  },\n\n  detached: function() {\n    if (this._observer) {\n      dom(this).unobserveNodes(this._observer);\n      this._observer = null;\n    }\n  },\n\n  /**\n   * Returns the distributed input element.\n   */\n  get inputElement() {\n    return this._inputElement;\n  },\n\n  _initSlottedInput: function() {\n    this._inputElement = this.getEffectiveChildren()[0];\n\n    if (this.inputElement && this.inputElement.value) {\n      this.bindValue = this.inputElement.value;\n    }\n\n    this.fire('iron-input-ready');\n  },\n\n  get _patternRegExp() {\n    var pattern;\n    if (this.allowedPattern) {\n      pattern = new RegExp(this.allowedPattern);\n    } else {\n      switch (this.inputElement.type) {\n        case 'number':\n          pattern = /[0-9.,e-]/;\n          break;\n      }\n    }\n    return pattern;\n  },\n\n  /**\n   * @suppress {checkTypes}\n   */\n  _bindValueChanged: function(bindValue, inputElement) {\n    // The observer could have run before attached() when we have actually\n    // initialized this property.\n    if (!inputElement) {\n      return;\n    }\n\n    if (bindValue === undefined) {\n      inputElement.value = null;\n    } else if (bindValue !== inputElement.value) {\n      this.inputElement.value = bindValue;\n    }\n\n    if (this.autoValidate) {\n      this.validate();\n    }\n\n    // manually notify because we don't want to notify until after setting value\n    this.fire('bind-value-changed', {value: bindValue});\n  },\n\n  _onInput: function() {\n    // Need to validate each of the characters pasted if they haven't\n    // been validated inside `_onKeypress` already.\n    if (this.allowedPattern && !this._patternAlreadyChecked) {\n      var valid = this._checkPatternValidity();\n      if (!valid) {\n        this._announceInvalidCharacter(\n            'Invalid string of characters not entered.');\n        this.inputElement.value = this._previousValidInput;\n      }\n    }\n    this.bindValue = this._previousValidInput = this.inputElement.value;\n    this._patternAlreadyChecked = false;\n  },\n\n  _isPrintable: function(event) {\n    // What a control/printable character is varies wildly based on the browser.\n    // - most control characters (arrows, backspace) do not send a `keypress`\n    // event\n    //   in Chrome, but the *do* on Firefox\n    // - in Firefox, when they do send a `keypress` event, control chars have\n    //   a charCode = 0, keyCode = xx (for ex. 40 for down arrow)\n    // - printable characters always send a keypress event.\n    // - in Firefox, printable chars always have a keyCode = 0. In Chrome, the\n    // keyCode\n    //   always matches the charCode.\n    // None of this makes any sense.\n\n    // For these keys, ASCII code == browser keycode.\n    var anyNonPrintable = (event.keyCode == 8) ||  // backspace\n        (event.keyCode == 9) ||                    // tab\n        (event.keyCode == 13) ||                   // enter\n        (event.keyCode == 27);                     // escape\n\n    // For these keys, make sure it's a browser keycode and not an ASCII code.\n    var mozNonPrintable = (event.keyCode == 19) ||  // pause\n        (event.keyCode == 20) ||                    // caps lock\n        (event.keyCode == 45) ||                    // insert\n        (event.keyCode == 46) ||                    // delete\n        (event.keyCode == 144) ||                   // num lock\n        (event.keyCode == 145) ||                   // scroll lock\n        (event.keyCode > 32 &&\n         event.keyCode < 41) ||  // page up/down, end, home, arrows\n        (event.keyCode > 111 && event.keyCode < 124);  // fn keys\n\n    return !anyNonPrintable && !(event.charCode == 0 && mozNonPrintable);\n  },\n\n  _onKeypress: function(event) {\n    if (!this.allowedPattern && this.inputElement.type !== 'number') {\n      return;\n    }\n    var regexp = this._patternRegExp;\n    if (!regexp) {\n      return;\n    }\n\n    // Handle special keys and backspace\n    if (event.metaKey || event.ctrlKey || event.altKey) {\n      return;\n    }\n\n    // Check the pattern either here or in `_onInput`, but not in both.\n    this._patternAlreadyChecked = true;\n\n    var thisChar = String.fromCharCode(event.charCode);\n    if (this._isPrintable(event) && !regexp.test(thisChar)) {\n      event.preventDefault();\n      this._announceInvalidCharacter(\n          'Invalid character ' + thisChar + ' not entered.');\n    }\n  },\n\n  _checkPatternValidity: function() {\n    var regexp = this._patternRegExp;\n    if (!regexp) {\n      return true;\n    }\n    for (var i = 0; i < this.inputElement.value.length; i++) {\n      if (!regexp.test(this.inputElement.value[i])) {\n        return false;\n      }\n    }\n    return true;\n  },\n\n  /**\n   * Returns true if `value` is valid. The validator provided in `validator`\n   * will be used first, then any constraints.\n   * @return {boolean} True if the value is valid.\n   */\n  validate: function() {\n    if (!this.inputElement) {\n      this.invalid = false;\n      return true;\n    }\n\n    // Use the nested input's native validity.\n    var valid = this.inputElement.checkValidity();\n\n    // Only do extra checking if the browser thought this was valid.\n    if (valid) {\n      // Empty, required input is invalid\n      if (this.required && this.bindValue === '') {\n        valid = false;\n      } else if (this.hasValidator()) {\n        valid = IronValidatableBehavior.validate.call(this, this.bindValue);\n      }\n    }\n\n    this.invalid = !valid;\n    this.fire('iron-input-validate');\n    return valid;\n  },\n\n  _announceInvalidCharacter: function(message) {\n    this.fire('iron-announce', {text: message});\n  },\n\n  _computeValue: function(bindValue) {\n    return bindValue;\n  }\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/iron-input/iron-input.js';\nimport './paper-input-char-counter.js';\nimport './paper-input-container.js';\nimport './paper-input-error.js';\n\nimport {IronFormElementBehavior} from '@polymer/iron-form-element-behavior/iron-form-element-behavior.js';\nimport {DomModule} from '@polymer/polymer/lib/elements/dom-module.js';\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\nimport {PaperInputBehavior} from './paper-input-behavior.js';\n\n/**\nMaterial design: [Text\nfields](https://www.google.com/design/spec/components/text-fields.html)\n\n`<paper-input>` is a single-line text field with Material Design styling.\n\n    <paper-input label=\"Input label\"></paper-input>\n\nIt may include an optional error message or character counter.\n\n    <paper-input error-message=\"Invalid input!\" label=\"Input\n    label\"></paper-input> <paper-input char-counter label=\"Input\n    label\"></paper-input>\n\nIt can also include custom prefix or suffix elements, which are displayed\nbefore or after the text input itself. In order for an element to be\nconsidered as a prefix, it must have the `prefix` attribute (and similarly\nfor `suffix`).\n\n    <paper-input label=\"total\">\n      <div prefix>$</div>\n      <paper-icon-button slot=\"suffix\" icon=\"clear\"></paper-icon-button>\n    </paper-input>\n\nA `paper-input` can use the native `type=search` or `type=file` features.\nHowever, since we can't control the native styling of the input (search icon,\nfile button, date placeholder, etc.), in these cases the label will be\nautomatically floated. The `placeholder` attribute can still be used for\nadditional informational text.\n\n    <paper-input label=\"search!\" type=\"search\"\n        placeholder=\"search for cats\" autosave=\"test\" results=\"5\">\n    </paper-input>\n\nSee `Polymer.PaperInputBehavior` for more API docs.\n\n### Focus\n\nTo focus a paper-input, you can call the native `focus()` method as long as the\npaper input has a tab index. Similarly, `blur()` will blur the element.\n\n### Styling\n\nSee `Polymer.PaperInputContainer` for a list of custom properties used to\nstyle this element.\n\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-input-container-ms-clear` | Mixin applied to the Internet Explorer reveal button (the eyeball) | {}\n\n@element paper-input\n@demo demo/index.html\n*/\nPolymer({\n  is: 'paper-input',\n  /** @override */\n  _template: html`\n    <style>\n      :host {\n        display: block;\n      }\n\n      :host([focused]) {\n        outline: none;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      input {\n        /* Firefox sets a min-width on the input, which can cause layout issues */\n        min-width: 0;\n      }\n\n      /* In 1.x, the <input> is distributed to paper-input-container, which styles it.\n      In 2.x the <iron-input> is distributed to paper-input-container, which styles\n      it, but in order for this to work correctly, we need to reset some\n      of the native input's properties to inherit (from the iron-input) */\n      iron-input > input {\n        @apply --paper-input-container-shared-input-style;\n        font-family: inherit;\n        font-weight: inherit;\n        font-size: inherit;\n        letter-spacing: inherit;\n        word-spacing: inherit;\n        line-height: inherit;\n        text-shadow: inherit;\n        color: inherit;\n        cursor: inherit;\n      }\n\n      input:disabled {\n        @apply --paper-input-container-input-disabled;\n      }\n\n      input::-webkit-outer-spin-button,\n      input::-webkit-inner-spin-button {\n        @apply --paper-input-container-input-webkit-spinner;\n      }\n\n      input::-webkit-clear-button {\n        @apply --paper-input-container-input-webkit-clear;\n      }\n\n      input::-webkit-calendar-picker-indicator {\n        @apply --paper-input-container-input-webkit-calendar-picker-indicator;\n      }\n\n      input::-webkit-input-placeholder {\n        color: var(--paper-input-container-color, var(--secondary-text-color));\n      }\n\n      input:-moz-placeholder {\n        color: var(--paper-input-container-color, var(--secondary-text-color));\n      }\n\n      input::-moz-placeholder {\n        color: var(--paper-input-container-color, var(--secondary-text-color));\n      }\n\n      input::-ms-clear {\n        @apply --paper-input-container-ms-clear;\n      }\n\n      input::-ms-reveal {\n        @apply --paper-input-container-ms-reveal;\n      }\n\n      input:-ms-input-placeholder {\n        color: var(--paper-input-container-color, var(--secondary-text-color));\n      }\n\n      label {\n        pointer-events: none;\n      }\n    </style>\n\n    <paper-input-container id=\"container\" no-label-float=\"[[noLabelFloat]]\" always-float-label=\"[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]\" auto-validate$=\"[[autoValidate]]\" disabled$=\"[[disabled]]\" invalid=\"[[invalid]]\">\n\n      <slot name=\"prefix\" slot=\"prefix\"></slot>\n\n      <label hidden$=\"[[!label]]\" aria-hidden=\"true\" for$=\"[[_inputId]]\" slot=\"label\">[[label]]</label>\n\n      <!-- Need to bind maxlength so that the paper-input-char-counter works correctly -->\n      <iron-input bind-value=\"{{value}}\" slot=\"input\" class=\"input-element\" id$=\"[[_inputId]]\" maxlength$=\"[[maxlength]]\" allowed-pattern=\"[[allowedPattern]]\" invalid=\"{{invalid}}\" validator=\"[[validator]]\">\n        <input aria-labelledby$=\"[[_ariaLabelledBy]]\" aria-describedby$=\"[[_ariaDescribedBy]]\" disabled$=\"[[disabled]]\" title$=\"[[title]]\" type$=\"[[type]]\" pattern$=\"[[pattern]]\" required$=\"[[required]]\" autocomplete$=\"[[autocomplete]]\" autofocus$=\"[[autofocus]]\" inputmode$=\"[[inputmode]]\" minlength$=\"[[minlength]]\" maxlength$=\"[[maxlength]]\" min$=\"[[min]]\" max$=\"[[max]]\" step$=\"[[step]]\" name$=\"[[name]]\" placeholder$=\"[[placeholder]]\" readonly$=\"[[readonly]]\" list$=\"[[list]]\" size$=\"[[size]]\" autocapitalize$=\"[[autocapitalize]]\" autocorrect$=\"[[autocorrect]]\" on-change=\"_onChange\" tabindex$=\"[[tabIndex]]\" autosave$=\"[[autosave]]\" results$=\"[[results]]\" accept$=\"[[accept]]\" multiple$=\"[[multiple]]\" role$=\"[[inputRole]]\" aria-haspopup$=\"[[inputAriaHaspopup]]\">\n      </iron-input>\n\n      <slot name=\"suffix\" slot=\"suffix\"></slot>\n\n      <template is=\"dom-if\" if=\"[[errorMessage]]\">\n        <paper-input-error aria-live=\"assertive\" slot=\"add-on\">[[errorMessage]]</paper-input-error>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[charCounter]]\">\n        <paper-input-char-counter slot=\"add-on\"></paper-input-char-counter>\n      </template>\n\n    </paper-input-container>\n  `,\n\n  behaviors: [PaperInputBehavior, IronFormElementBehavior],\n\n  properties: {\n    value: {\n      // Required for the correct TypeScript type-generation\n      type: String\n    },\n\n    inputRole: {\n      type: String,\n      value: undefined,\n    },\n\n    inputAriaHaspopup: {\n      type: String,\n      value: undefined,\n    },\n  },\n\n  /**\n   * Returns a reference to the focusable element. Overridden from\n   * PaperInputBehavior to correctly focus the native input.\n   *\n   * @return {!HTMLElement}\n   */\n  get _focusableElement() {\n    return this.inputElement._inputElement;\n  },\n\n  // Note: This event is only available in the 1.0 version of this element.\n  // In 2.0, the functionality of `_onIronInputReady` is done in\n  // PaperInputBehavior::attached.\n  listeners: {'iron-input-ready': '_onIronInputReady'},\n\n  _onIronInputReady: function() {\n    // Even though this is only used in the next line, save this for\n    // backwards compatibility, since the native input had this ID until 2.0.5.\n    if (!this.$.nativeInput) {\n      this.$.nativeInput = /** @type {!Element} */ (this.$$('input'));\n    }\n    if (this.inputElement &&\n        this._typesThatHaveText.indexOf(this.$.nativeInput.type) !== -1) {\n      this.alwaysFloatLabel = true;\n    }\n\n    // Only validate when attached if the input already has a value.\n    if (!!this.inputElement.bindValue) {\n      this.$.container._handleValueAndAutoValidate(this.inputElement);\n    }\n  },\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/color.js';\n\nimport {IronRangeBehavior} from '@polymer/iron-range-behavior/iron-range-behavior.js';\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\n/**\nMaterial design: [Progress &\nactivity](https://www.google.com/design/spec/components/progress-activity.html)\n\nThe progress bars are for situations where the percentage completed can be\ndetermined. They give users a quick sense of how much longer an operation\nwill take.\n\nExample:\n\n    <paper-progress value=\"10\"></paper-progress>\n\nThere is also a secondary progress which is useful for displaying intermediate\nprogress, such as the buffer level during a streaming playback progress bar.\n\nExample:\n\n    <paper-progress value=\"10\" secondary-progress=\"30\"></paper-progress>\n\n### Styling progress bar:\n\nTo change the active progress bar color:\n\n    paper-progress {\n       --paper-progress-active-color: #e91e63;\n    }\n\nTo change the secondary progress bar color:\n\n    paper-progress {\n      --paper-progress-secondary-color: #f8bbd0;\n    }\n\nTo change the progress bar background color:\n\n    paper-progress {\n      --paper-progress-container-color: #64ffda;\n    }\n\nAdd the class `transiting` to a paper-progress to animate the progress bar when\nthe value changed. You can also customize the transition:\n\n    paper-progress {\n      --paper-progress-transition-duration: 0.08s;\n      --paper-progress-transition-timing-function: ease;\n      --paper-progress-transition-delay: 0s;\n    }\n\nTo change the duration of the indeterminate cycle:\n\n    paper-progress {\n      --paper-progress-indeterminate-cycle-duration: 2s;\n    }\n\nThe following mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|---------\n`--paper-progress-container` | Mixin applied to container | `{}`\n`--paper-progress-transition-duration` | Duration of the transition | `0.08s`\n`--paper-progress-transition-timing-function` | The timing function for the transition | `ease`\n`--paper-progress-transition-delay` | delay for the transition | `0s`\n`--paper-progress-container-color` | Color of the container | `--google-grey-300`\n`--paper-progress-active-color` | The color of the active bar | `--google-green-500`\n`--paper-progress-secondary-color` | The color of the secondary bar | `--google-green-100`\n`--paper-progress-disabled-active-color` | The color of the active bar if disabled | `--google-grey-500`\n`--paper-progress-disabled-secondary-color` | The color of the secondary bar if disabled  | `--google-grey-300`\n`--paper-progress-height` | The height of the progress bar | `4px`\n`--paper-progress-indeterminate-cycle-duration` | Duration of an indeterminate cycle | `2s`\n\n@group Paper Elements\n@element paper-progress\n@demo demo/index.html\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n        width: 200px;\n        position: relative;\n        overflow: hidden;\n      }\n\n      :host([hidden]), [hidden] {\n        display: none !important;\n      }\n\n      #progressContainer {\n        @apply --paper-progress-container;\n        position: relative;\n      }\n\n      #progressContainer,\n      /* the stripe for the indeterminate animation*/\n      .indeterminate::after {\n        height: var(--paper-progress-height, 4px);\n      }\n\n      #primaryProgress,\n      #secondaryProgress,\n      .indeterminate::after {\n        @apply --layout-fit;\n      }\n\n      #progressContainer,\n      .indeterminate::after {\n        background: var(--paper-progress-container-color, var(--google-grey-300));\n      }\n\n      :host(.transiting) #primaryProgress,\n      :host(.transiting) #secondaryProgress {\n        -webkit-transition-property: -webkit-transform;\n        transition-property: transform;\n\n        /* Duration */\n        -webkit-transition-duration: var(--paper-progress-transition-duration, 0.08s);\n        transition-duration: var(--paper-progress-transition-duration, 0.08s);\n\n        /* Timing function */\n        -webkit-transition-timing-function: var(--paper-progress-transition-timing-function, ease);\n        transition-timing-function: var(--paper-progress-transition-timing-function, ease);\n\n        /* Delay */\n        -webkit-transition-delay: var(--paper-progress-transition-delay, 0s);\n        transition-delay: var(--paper-progress-transition-delay, 0s);\n      }\n\n      #primaryProgress,\n      #secondaryProgress {\n        @apply --layout-fit;\n        -webkit-transform-origin: left center;\n        transform-origin: left center;\n        -webkit-transform: scaleX(0);\n        transform: scaleX(0);\n        will-change: transform;\n      }\n\n      #primaryProgress {\n        background: var(--paper-progress-active-color, var(--google-green-500));\n      }\n\n      #secondaryProgress {\n        background: var(--paper-progress-secondary-color, var(--google-green-100));\n      }\n\n      :host([disabled]) #primaryProgress {\n        background: var(--paper-progress-disabled-active-color, var(--google-grey-500));\n      }\n\n      :host([disabled]) #secondaryProgress {\n        background: var(--paper-progress-disabled-secondary-color, var(--google-grey-300));\n      }\n\n      :host(:not([disabled])) #primaryProgress.indeterminate {\n        -webkit-transform-origin: right center;\n        transform-origin: right center;\n        -webkit-animation: indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;\n        animation: indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;\n      }\n\n      :host(:not([disabled])) #primaryProgress.indeterminate::after {\n        content: \"\";\n        -webkit-transform-origin: center center;\n        transform-origin: center center;\n\n        -webkit-animation: indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;\n        animation: indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;\n      }\n\n      @-webkit-keyframes indeterminate-bar {\n        0% {\n          -webkit-transform: scaleX(1) translateX(-100%);\n        }\n        50% {\n          -webkit-transform: scaleX(1) translateX(0%);\n        }\n        75% {\n          -webkit-transform: scaleX(1) translateX(0%);\n          -webkit-animation-timing-function: cubic-bezier(.28,.62,.37,.91);\n        }\n        100% {\n          -webkit-transform: scaleX(0) translateX(0%);\n        }\n      }\n\n      @-webkit-keyframes indeterminate-splitter {\n        0% {\n          -webkit-transform: scaleX(.75) translateX(-125%);\n        }\n        30% {\n          -webkit-transform: scaleX(.75) translateX(-125%);\n          -webkit-animation-timing-function: cubic-bezier(.42,0,.6,.8);\n        }\n        90% {\n          -webkit-transform: scaleX(.75) translateX(125%);\n        }\n        100% {\n          -webkit-transform: scaleX(.75) translateX(125%);\n        }\n      }\n\n      @keyframes indeterminate-bar {\n        0% {\n          transform: scaleX(1) translateX(-100%);\n        }\n        50% {\n          transform: scaleX(1) translateX(0%);\n        }\n        75% {\n          transform: scaleX(1) translateX(0%);\n          animation-timing-function: cubic-bezier(.28,.62,.37,.91);\n        }\n        100% {\n          transform: scaleX(0) translateX(0%);\n        }\n      }\n\n      @keyframes indeterminate-splitter {\n        0% {\n          transform: scaleX(.75) translateX(-125%);\n        }\n        30% {\n          transform: scaleX(.75) translateX(-125%);\n          animation-timing-function: cubic-bezier(.42,0,.6,.8);\n        }\n        90% {\n          transform: scaleX(.75) translateX(125%);\n        }\n        100% {\n          transform: scaleX(.75) translateX(125%);\n        }\n      }\n    </style>\n\n    <div id=\"progressContainer\">\n      <div id=\"secondaryProgress\" hidden\\$=\"[[_hideSecondaryProgress(secondaryRatio)]]\"></div>\n      <div id=\"primaryProgress\"></div>\n    </div>\n`,\n\n  is: 'paper-progress',\n  behaviors: [IronRangeBehavior],\n\n  properties: {\n    /**\n     * The number that represents the current secondary progress.\n     */\n    secondaryProgress: {type: Number, value: 0},\n\n    /**\n     * The secondary ratio\n     */\n    secondaryRatio: {type: Number, value: 0, readOnly: true},\n\n    /**\n     * Use an indeterminate progress indicator.\n     */\n    indeterminate:\n        {type: Boolean, value: false, observer: '_toggleIndeterminate'},\n\n    /**\n     * True if the progress is disabled.\n     */\n    disabled: {\n      type: Boolean,\n      value: false,\n      reflectToAttribute: true,\n      observer: '_disabledChanged'\n    }\n  },\n\n  observers:\n      ['_progressChanged(secondaryProgress, value, min, max, indeterminate)'],\n\n  hostAttributes: {role: 'progressbar'},\n\n  _toggleIndeterminate: function(indeterminate) {\n    // If we use attribute/class binding, the animation sometimes doesn't\n    // translate properly on Safari 7.1. So instead, we toggle the class here in\n    // the update method.\n    this.toggleClass('indeterminate', indeterminate, this.$.primaryProgress);\n  },\n\n  _transformProgress: function(progress, ratio) {\n    var transform = 'scaleX(' + (ratio / 100) + ')';\n    progress.style.transform = progress.style.webkitTransform = transform;\n  },\n\n  _mainRatioChanged: function(ratio) {\n    this._transformProgress(this.$.primaryProgress, ratio);\n  },\n\n  _progressChanged: function(\n      secondaryProgress, value, min, max, indeterminate) {\n    secondaryProgress = this._clampValue(secondaryProgress);\n    value = this._clampValue(value);\n\n    var secondaryRatio = this._calcRatio(secondaryProgress) * 100;\n    var mainRatio = this._calcRatio(value) * 100;\n\n    this._setSecondaryRatio(secondaryRatio);\n    this._transformProgress(this.$.secondaryProgress, secondaryRatio);\n    this._transformProgress(this.$.primaryProgress, mainRatio);\n\n    this.secondaryProgress = secondaryProgress;\n\n    if (indeterminate) {\n      this.removeAttribute('aria-valuenow');\n    } else {\n      this.setAttribute('aria-valuenow', value);\n    }\n    this.setAttribute('aria-valuemin', min);\n    this.setAttribute('aria-valuemax', max);\n  },\n\n  _disabledChanged: function(disabled) {\n    this.setAttribute('aria-disabled', disabled ? 'true' : 'false');\n  },\n\n  _hideSecondaryProgress: function(secondaryRatio) {\n    return secondaryRatio === 0;\n  }\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-input/paper-input.js';\nimport '@polymer/paper-progress/paper-progress.js';\nimport '@polymer/paper-styles/color.js';\n\nimport {IronA11yKeysBehavior} from '@polymer/iron-a11y-keys-behavior/iron-a11y-keys-behavior.js';\nimport {IronFormElementBehavior} from '@polymer/iron-form-element-behavior/iron-form-element-behavior.js';\nimport {IronRangeBehavior} from '@polymer/iron-range-behavior/iron-range-behavior.js';\nimport {PaperInkyFocusBehavior, PaperInkyFocusBehaviorImpl} from '@polymer/paper-behaviors/paper-inky-focus-behavior.js';\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {setTouchAction} from '@polymer/polymer/lib/utils/gestures.js';\nimport {html} from '@polymer/polymer/polymer-legacy.js';\n\nconst template = html`\n  <style>\n    :host {\n      @apply --layout;\n      @apply --layout-justified;\n      @apply --layout-center;\n      width: 200px;\n      cursor: default;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n      --paper-progress-active-color: var(--paper-slider-active-color, var(--google-blue-700));\n      --paper-progress-secondary-color: var(--paper-slider-secondary-color, var(--google-blue-300));\n      --paper-progress-disabled-active-color: var(--paper-slider-disabled-active-color, var(--paper-grey-400));\n      --paper-progress-disabled-secondary-color: var(--paper-slider-disabled-secondary-color, var(--paper-grey-400));\n      --calculated-paper-slider-height: var(--paper-slider-height, 2px);\n    }\n\n    /* focus shows the ripple */\n    :host(:focus) {\n      outline: none;\n    }\n\n    /**\n      * NOTE(keanulee): Though :host-context is not universally supported, some pages\n      * still rely on paper-slider being flipped when dir=\"rtl\" is set on body. For full\n      * compatibility, dir=\"rtl\" must be explicitly set on paper-slider.\n      */\n    :dir(rtl) #sliderContainer {\n      -webkit-transform: scaleX(-1);\n      transform: scaleX(-1);\n    }\n\n    /**\n      * NOTE(keanulee): This is separate from the rule above because :host-context may\n      * not be recognized.\n      */\n    :host([dir=\"rtl\"]) #sliderContainer {\n      -webkit-transform: scaleX(-1);\n      transform: scaleX(-1);\n    }\n\n    /**\n      * NOTE(keanulee): Needed to override the :host-context rule (where supported)\n      * to support LTR sliders in RTL pages.\n      */\n    :host([dir=\"ltr\"]) #sliderContainer {\n      -webkit-transform: scaleX(1);\n      transform: scaleX(1);\n    }\n\n    #sliderContainer {\n      position: relative;\n      width: 100%;\n      height: calc(30px + var(--calculated-paper-slider-height));\n      margin-left: calc(15px + var(--calculated-paper-slider-height)/2);\n      margin-right: calc(15px + var(--calculated-paper-slider-height)/2);\n    }\n\n    #sliderContainer:focus {\n      outline: 0;\n    }\n\n    #sliderContainer.editable {\n      margin-top: 12px;\n      margin-bottom: 12px;\n    }\n\n    .bar-container {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      overflow: hidden;\n    }\n\n    .ring > .bar-container {\n      left: calc(5px + var(--calculated-paper-slider-height)/2);\n      transition: left 0.18s ease;\n    }\n\n    .ring.expand.dragging > .bar-container {\n      transition: none;\n    }\n\n    .ring.expand:not(.pin) > .bar-container {\n      left: calc(8px + var(--calculated-paper-slider-height)/2);\n    }\n\n    #sliderBar {\n      padding: 15px 0;\n      width: 100%;\n      background-color: var(--paper-slider-bar-color, transparent);\n      --paper-progress-container-color: var(--paper-slider-container-color, var(--paper-grey-400));\n      --paper-progress-height: var(--calculated-paper-slider-height);\n    }\n\n    .slider-markers {\n      position: absolute;\n      /* slider-knob is 30px + the slider-height so that the markers should start at a offset of 15px*/\n      top: 15px;\n      height: var(--calculated-paper-slider-height);\n      left: 0;\n      right: -1px;\n      box-sizing: border-box;\n      pointer-events: none;\n      @apply --layout-horizontal;\n    }\n\n    .slider-marker {\n      @apply --layout-flex;\n    }\n    .slider-markers::after,\n    .slider-marker::after {\n      content: \"\";\n      display: block;\n      margin-left: -1px;\n      width: 2px;\n      height: var(--calculated-paper-slider-height);\n      border-radius: 50%;\n      background-color: var(--paper-slider-markers-color, #000);\n    }\n\n    .slider-knob {\n      position: absolute;\n      left: 0;\n      top: 0;\n      margin-left: calc(-15px - var(--calculated-paper-slider-height)/2);\n      width: calc(30px + var(--calculated-paper-slider-height));\n      height: calc(30px + var(--calculated-paper-slider-height));\n    }\n\n    .transiting > .slider-knob {\n      transition: left 0.08s ease;\n    }\n\n    .slider-knob:focus {\n      outline: none;\n    }\n\n    .slider-knob.dragging {\n      transition: none;\n    }\n\n    .snaps > .slider-knob.dragging {\n      transition: -webkit-transform 0.08s ease;\n      transition: transform 0.08s ease;\n    }\n\n    .slider-knob-inner {\n      margin: 10px;\n      width: calc(100% - 20px);\n      height: calc(100% - 20px);\n      background-color: var(--paper-slider-knob-color, var(--google-blue-700));\n      border: 2px solid var(--paper-slider-knob-color, var(--google-blue-700));\n      border-radius: 50%;\n\n      -moz-box-sizing: border-box;\n      box-sizing: border-box;\n\n      transition-property: -webkit-transform, background-color, border;\n      transition-property: transform, background-color, border;\n      transition-duration: 0.18s;\n      transition-timing-function: ease;\n    }\n\n    .expand:not(.pin) > .slider-knob > .slider-knob-inner {\n      -webkit-transform: scale(1.5);\n      transform: scale(1.5);\n    }\n\n    .ring > .slider-knob > .slider-knob-inner {\n      background-color: var(--paper-slider-knob-start-color, transparent);\n      border: 2px solid var(--paper-slider-knob-start-border-color, var(--paper-grey-400));\n    }\n\n    .slider-knob-inner::before {\n      background-color: var(--paper-slider-pin-color, var(--google-blue-700));\n    }\n\n    .pin > .slider-knob > .slider-knob-inner::before {\n      content: \"\";\n      position: absolute;\n      top: 0;\n      left: 50%;\n      margin-left: -13px;\n      width: 26px;\n      height: 26px;\n      border-radius: 50% 50% 50% 0;\n\n      -webkit-transform: rotate(-45deg) scale(0) translate(0);\n      transform: rotate(-45deg) scale(0) translate(0);\n    }\n\n    .slider-knob-inner::before,\n    .slider-knob-inner::after {\n      transition: -webkit-transform .18s ease, background-color .18s ease;\n      transition: transform .18s ease, background-color .18s ease;\n    }\n\n    .pin.ring > .slider-knob > .slider-knob-inner::before {\n      background-color: var(--paper-slider-pin-start-color, var(--paper-grey-400));\n    }\n\n    .pin.expand > .slider-knob > .slider-knob-inner::before {\n      -webkit-transform: rotate(-45deg) scale(1) translate(17px, -17px);\n      transform: rotate(-45deg) scale(1) translate(17px, -17px);\n    }\n\n    .pin > .slider-knob > .slider-knob-inner::after {\n      content: attr(value);\n      position: absolute;\n      top: 0;\n      left: 50%;\n      margin-left: -16px;\n      width: 32px;\n      height: 26px;\n      text-align: center;\n      color: var(--paper-slider-font-color, #fff);\n      font-size: 10px;\n\n      -webkit-transform: scale(0) translate(0);\n      transform: scale(0) translate(0);\n    }\n\n    .pin.expand > .slider-knob > .slider-knob-inner::after {\n      -webkit-transform: scale(1) translate(0, -17px);\n      transform: scale(1) translate(0, -17px);\n    }\n\n    /* paper-input */\n    .slider-input {\n      width: 50px;\n      overflow: hidden;\n      --paper-input-container-input: {\n        text-align: center;\n        @apply --paper-slider-input-container-input;\n      };\n      @apply --paper-slider-input;\n    }\n\n    /* disabled state */\n    #sliderContainer.disabled {\n      pointer-events: none;\n    }\n\n    .disabled > .slider-knob > .slider-knob-inner {\n      background-color: var(--paper-slider-disabled-knob-color, var(--paper-grey-400));\n      border: 2px solid var(--paper-slider-disabled-knob-color, var(--paper-grey-400));\n      -webkit-transform: scale3d(0.75, 0.75, 1);\n      transform: scale3d(0.75, 0.75, 1);\n    }\n\n    .disabled.ring > .slider-knob > .slider-knob-inner {\n      background-color: var(--paper-slider-knob-start-color, transparent);\n      border: 2px solid var(--paper-slider-knob-start-border-color, var(--paper-grey-400));\n    }\n\n    paper-ripple {\n      color: var(--paper-slider-knob-color, var(--google-blue-700));\n    }\n  </style>\n\n  <div id=\"sliderContainer\" class\\$=\"[[_getClassNames(disabled, pin, snaps, immediateValue, min, expand, dragging, transiting, editable)]]\">\n    <div class=\"bar-container\">\n      <paper-progress disabled\\$=\"[[disabled]]\" id=\"sliderBar\" aria-hidden=\"true\" min=\"[[min]]\" max=\"[[max]]\" step=\"[[step]]\" value=\"[[immediateValue]]\" secondary-progress=\"[[secondaryProgress]]\" on-down=\"_bardown\" on-up=\"_resetKnob\" on-track=\"_bartrack\" on-tap=\"_barclick\">\n      </paper-progress>\n    </div>\n\n    <template is=\"dom-if\" if=\"[[snaps]]\">\n      <div class=\"slider-markers\">\n        <template is=\"dom-repeat\" items=\"[[markers]]\">\n          <div class=\"slider-marker\"></div>\n        </template>\n      </div>\n    </template>\n\n    <div id=\"sliderKnob\" class=\"slider-knob\" on-down=\"_knobdown\" on-up=\"_resetKnob\" on-track=\"_onTrack\" on-transitionend=\"_knobTransitionEnd\">\n        <div class=\"slider-knob-inner\" value\\$=\"[[immediateValue]]\"></div>\n    </div>\n  </div>\n\n  <template is=\"dom-if\" if=\"[[editable]]\">\n    <paper-input id=\"input\" type=\"number\" step=\"[[step]]\" min=\"[[min]]\" max=\"[[max]]\" class=\"slider-input\" disabled\\$=\"[[disabled]]\" value=\"[[immediateValue]]\" on-change=\"_changeValue\" on-keydown=\"_inputKeyDown\" no-label-float>\n    </paper-input>\n  </template>\n`;\ntemplate.setAttribute('strip-whitespace', '');\n\n/**\nMaterial design:\n[Sliders](https://www.google.com/design/spec/components/sliders.html)\n\n`paper-slider` allows user to select a value from a range of values by\nmoving the slider thumb.  The interactive nature of the slider makes it a\ngreat choice for settings that reflect intensity levels, such as volume,\nbrightness, or color saturation.\n\nExample:\n\n    <paper-slider></paper-slider>\n\nUse `min` and `max` to specify the slider range.  Default is 0 to 100.\n\nExample:\n\n    <paper-slider min=\"10\" max=\"200\" value=\"110\"></paper-slider>\n\n### Styling\n\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-slider-container-color` | The background color of the bar | `--paper-grey-400`\n`--paper-slider-bar-color` | The background color of the slider | `transparent`\n`--paper-slider-active-color` | The progress bar color | `--google-blue-700`\n`--paper-slider-secondary-color` | The secondary progress bar color | `--google-blue-300`\n`--paper-slider-knob-color` | The knob color | `--google-blue-700`\n`--paper-slider-disabled-knob-color` | The disabled knob color | `--paper-grey-400`\n`--paper-slider-pin-color` | The pin color | `--google-blue-700`\n`--paper-slider-font-color` | The pin's text color | `#fff`\n`--paper-slider-markers-color` | The snaps markers color | `#000`\n`--paper-slider-disabled-active-color` | The disabled progress bar color | `--paper-grey-400`\n`--paper-slider-disabled-secondary-color` | The disabled secondary progress bar color | `--paper-grey-400`\n`--paper-slider-knob-start-color` | The fill color of the knob at the far left | `transparent`\n`--paper-slider-knob-start-border-color` | The border color of the knob at the far left | `--paper-grey-400`\n`--paper-slider-pin-start-color` | The color of the pin at the far left | `--paper-grey-400`\n`--paper-slider-height` | Height of the progress bar | `2px`\n`--paper-slider-input` | Mixin applied to the input in editable mode | `{}`\n`--paper-slider-input-container-input` | Mixin applied to the paper-input-container-input in editable mode | `{}`\n\n@group Paper Elements\n@element paper-slider\n@demo demo/index.html\n*/\nPolymer({\n  _template: template,\n\n  is: 'paper-slider',\n\n  behaviors: [\n    IronA11yKeysBehavior,\n    IronFormElementBehavior,\n    PaperInkyFocusBehavior,\n    IronRangeBehavior\n  ],\n\n  properties: {\n    value: {\n      type: Number,\n      value: 0,\n    },\n\n    /**\n     * If true, the slider thumb snaps to tick marks evenly spaced based\n     * on the `step` property value.\n     */\n    snaps: {\n      type: Boolean,\n      value: false,\n      notify: true,\n    },\n\n    /**\n     * If true, a pin with numeric value label is shown when the slider thumb\n     * is pressed. Use for settings for which users need to know the exact\n     * value of the setting.\n     */\n    pin: {\n      type: Boolean,\n      value: false,\n      notify: true,\n    },\n\n    /**\n     * The number that represents the current secondary progress.\n     */\n    secondaryProgress: {\n      type: Number,\n      value: 0,\n      notify: true,\n      observer: '_secondaryProgressChanged',\n    },\n\n    /**\n     * If true, an input is shown and user can use it to set the slider value.\n     */\n    editable: {\n      type: Boolean,\n      value: false,\n    },\n\n    /**\n     * The immediate value of the slider.  This value is updated while the user\n     * is dragging the slider.\n     */\n    immediateValue: {\n      type: Number,\n      value: 0,\n      readOnly: true,\n      notify: true,\n    },\n\n    /**\n     * The maximum number of markers\n     */\n    maxMarkers: {\n      type: Number,\n      value: 0,\n      notify: true,\n    },\n\n    /**\n     * If true, the knob is expanded\n     */\n    expand: {\n      type: Boolean,\n      value: false,\n      readOnly: true,\n    },\n\n    /**\n     * If true, a touchmove on the slider bar doesn't drag the slider thunb.\n     * Tapping on the slider bar still updates the slider's position\n     */\n    ignoreBarTouch: {\n      type: Boolean,\n      value: false,\n    },\n\n    /**\n     * True when the user is dragging the slider.\n     */\n    dragging: {\n      type: Boolean,\n      value: false,\n      readOnly: true,\n      notify: true,\n    },\n\n    transiting: {\n      type: Boolean,\n      value: false,\n      readOnly: true,\n    },\n\n    markers: {\n      type: Array,\n      readOnly: true,\n      value: function() {\n        return [];\n      },\n    },\n  },\n\n  observers: [\n    '_updateKnob(value, min, max, snaps, step)',\n    '_valueChanged(value)',\n    '_immediateValueChanged(immediateValue)',\n    '_updateMarkers(maxMarkers, min, max, snaps)',\n  ],\n\n  hostAttributes: {\n    role: 'slider',\n    tabindex: 0,\n  },\n\n  /** @type {!Object} */\n  keyBindings: {\n    'left': '_leftKey',\n    'right': '_rightKey',\n    'down pagedown home': '_decrementKey',\n    'up pageup end': '_incrementKey',\n  },\n\n  ready: function() {\n    if (this.ignoreBarTouch) {\n      setTouchAction(this.$.sliderBar, 'auto');\n    }\n  },\n\n  /**\n   * Increases value by `step` but not above `max`.\n   * @method increment\n   */\n  increment: function() {\n    this.value = this._clampValue(this.value + this.step);\n  },\n\n  /**\n   * Decreases value by `step` but not below `min`.\n   * @method decrement\n   */\n  decrement: function() {\n    this.value = this._clampValue(this.value - this.step);\n  },\n\n  _updateKnob: function(value, min, max, snaps, step) {\n    this.setAttribute('aria-valuemin', min);\n    this.setAttribute('aria-valuemax', max);\n    this.setAttribute('aria-valuenow', value);\n\n    this._positionKnob(this._calcRatio(value) * 100);\n  },\n\n  _valueChanged: function() {\n    this.fire('value-change', {composed: true});\n  },\n\n  _immediateValueChanged: function() {\n    if (this.dragging) {\n      this.fire('immediate-value-change', {composed: true});\n    } else {\n      this.value = this.immediateValue;\n    }\n  },\n\n  _secondaryProgressChanged: function() {\n    this.secondaryProgress = this._clampValue(this.secondaryProgress);\n  },\n\n  _expandKnob: function() {\n    this._setExpand(true);\n  },\n\n  _resetKnob: function() {\n    this.cancelDebouncer('expandKnob');\n    this._setExpand(false);\n  },\n\n  _positionKnob: function(ratio) {\n    this._setImmediateValue(this._calcStep(this._calcKnobPosition(ratio)));\n    this._setRatio(this._calcRatio(this.immediateValue) * 100);\n\n    this.$.sliderKnob.style.left = this.ratio + '%';\n    if (this.dragging) {\n      this._knobstartx = (this.ratio * this._w) / 100;\n      this.translate3d(0, 0, 0, this.$.sliderKnob);\n    }\n  },\n\n  _calcKnobPosition: function(ratio) {\n    return (this.max - this.min) * ratio / 100 + this.min;\n  },\n\n  _onTrack: function(event) {\n    event.stopPropagation();\n    switch (event.detail.state) {\n      case 'start':\n        this._trackStart(event);\n        break;\n      case 'track':\n        this._trackX(event);\n        break;\n      case 'end':\n        this._trackEnd();\n        break;\n    }\n  },\n\n  _trackStart: function(event) {\n    this._setTransiting(false);\n    this._w = this.$.sliderBar.offsetWidth;\n    this._x = this.ratio * this._w / 100;\n    this._startx = this._x;\n    this._knobstartx = this._startx;\n    this._minx = -this._startx;\n    this._maxx = this._w - this._startx;\n    this.$.sliderKnob.classList.add('dragging');\n    this._setDragging(true);\n  },\n\n  _trackX: function(event) {\n    if (!this.dragging) {\n      this._trackStart(event);\n    }\n\n    var direction = this._isRTL ? -1 : 1;\n    var dx =\n        Math.min(this._maxx, Math.max(this._minx, event.detail.dx * direction));\n    this._x = this._startx + dx;\n\n    var immediateValue =\n        this._calcStep(this._calcKnobPosition(this._x / this._w * 100));\n    this._setImmediateValue(immediateValue);\n\n    // update knob's position\n    var translateX =\n        ((this._calcRatio(this.immediateValue) * this._w) - this._knobstartx);\n    this.translate3d(translateX + 'px', 0, 0, this.$.sliderKnob);\n  },\n\n  _trackEnd: function() {\n    var s = this.$.sliderKnob.style;\n\n    this.$.sliderKnob.classList.remove('dragging');\n    this._setDragging(false);\n    this._resetKnob();\n    this.value = this.immediateValue;\n\n    s.transform = s.webkitTransform = '';\n\n    this.fire('change', {composed: true});\n  },\n\n  _knobdown: function(event) {\n    this._expandKnob();\n\n    // cancel selection\n    event.preventDefault();\n\n    // set the focus manually because we will called prevent default\n    this.focus();\n  },\n\n  _bartrack: function(event) {\n    if (this._allowBarEvent(event)) {\n      this._onTrack(event);\n    }\n  },\n\n  _barclick: function(event) {\n    this._w = this.$.sliderBar.offsetWidth;\n    var rect = this.$.sliderBar.getBoundingClientRect();\n    var ratio = (event.detail.x - rect.left) / this._w * 100;\n    if (this._isRTL) {\n      ratio = 100 - ratio;\n    }\n    var prevRatio = this.ratio;\n\n    this._setTransiting(true);\n    this._positionKnob(ratio);\n\n    // if the ratio doesn't change, sliderKnob's animation won't start\n    // and `_knobTransitionEnd` won't be called\n    // Therefore, we need to manually update the `transiting` state\n    if (prevRatio === this.ratio) {\n      this._setTransiting(false);\n    }\n\n    this.async(function() {\n      this.fire('change', {composed: true});\n    });\n\n    // cancel selection\n    event.preventDefault();\n\n    // set the focus manually because we will called prevent default\n    this.focus();\n  },\n\n  _bardown: function(event) {\n    if (this._allowBarEvent(event)) {\n      this.debounce('expandKnob', this._expandKnob, 60);\n      this._barclick(event);\n    }\n  },\n\n  _knobTransitionEnd: function(event) {\n    if (event.target === this.$.sliderKnob) {\n      this._setTransiting(false);\n    }\n  },\n\n  _updateMarkers: function(maxMarkers, min, max, snaps) {\n    if (!snaps) {\n      this._setMarkers([]);\n    }\n    var steps = Math.round((max - min) / this.step);\n    if (steps > maxMarkers) {\n      steps = maxMarkers;\n    }\n    if (steps < 0 || !isFinite(steps)) {\n      steps = 0;\n    }\n    this._setMarkers(new Array(steps));\n  },\n\n  _mergeClasses: function(classes) {\n    return Object.keys(classes)\n        .filter(function(className) {\n          return classes[className];\n        })\n        .join(' ');\n  },\n\n  _getClassNames: function() {\n    return this._mergeClasses({\n      disabled: this.disabled,\n      pin: this.pin,\n      snaps: this.snaps,\n      ring: this.immediateValue <= this.min,\n      expand: this.expand,\n      dragging: this.dragging,\n      transiting: this.transiting,\n      editable: this.editable\n    });\n  },\n\n  _allowBarEvent: function(event) {\n    return (\n        !this.ignoreBarTouch ||\n        (event.detail.sourceEvent instanceof MouseEvent))\n  },\n\n  get _isRTL() {\n    if (this.__isRTL === undefined) {\n      this.__isRTL = window.getComputedStyle(this)['direction'] === 'rtl';\n    }\n    return this.__isRTL;\n  },\n\n  _leftKey: function(event) {\n    if (this._isRTL)\n      this._incrementKey(event);\n    else\n      this._decrementKey(event);\n  },\n\n  _rightKey: function(event) {\n    if (this._isRTL)\n      this._decrementKey(event);\n    else\n      this._incrementKey(event);\n  },\n\n  _incrementKey: function(event) {\n    if (!this.disabled) {\n      if (event.detail.key === 'end') {\n        this.value = this.max;\n      } else {\n        this.increment();\n      }\n      this.fire('change');\n      event.preventDefault();\n    }\n  },\n\n  _decrementKey: function(event) {\n    if (!this.disabled) {\n      if (event.detail.key === 'home') {\n        this.value = this.min;\n      } else {\n        this.decrement();\n      }\n      this.fire('change');\n      event.preventDefault();\n    }\n  },\n\n  _changeValue: function(event) {\n    this.value = event.target.value;\n    this.fire('change', {composed: true});\n  },\n\n  _inputKeyDown: function(event) {\n    event.stopPropagation();\n  },\n\n  // create the element ripple inside the `sliderKnob`\n  _createRipple: function() {\n    this._rippleContainer = this.$.sliderKnob;\n    return PaperInkyFocusBehaviorImpl._createRipple.call(this);\n  },\n\n  // Hide the ripple when user is not interacting with keyboard.\n  // This behavior is different from other ripple-y controls, but is\n  // according to spec:\n  // https://www.google.com/design/spec/components/sliders.html\n  _focusedChanged: function(receivedFocusFromKeyboard) {\n    if (receivedFocusFromKeyboard) {\n      this.ensureRipple();\n    }\n    if (this.hasRipple()) {\n      // note, ripple must be un-hidden prior to setting `holdDown`\n      if (receivedFocusFromKeyboard) {\n        this._ripple.style.display = '';\n      } else {\n        this._ripple.style.display = 'none';\n      }\n      this._ripple.holdDown = receivedFocusFromKeyboard;\n    }\n  }\n  /**\n   * Fired when the slider's value changes.\n   *\n   * @event value-change\n   */\n\n  /**\n   * Fired when the slider's immediateValue changes. Only occurs while the\n   * user is dragging.\n   *\n   * To detect changes to immediateValue that happen for any input (i.e.\n   * dragging, tapping, clicking, etc.) listen for immediate-value-changed\n   * instead.\n   *\n   * @event immediate-value-change\n   */\n\n  /**\n   * Fired when the slider's value changes due to user interaction.\n   *\n   * Changes to the slider's value due to changes in an underlying\n   * bound variable will not trigger this event.\n   *\n   * @event change\n   */\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n/*\nTypographic styles are provided matching the Material Design standard styles:\nhttp://www.google.com/design/spec/style/typography.html#typography-standard-styles\n\nNote that these are English/Latin centric styles. You may need to further adjust\nline heights and weights for CJK typesetting. See the notes in the Material\nDesign typography section.\n*/\n\nimport '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/font-roboto/roboto.js';\n\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\nconst template = html`<custom-style>\n  <style is=\"custom-style\">\n    html {\n\n      /* Shared Styles */\n      --paper-font-common-base: {\n        font-family: 'Roboto', 'Noto', sans-serif;\n        -webkit-font-smoothing: antialiased;\n      };\n\n      --paper-font-common-code: {\n        font-family: 'Roboto Mono', 'Consolas', 'Menlo', monospace;\n        -webkit-font-smoothing: antialiased;\n      };\n\n      --paper-font-common-expensive-kerning: {\n        text-rendering: optimizeLegibility;\n      };\n\n      --paper-font-common-nowrap: {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      };\n\n      /* Material Font Styles */\n\n      --paper-font-display4: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 112px;\n        font-weight: 300;\n        letter-spacing: -.044em;\n        line-height: 120px;\n      };\n\n      --paper-font-display3: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 56px;\n        font-weight: 400;\n        letter-spacing: -.026em;\n        line-height: 60px;\n      };\n\n      --paper-font-display2: {\n        @apply --paper-font-common-base;\n\n        font-size: 45px;\n        font-weight: 400;\n        letter-spacing: -.018em;\n        line-height: 48px;\n      };\n\n      --paper-font-display1: {\n        @apply --paper-font-common-base;\n\n        font-size: 34px;\n        font-weight: 400;\n        letter-spacing: -.01em;\n        line-height: 40px;\n      };\n\n      --paper-font-headline: {\n        @apply --paper-font-common-base;\n\n        font-size: 24px;\n        font-weight: 400;\n        letter-spacing: -.012em;\n        line-height: 32px;\n      };\n\n      --paper-font-title: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 20px;\n        font-weight: 500;\n        line-height: 28px;\n      };\n\n      --paper-font-subhead: {\n        @apply --paper-font-common-base;\n\n        font-size: 16px;\n        font-weight: 400;\n        line-height: 24px;\n      };\n\n      --paper-font-body2: {\n        @apply --paper-font-common-base;\n\n        font-size: 14px;\n        font-weight: 500;\n        line-height: 24px;\n      };\n\n      --paper-font-body1: {\n        @apply --paper-font-common-base;\n\n        font-size: 14px;\n        font-weight: 400;\n        line-height: 20px;\n      };\n\n      --paper-font-caption: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 12px;\n        font-weight: 400;\n        letter-spacing: 0.011em;\n        line-height: 20px;\n      };\n\n      --paper-font-menu: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 13px;\n        font-weight: 500;\n        line-height: 24px;\n      };\n\n      --paper-font-button: {\n        @apply --paper-font-common-base;\n        @apply --paper-font-common-nowrap;\n\n        font-size: 14px;\n        font-weight: 500;\n        letter-spacing: 0.018em;\n        line-height: 24px;\n        text-transform: uppercase;\n      };\n\n      --paper-font-code2: {\n        @apply --paper-font-common-code;\n\n        font-size: 14px;\n        font-weight: 700;\n        line-height: 20px;\n      };\n\n      --paper-font-code1: {\n        @apply --paper-font-common-code;\n\n        font-size: 14px;\n        font-weight: 500;\n        line-height: 20px;\n      };\n\n    }\n\n  </style>\n</custom-style>`;\ntemplate.setAttribute('style', 'display: none;');\ndocument.head.appendChild(template.content);\n","import {\n  mdiAlertCircleOutline,\n  mdiAlertOutline,\n  mdiCheckboxMarkedCircleOutline,\n  mdiClose,\n  mdiInformationOutline,\n} from \"@mdi/js\";\nimport { css, html, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { classMap } from \"lit/directives/class-map\";\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport \"./ha-icon-button\";\nimport \"./ha-svg-icon\";\n\nconst ALERT_ICONS = {\n  info: mdiInformationOutline,\n  warning: mdiAlertOutline,\n  error: mdiAlertCircleOutline,\n  success: mdiCheckboxMarkedCircleOutline,\n};\n\ndeclare global {\n  interface HASSDomEvents {\n    \"alert-dismissed-clicked\": undefined;\n  }\n}\n\n@customElement(\"ha-alert\")\nclass HaAlert extends LitElement {\n  @property() public title = \"\";\n\n  @property({ attribute: \"alert-type\" }) public alertType:\n    | \"info\"\n    | \"warning\"\n    | \"error\"\n    | \"success\" = \"info\";\n\n  @property({ type: Boolean }) public dismissable = false;\n\n  @property({ type: Boolean }) public rtl = false;\n\n  public render() {\n    return html`\n      <div\n        class=\"issue-type ${classMap({\n          rtl: this.rtl,\n          [this.alertType]: true,\n        })}\"\n        role=\"alert\"\n      >\n        <div class=\"icon ${this.title ? \"\" : \"no-title\"}\">\n          <slot name=\"icon\">\n            <ha-svg-icon .path=${ALERT_ICONS[this.alertType]}></ha-svg-icon>\n          </slot>\n        </div>\n        <div class=\"content\">\n          <div class=\"main-content\">\n            ${this.title ? html`<div class=\"title\">${this.title}</div>` : \"\"}\n            <slot></slot>\n          </div>\n          <div class=\"action\">\n            <slot name=\"action\">\n              ${this.dismissable\n                ? html`<ha-icon-button\n                    @click=${this._dismiss_clicked}\n                    label=\"Dismiss alert\"\n                    .path=${mdiClose}\n                  ></ha-icon-button>`\n                : \"\"}\n            </slot>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  private _dismiss_clicked() {\n    fireEvent(this, \"alert-dismissed-clicked\");\n  }\n\n  static styles = css`\n    .issue-type {\n      position: relative;\n      padding: 8px;\n      display: flex;\n    }\n    .issue-type.rtl {\n      flex-direction: row-reverse;\n    }\n    .issue-type::after {\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      opacity: 0.12;\n      pointer-events: none;\n      content: \"\";\n      border-radius: 4px;\n    }\n    .icon {\n      z-index: 1;\n    }\n    .icon.no-title {\n      align-self: center;\n    }\n    .issue-type.rtl > .content {\n      flex-direction: row-reverse;\n      text-align: right;\n    }\n    .content {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      width: 100%;\n    }\n    .action {\n      z-index: 1;\n      width: min-content;\n      --mdc-theme-primary: var(--primary-text-color);\n    }\n    .main-content {\n      overflow-wrap: anywhere;\n      word-break: break-word;\n      margin-left: 8px;\n      margin-right: 0;\n    }\n    .issue-type.rtl > .content > .main-content {\n      margin-left: 0;\n      margin-right: 8px;\n    }\n    .title {\n      margin-top: 2px;\n      font-weight: bold;\n    }\n    .action mwc-button,\n    .action ha-icon-button {\n      --mdc-theme-primary: var(--primary-text-color);\n      --mdc-icon-button-size: 36px;\n    }\n    .issue-type.info > .icon {\n      color: var(--info-color);\n    }\n    .issue-type.info::after {\n      background-color: var(--info-color);\n    }\n\n    .issue-type.warning > .icon {\n      color: var(--warning-color);\n    }\n    .issue-type.warning::after {\n      background-color: var(--warning-color);\n    }\n\n    .issue-type.error > .icon {\n      color: var(--error-color);\n    }\n    .issue-type.error::after {\n      background-color: var(--error-color);\n    }\n\n    .issue-type.success > .icon {\n      color: var(--success-color);\n    }\n    .issue-type.success::after {\n      background-color: var(--success-color);\n    }\n  `;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-alert\": HaAlert;\n  }\n}\n","import \"@material/mwc-list/mwc-list-item\";\nimport { css, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { ifDefined } from \"lit/directives/if-defined\";\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport { stopPropagation } from \"../common/dom/stop_propagation\";\nimport \"./ha-select\";\nimport { HaTextField } from \"./ha-textfield\";\nimport \"./ha-input-helper-text\";\n\nexport interface TimeChangedEvent {\n  days?: number;\n  hours: number;\n  minutes: number;\n  seconds: number;\n  milliseconds: number;\n  amPm?: \"AM\" | \"PM\";\n}\n\n@customElement(\"ha-base-time-input\")\nexport class HaBaseTimeInput extends LitElement {\n  /**\n   * Label for the input\n   */\n  @property() label?: string;\n\n  /**\n   * Helper for the input\n   */\n  @property() helper?: string;\n\n  /**\n   * auto validate time inputs\n   */\n  @property({ type: Boolean }) autoValidate = false;\n\n  /**\n   * determines if inputs are required\n   */\n  @property({ type: Boolean }) public required = false;\n\n  /**\n   * 12 or 24 hr format\n   */\n  @property({ type: Number }) format: 12 | 24 = 12;\n\n  /**\n   * disables the inputs\n   */\n  @property({ type: Boolean }) disabled = false;\n\n  /**\n   * day\n   */\n  @property({ type: Number }) days = 0;\n\n  /**\n   * hour\n   */\n  @property({ type: Number }) hours = 0;\n\n  /**\n   * minute\n   */\n  @property({ type: Number }) minutes = 0;\n\n  /**\n   * second\n   */\n  @property({ type: Number }) seconds = 0;\n\n  /**\n   * milli second\n   */\n  @property({ type: Number }) milliseconds = 0;\n\n  /**\n   * Label for the day input\n   */\n  @property() dayLabel = \"\";\n\n  /**\n   * Label for the hour input\n   */\n  @property() hourLabel = \"\";\n\n  /**\n   * Label for the min input\n   */\n  @property() minLabel = \"\";\n\n  /**\n   * Label for the sec input\n   */\n  @property() secLabel = \"\";\n\n  /**\n   * Label for the milli sec input\n   */\n  @property() millisecLabel = \"\";\n\n  /**\n   * show the sec field\n   */\n  @property({ type: Boolean }) enableSecond = false;\n\n  /**\n   * show the milli sec field\n   */\n  @property({ type: Boolean }) enableMillisecond = false;\n\n  /**\n   * show the day field\n   */\n  @property({ type: Boolean }) enableDay = false;\n\n  /**\n   * limit hours input\n   */\n  @property({ type: Boolean }) noHoursLimit = false;\n\n  /**\n   * AM or PM\n   */\n  @property() amPm: \"AM\" | \"PM\" = \"AM\";\n\n  protected render(): TemplateResult {\n    return html`\n      ${this.label\n        ? html`<label>${this.label}${this.required ? \" *\" : \"\"}</label>`\n        : \"\"}\n      <div class=\"time-input-wrap\">\n        ${this.enableDay\n          ? html`\n              <ha-textfield\n                id=\"day\"\n                type=\"number\"\n                inputmode=\"numeric\"\n                .value=${this.days.toFixed()}\n                .label=${this.dayLabel}\n                name=\"days\"\n                @input=${this._valueChanged}\n                @focusin=${this._onFocus}\n                no-spinner\n                .required=${this.required}\n                .autoValidate=${this.autoValidate}\n                min=\"0\"\n                .disabled=${this.disabled}\n                suffix=\":\"\n                class=\"hasSuffix\"\n              >\n              </ha-textfield>\n            `\n          : \"\"}\n\n        <ha-textfield\n          id=\"hour\"\n          type=\"number\"\n          inputmode=\"numeric\"\n          .value=${this.hours.toFixed()}\n          .label=${this.hourLabel}\n          name=\"hours\"\n          @input=${this._valueChanged}\n          @focusin=${this._onFocus}\n          no-spinner\n          .required=${this.required}\n          .autoValidate=${this.autoValidate}\n          maxlength=\"2\"\n          max=${ifDefined(this._hourMax)}\n          min=\"0\"\n          .disabled=${this.disabled}\n          suffix=\":\"\n          class=\"hasSuffix\"\n        >\n        </ha-textfield>\n        <ha-textfield\n          id=\"min\"\n          type=\"number\"\n          inputmode=\"numeric\"\n          .value=${this._formatValue(this.minutes)}\n          .label=${this.minLabel}\n          @input=${this._valueChanged}\n          @focusin=${this._onFocus}\n          name=\"minutes\"\n          no-spinner\n          .required=${this.required}\n          .autoValidate=${this.autoValidate}\n          maxlength=\"2\"\n          max=\"59\"\n          min=\"0\"\n          .disabled=${this.disabled}\n          .suffix=${this.enableSecond ? \":\" : \"\"}\n          class=${this.enableSecond ? \"has-suffix\" : \"\"}\n        >\n        </ha-textfield>\n        ${this.enableSecond\n          ? html`<ha-textfield\n              id=\"sec\"\n              type=\"number\"\n              inputmode=\"numeric\"\n              .value=${this._formatValue(this.seconds)}\n              .label=${this.secLabel}\n              @input=${this._valueChanged}\n              @focusin=${this._onFocus}\n              name=\"seconds\"\n              no-spinner\n              .required=${this.required}\n              .autoValidate=${this.autoValidate}\n              maxlength=\"2\"\n              max=\"59\"\n              min=\"0\"\n              .disabled=${this.disabled}\n              .suffix=${this.enableMillisecond ? \":\" : \"\"}\n              class=${this.enableMillisecond ? \"has-suffix\" : \"\"}\n            >\n            </ha-textfield>`\n          : \"\"}\n        ${this.enableMillisecond\n          ? html`<ha-textfield\n              id=\"millisec\"\n              type=\"number\"\n              .value=${this._formatValue(this.milliseconds, 3)}\n              .label=${this.millisecLabel}\n              @input=${this._valueChanged}\n              @focusin=${this._onFocus}\n              name=\"milliseconds\"\n              no-spinner\n              .required=${this.required}\n              .autoValidate=${this.autoValidate}\n              maxlength=\"3\"\n              max=\"999\"\n              min=\"0\"\n              .disabled=${this.disabled}\n            >\n            </ha-textfield>`\n          : \"\"}\n        ${this.format === 24\n          ? \"\"\n          : html`<ha-select\n              .required=${this.required}\n              .value=${this.amPm}\n              .disabled=${this.disabled}\n              name=\"amPm\"\n              naturalMenuWidth\n              fixedMenuPosition\n              @selected=${this._valueChanged}\n              @closed=${stopPropagation}\n            >\n              <mwc-list-item value=\"AM\">AM</mwc-list-item>\n              <mwc-list-item value=\"PM\">PM</mwc-list-item>\n            </ha-select>`}\n      </div>\n      ${this.helper\n        ? html`<ha-input-helper-text>${this.helper}</ha-input-helper-text>`\n        : \"\"}\n    `;\n  }\n\n  private _valueChanged(ev: InputEvent) {\n    const textField = ev.currentTarget as HaTextField;\n    this[textField.name] =\n      textField.name === \"amPm\" ? textField.value : Number(textField.value);\n    const value: TimeChangedEvent = {\n      hours: this.hours,\n      minutes: this.minutes,\n      seconds: this.seconds,\n      milliseconds: this.milliseconds,\n    };\n    if (this.format === 12) {\n      value.amPm = this.amPm;\n    }\n    fireEvent(this, \"value-changed\", {\n      value,\n    });\n  }\n\n  private _onFocus(ev: FocusEvent) {\n    (ev.currentTarget as HaTextField).select();\n  }\n\n  /**\n   * Format time fragments\n   */\n  private _formatValue(value: number, padding = 2) {\n    return value.toString().padStart(padding, \"0\");\n  }\n\n  /**\n   * 24 hour format has a max hr of 23\n   */\n  private get _hourMax() {\n    if (this.noHoursLimit) {\n      return undefined;\n    }\n    if (this.format === 12) {\n      return 12;\n    }\n    return 23;\n  }\n\n  static styles = css`\n    :host {\n      display: block;\n    }\n    .time-input-wrap {\n      display: flex;\n      border-radius: var(--mdc-shape-small, 4px) var(--mdc-shape-small, 4px) 0 0;\n      overflow: hidden;\n      position: relative;\n      direction: ltr;\n    }\n    ha-textfield {\n      width: 40px;\n      text-align: center;\n      --mdc-shape-small: 0;\n      --text-field-appearance: none;\n      --text-field-padding: 0 4px;\n      --text-field-suffix-padding-left: 2px;\n      --text-field-suffix-padding-right: 0;\n      --text-field-text-align: center;\n    }\n    ha-textfield.hasSuffix {\n      --text-field-padding: 0 0 0 4px;\n    }\n    ha-textfield:first-child {\n      --text-field-border-top-left-radius: var(--mdc-shape-medium);\n    }\n    ha-textfield:last-child {\n      --text-field-border-top-right-radius: var(--mdc-shape-medium);\n    }\n    ha-select {\n      --mdc-shape-small: 0;\n      width: 85px;\n    }\n    label {\n      -moz-osx-font-smoothing: grayscale;\n      -webkit-font-smoothing: antialiased;\n      font-family: var(\n        --mdc-typography-body2-font-family,\n        var(--mdc-typography-font-family, Roboto, sans-serif)\n      );\n      font-size: var(--mdc-typography-body2-font-size, 0.875rem);\n      line-height: var(--mdc-typography-body2-line-height, 1.25rem);\n      font-weight: var(--mdc-typography-body2-font-weight, 400);\n      letter-spacing: var(\n        --mdc-typography-body2-letter-spacing,\n        0.0178571429em\n      );\n      text-decoration: var(--mdc-typography-body2-text-decoration, inherit);\n      text-transform: var(--mdc-typography-body2-text-transform, inherit);\n      color: var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87));\n      padding-left: 4px;\n    }\n  `;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-base-time-input\": HaBaseTimeInput;\n  }\n}\n","import type { Button } from \"@material/mwc-button\";\nimport \"@material/mwc-menu\";\nimport type { Corner, Menu, MenuCorner } from \"@material/mwc-menu\";\nimport { css, CSSResultGroup, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators\";\nimport { FOCUS_TARGET } from \"../dialogs/make-dialog-manager\";\nimport type { HaIconButton } from \"./ha-icon-button\";\n\n@customElement(\"ha-button-menu\")\nexport class HaButtonMenu extends LitElement {\n  protected readonly [FOCUS_TARGET];\n\n  @property() public corner: Corner = \"TOP_START\";\n\n  @property() public menuCorner: MenuCorner = \"START\";\n\n  @property({ type: Number }) public x: number | null = null;\n\n  @property({ type: Number }) public y: number | null = null;\n\n  @property({ type: Boolean }) public multi = false;\n\n  @property({ type: Boolean }) public activatable = false;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @property({ type: Boolean }) public fixed = false;\n\n  @query(\"mwc-menu\", true) private _menu?: Menu;\n\n  public get items() {\n    return this._menu?.items;\n  }\n\n  public get selected() {\n    return this._menu?.selected;\n  }\n\n  public override focus() {\n    if (this._menu?.open) {\n      this._menu.focusItemAtIndex(0);\n    } else {\n      this._triggerButton?.focus();\n    }\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <div @click=${this._handleClick}>\n        <slot name=\"trigger\" @slotchange=${this._setTriggerAria}></slot>\n      </div>\n      <mwc-menu\n        .corner=${this.corner}\n        .menuCorner=${this.menuCorner}\n        .fixed=${this.fixed}\n        .multi=${this.multi}\n        .activatable=${this.activatable}\n        .y=${this.y}\n        .x=${this.x}\n      >\n        <slot></slot>\n      </mwc-menu>\n    `;\n  }\n\n  protected firstUpdated(changedProps): void {\n    super.firstUpdated(changedProps);\n\n    if (document.dir === \"rtl\") {\n      this.updateComplete.then(() => {\n        this.querySelectorAll(\"mwc-list-item\").forEach((item) => {\n          const style = document.createElement(\"style\");\n          style.innerHTML =\n            \"span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}\";\n          item!.shadowRoot!.appendChild(style);\n        });\n      });\n    }\n  }\n\n  private _handleClick(): void {\n    if (this.disabled) {\n      return;\n    }\n    this._menu!.anchor = this;\n    this._menu!.show();\n  }\n\n  private get _triggerButton() {\n    return this.querySelector(\n      'ha-icon-button[slot=\"trigger\"], mwc-button[slot=\"trigger\"]'\n    ) as HaIconButton | Button | null;\n  }\n\n  private _setTriggerAria() {\n    if (this._triggerButton) {\n      this._triggerButton.ariaHasPopup = \"menu\";\n    }\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      :host {\n        display: inline-block;\n        position: relative;\n      }\n      ::slotted([disabled]) {\n        color: var(--disabled-text-color);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-button-menu\": HaButtonMenu;\n  }\n}\n","import { css } from \"lit\";\nimport { CheckListItemBase } from \"@material/mwc-list/mwc-check-list-item-base\";\nimport { styles as controlStyles } from \"@material/mwc-list/mwc-control-list-item.css\";\nimport { styles } from \"@material/mwc-list/mwc-list-item.css\";\nimport { customElement } from \"lit/decorators\";\n\n@customElement(\"ha-check-list-item\")\nexport class HaCheckListItem extends CheckListItemBase {\n  static override styles = [\n    styles,\n    controlStyles,\n    css`\n      :host {\n        --mdc-theme-secondary: var(--primary-color);\n      }\n    `,\n  ];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-check-list-item\": HaCheckListItem;\n  }\n}\n","import { CheckboxBase } from \"@material/mwc-checkbox/mwc-checkbox-base\";\nimport { styles } from \"@material/mwc-checkbox/mwc-checkbox.css\";\nimport { css } from \"lit\";\nimport { customElement } from \"lit/decorators\";\n\n@customElement(\"ha-checkbox\")\nexport class HaCheckbox extends CheckboxBase {\n  static override styles = [\n    styles,\n    css`\n      :host {\n        --mdc-theme-secondary: var(--primary-color);\n      }\n    `,\n  ];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-checkbox\": HaCheckbox;\n  }\n}\n","// @ts-ignore\nimport chipStyles from \"@material/chips/dist/mdc.chips.min.css\";\nimport {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  TemplateResult,\n  unsafeCSS,\n} from \"lit\";\nimport { customElement } from \"lit/decorators\";\n\n@customElement(\"ha-chip-set\")\nexport class HaChipSet extends LitElement {\n  protected render(): TemplateResult {\n    return html`\n      <div class=\"mdc-chip-set\">\n        <slot></slot>\n      </div>\n    `;\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      ${unsafeCSS(chipStyles)}\n\n      slot::slotted(ha-chip) {\n        margin: 4px 4px 4px 0;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-chip-set\": HaChipSet;\n  }\n}\n","// @ts-ignore\nimport chipStyles from \"@material/chips/dist/mdc.chips.min.css\";\nimport {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  TemplateResult,\n  unsafeCSS,\n} from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\n\n@customElement(\"ha-chip\")\nexport class HaChip extends LitElement {\n  @property({ type: Boolean }) public hasIcon = false;\n\n  @property({ type: Boolean }) public hasTrailingIcon = false;\n\n  @property({ type: Boolean }) public noText = false;\n\n  protected render(): TemplateResult {\n    return html`\n      <div class=\"mdc-chip ${this.noText ? \"no-text\" : \"\"}\">\n        ${this.hasIcon\n          ? html`<div class=\"mdc-chip__icon mdc-chip__icon--leading\">\n              <slot name=\"icon\"></slot>\n            </div>`\n          : null}\n        <div class=\"mdc-chip__ripple\"></div>\n        <span role=\"gridcell\">\n          <span role=\"button\" tabindex=\"0\" class=\"mdc-chip__primary-action\">\n            <span class=\"mdc-chip__text\"><slot></slot></span>\n          </span>\n        </span>\n        ${this.hasTrailingIcon\n          ? html`<div class=\"mdc-chip__icon mdc-chip__icon--trailing\">\n              <slot name=\"trailing-icon\"></slot>\n            </div>`\n          : null}\n      </div>\n    `;\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      ${unsafeCSS(chipStyles)}\n      .mdc-chip {\n        background-color: var(\n          --ha-chip-background-color,\n          rgba(var(--rgb-primary-text-color), 0.15)\n        );\n        color: var(--ha-chip-text-color, var(--primary-text-color));\n      }\n\n      .mdc-chip.no-text {\n        padding: 0 10px;\n      }\n\n      .mdc-chip:hover {\n        color: var(--ha-chip-text-color, var(--primary-text-color));\n      }\n\n      .mdc-chip__icon--leading,\n      .mdc-chip__icon--trailing {\n        --mdc-icon-size: 18px;\n        line-height: 14px;\n        color: var(--ha-chip-icon-color, var(--ha-chip-text-color));\n      }\n      .mdc-chip.mdc-chip--selected .mdc-chip__checkmark,\n      .mdc-chip .mdc-chip__icon--leading:not(.mdc-chip__icon--leading-hidden) {\n        margin-right: -4px;\n        margin-inline-start: -4px;\n        margin-inline-end: 4px;\n        direction: var(--direction);\n      }\n\n      span[role=\"gridcell\"] {\n        line-height: 14px;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-chip\": HaChip;\n  }\n}\n","import { html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators\";\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport \"./ha-base-time-input\";\nimport type { TimeChangedEvent } from \"./ha-base-time-input\";\n\nexport interface HaDurationData {\n  days?: number;\n  hours?: number;\n  minutes?: number;\n  seconds?: number;\n  milliseconds?: number;\n}\n\n@customElement(\"ha-duration-input\")\nclass HaDurationInput extends LitElement {\n  @property({ attribute: false }) public data?: HaDurationData;\n\n  @property() public label?: string;\n\n  @property() public helper?: string;\n\n  @property({ type: Boolean }) public required = false;\n\n  @property({ type: Boolean }) public enableMillisecond = false;\n\n  @property({ type: Boolean }) public enableDay = false;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @query(\"paper-time-input\", true) private _input?: HTMLElement;\n\n  public focus() {\n    if (this._input) {\n      this._input.focus();\n    }\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <ha-base-time-input\n        .label=${this.label}\n        .helper=${this.helper}\n        .required=${this.required}\n        .autoValidate=${this.required}\n        .disabled=${this.disabled}\n        errorMessage=\"Required\"\n        enableSecond\n        .enableMillisecond=${this.enableMillisecond}\n        .enableDay=${this.enableDay}\n        format=\"24\"\n        .days=${this._days}\n        .hours=${this._hours}\n        .minutes=${this._minutes}\n        .seconds=${this._seconds}\n        .milliseconds=${this._milliseconds}\n        @value-changed=${this._durationChanged}\n        noHoursLimit\n        dayLabel=\"dd\"\n        hourLabel=\"hh\"\n        minLabel=\"mm\"\n        secLabel=\"ss\"\n        millisecLabel=\"ms\"\n      ></ha-base-time-input>\n    `;\n  }\n\n  private get _days() {\n    return this.data?.days ? Number(this.data.days) : 0;\n  }\n\n  private get _hours() {\n    return this.data?.hours ? Number(this.data.hours) : 0;\n  }\n\n  private get _minutes() {\n    return this.data?.minutes ? Number(this.data.minutes) : 0;\n  }\n\n  private get _seconds() {\n    return this.data?.seconds ? Number(this.data.seconds) : 0;\n  }\n\n  private get _milliseconds() {\n    return this.data?.milliseconds ? Number(this.data.milliseconds) : 0;\n  }\n\n  private _durationChanged(ev: CustomEvent<{ value: TimeChangedEvent }>) {\n    ev.stopPropagation();\n    const value = { ...ev.detail.value };\n\n    if (!this.enableMillisecond && !value.milliseconds) {\n      // @ts-ignore\n      delete value.milliseconds;\n    } else if (value.milliseconds > 999) {\n      value.seconds += Math.floor(value.milliseconds / 1000);\n      value.milliseconds %= 1000;\n    }\n\n    if (value.seconds > 59) {\n      value.minutes += Math.floor(value.seconds / 60);\n      value.seconds %= 60;\n    }\n\n    if (value.minutes > 59) {\n      value.hours += Math.floor(value.minutes / 60);\n      value.minutes %= 60;\n    }\n\n    if (this.enableDay && value.hours > 24) {\n      value.days = (value.days ?? 0) + Math.floor(value.hours / 24);\n      value.hours %= 24;\n    }\n\n    fireEvent(this, \"value-changed\", {\n      value,\n    });\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-duration-input\": HaDurationInput;\n  }\n}\n","import \"@material/mwc-formfield\";\nimport { html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport type {\n  HaFormBooleanData,\n  HaFormBooleanSchema,\n  HaFormElement,\n} from \"./types\";\nimport type { HaCheckbox } from \"../ha-checkbox\";\nimport \"../ha-checkbox\";\n\n@customElement(\"ha-form-boolean\")\nexport class HaFormBoolean extends LitElement implements HaFormElement {\n  @property() public schema!: HaFormBooleanSchema;\n\n  @property() public data!: HaFormBooleanData;\n\n  @property() public label!: string;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @query(\"ha-checkbox\", true) private _input?: HTMLElement;\n\n  public focus() {\n    if (this._input) {\n      this._input.focus();\n    }\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <mwc-formfield .label=${this.label}>\n        <ha-checkbox\n          .checked=${this.data}\n          .disabled=${this.disabled}\n          @change=${this._valueChanged}\n        ></ha-checkbox>\n      </mwc-formfield>\n    `;\n  }\n\n  private _valueChanged(ev: Event) {\n    fireEvent(this, \"value-changed\", {\n      value: (ev.target as HaCheckbox).checked,\n    });\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-form-boolean\": HaFormBoolean;\n  }\n}\n","import { css, CSSResultGroup, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { HaFormConstantSchema, HaFormElement } from \"./types\";\n\n@customElement(\"ha-form-constant\")\nexport class HaFormConstant extends LitElement implements HaFormElement {\n  @property({ attribute: false }) public schema!: HaFormConstantSchema;\n\n  @property() public label!: string;\n\n  protected render(): TemplateResult {\n    return html`<span class=\"label\">${this.label}</span>${this.schema.value\n        ? `: ${this.schema.value}`\n        : \"\"}`;\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      :host {\n        display: block;\n      }\n      .label {\n        font-weight: 500;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-form-constant\": HaFormConstant;\n  }\n}\n","import \"./ha-form\";\nimport {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  PropertyValues,\n  TemplateResult,\n} from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport type {\n  HaFormGridSchema,\n  HaFormDataContainer,\n  HaFormElement,\n  HaFormSchema,\n} from \"./types\";\nimport type { HomeAssistant } from \"../../types\";\n\n@customElement(\"ha-form-grid\")\nexport class HaFormGrid extends LitElement implements HaFormElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public data!: HaFormDataContainer;\n\n  @property({ attribute: false }) public schema!: HaFormGridSchema;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @property() public computeLabel?: (\n    schema: HaFormSchema,\n    data?: HaFormDataContainer\n  ) => string;\n\n  @property() public computeHelper?: (schema: HaFormSchema) => string;\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n    this.setAttribute(\"own-margin\", \"\");\n  }\n\n  protected updated(changedProps: PropertyValues): void {\n    super.updated(changedProps);\n    if (changedProps.has(\"schema\")) {\n      if (this.schema.column_min_width) {\n        this.style.setProperty(\n          \"--form-grid-min-width\",\n          this.schema.column_min_width\n        );\n      } else {\n        this.style.setProperty(\"--form-grid-min-width\", \"\");\n      }\n    }\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      ${this.schema.schema.map(\n        (item) =>\n          html`\n            <ha-form\n              .hass=${this.hass}\n              .data=${this.data}\n              .schema=${[item]}\n              .disabled=${this.disabled}\n              .computeLabel=${this.computeLabel}\n              .computeHelper=${this.computeHelper}\n            ></ha-form>\n          `\n      )}\n    `;\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      :host {\n        display: grid !important;\n        grid-template-columns: repeat(\n          var(--form-grid-column-count, auto-fit),\n          minmax(var(--form-grid-min-width, 200px), 1fr)\n        );\n        grid-gap: 8px;\n      }\n      :host > ha-form {\n        display: block;\n        margin-bottom: 24px;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-form-grid\": HaFormGrid;\n  }\n}\n","import { css, html, LitElement, TemplateResult, PropertyValues } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport type { HaTextField } from \"../ha-textfield\";\nimport \"../ha-textfield\";\nimport { HaFormElement, HaFormFloatData, HaFormFloatSchema } from \"./types\";\n\n@customElement(\"ha-form-float\")\nexport class HaFormFloat extends LitElement implements HaFormElement {\n  @property({ attribute: false }) public schema!: HaFormFloatSchema;\n\n  @property({ attribute: false }) public data!: HaFormFloatData;\n\n  @property() public label!: string;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @query(\"ha-textfield\") private _input?: HaTextField;\n\n  public focus() {\n    if (this._input) {\n      this._input.focus();\n    }\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <ha-textfield\n        inputMode=\"decimal\"\n        .label=${this.label}\n        .value=${this.data !== undefined ? this.data : \"\"}\n        .disabled=${this.disabled}\n        .required=${this.schema.required}\n        .autoValidate=${this.schema.required}\n        .suffix=${this.schema.description?.suffix}\n        .validationMessage=${this.schema.required ? \"Required\" : undefined}\n        @input=${this._valueChanged}\n      ></ha-textfield>\n    `;\n  }\n\n  protected updated(changedProps: PropertyValues): void {\n    if (changedProps.has(\"schema\")) {\n      this.toggleAttribute(\"own-margin\", !!this.schema.required);\n    }\n  }\n\n  private _valueChanged(ev: Event) {\n    const source = ev.target as HaTextField;\n    const rawValue = source.value.replace(\",\", \".\");\n\n    let value: number | undefined;\n\n    if (rawValue.endsWith(\".\")) {\n      return;\n    }\n\n    if (rawValue !== \"\") {\n      value = parseFloat(rawValue);\n      if (isNaN(value)) {\n        value = undefined;\n      }\n    }\n\n    // Detect anything changed\n    if (this.data === value) {\n      // parseFloat will drop invalid text at the end, in that case update textfield\n      const newRawValue = value === undefined ? \"\" : String(value);\n      if (source.value !== newRawValue) {\n        source.value = newRawValue;\n      }\n      return;\n    }\n\n    fireEvent(this, \"value-changed\", {\n      value,\n    });\n  }\n\n  static styles = css`\n    :host([own-margin]) {\n      margin-bottom: 5px;\n    }\n    ha-textfield {\n      display: block;\n    }\n  `;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-form-float\": HaFormFloat;\n  }\n}\n","import {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  PropertyValues,\n  TemplateResult,\n} from \"lit\";\nimport { customElement, property, query } from \"lit/decorators\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport { HaCheckbox } from \"../ha-checkbox\";\nimport \"../ha-slider\";\nimport { HaTextField } from \"../ha-textfield\";\nimport { HaFormElement, HaFormIntegerData, HaFormIntegerSchema } from \"./types\";\n\n@customElement(\"ha-form-integer\")\nexport class HaFormInteger extends LitElement implements HaFormElement {\n  @property({ attribute: false }) public schema!: HaFormIntegerSchema;\n\n  @property({ attribute: false }) public data?: HaFormIntegerData;\n\n  @property() public label?: string;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @query(\"ha-textfield ha-slider\") private _input?:\n    | HaTextField\n    | HTMLInputElement;\n\n  private _lastValue?: HaFormIntegerData;\n\n  public focus() {\n    if (this._input) {\n      this._input.focus();\n    }\n  }\n\n  protected render(): TemplateResult {\n    if (\n      this.schema.valueMin !== undefined &&\n      this.schema.valueMax !== undefined &&\n      this.schema.valueMax - this.schema.valueMin < 256\n    ) {\n      return html`\n        <div>\n          ${this.label}\n          <div class=\"flex\">\n            ${!this.schema.required\n              ? html`\n                  <ha-checkbox\n                    @change=${this._handleCheckboxChange}\n                    .checked=${this.data !== undefined}\n                    .disabled=${this.disabled}\n                  ></ha-checkbox>\n                `\n              : \"\"}\n            <ha-slider\n              pin\n              ignore-bar-touch\n              .value=${this._value}\n              .min=${this.schema.valueMin}\n              .max=${this.schema.valueMax}\n              .disabled=${this.disabled ||\n              (this.data === undefined && !this.schema.required)}\n              @change=${this._valueChanged}\n            ></ha-slider>\n          </div>\n        </div>\n      `;\n    }\n\n    return html`\n      <ha-textfield\n        type=\"number\"\n        inputMode=\"numeric\"\n        .label=${this.label}\n        .value=${this.data !== undefined ? this.data : \"\"}\n        .disabled=${this.disabled}\n        .required=${this.schema.required}\n        .autoValidate=${this.schema.required}\n        .suffix=${this.schema.description?.suffix}\n        .validationMessage=${this.schema.required ? \"Required\" : undefined}\n        @input=${this._valueChanged}\n      ></ha-textfield>\n    `;\n  }\n\n  protected updated(changedProps: PropertyValues): void {\n    if (changedProps.has(\"schema\")) {\n      this.toggleAttribute(\n        \"own-margin\",\n        !(\"valueMin\" in this.schema && \"valueMax\" in this.schema) &&\n          !!this.schema.required\n      );\n    }\n  }\n\n  private get _value() {\n    if (this.data !== undefined) {\n      return this.data;\n    }\n\n    if (!this.schema.required) {\n      return this.schema.valueMin || 0;\n    }\n\n    return (\n      (this.schema.description?.suggested_value !== undefined &&\n        this.schema.description?.suggested_value !== null) ||\n      this.schema.default ||\n      this.schema.valueMin ||\n      0\n    );\n  }\n\n  private _handleCheckboxChange(ev: Event) {\n    const checked = (ev.target as HaCheckbox).checked;\n    let value: HaFormIntegerData | undefined;\n    if (checked) {\n      for (const candidate of [\n        this._lastValue,\n        this.schema.description?.suggested_value as HaFormIntegerData,\n        this.schema.default,\n        0,\n      ]) {\n        if (candidate !== undefined) {\n          value = candidate;\n          break;\n        }\n      }\n    } else {\n      // We track last value so user can disable and enable a field without losing\n      // their value.\n      this._lastValue = this.data;\n    }\n    fireEvent(this, \"value-changed\", {\n      value,\n    });\n  }\n\n  private _valueChanged(ev: Event) {\n    const source = ev.target as HaTextField | HTMLInputElement;\n    const rawValue = source.value;\n\n    let value: number | undefined;\n\n    if (rawValue !== \"\") {\n      value = parseInt(String(rawValue));\n    }\n\n    if (this.data === value) {\n      // parseInt will drop invalid text at the end, in that case update textfield\n      const newRawValue = value === undefined ? \"\" : String(value);\n      if (source.value !== newRawValue) {\n        source.value = newRawValue;\n      }\n      return;\n    }\n\n    fireEvent(this, \"value-changed\", {\n      value,\n    });\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      :host([own-margin]) {\n        margin-bottom: 5px;\n      }\n      .flex {\n        display: flex;\n      }\n      ha-slider {\n        flex: 1;\n      }\n      ha-textfield {\n        display: block;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-form-integer\": HaFormInteger;\n  }\n}\n","import { mdiMenuDown, mdiMenuUp } from \"@mdi/js\";\nimport {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  PropertyValues,\n  TemplateResult,\n} from \"lit\";\nimport { customElement, property, query, state } from \"lit/decorators\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport \"../ha-button-menu\";\nimport \"../ha-check-list-item\";\nimport type { HaCheckListItem } from \"../ha-check-list-item\";\nimport \"../ha-checkbox\";\nimport type { HaCheckbox } from \"../ha-checkbox\";\nimport \"../ha-formfield\";\nimport \"../ha-svg-icon\";\nimport \"../ha-textfield\";\nimport {\n  HaFormElement,\n  HaFormMultiSelectData,\n  HaFormMultiSelectSchema,\n} from \"./types\";\n\nfunction optionValue(item: string | string[]): string {\n  return Array.isArray(item) ? item[0] : item;\n}\n\nfunction optionLabel(item: string | string[]): string {\n  return Array.isArray(item) ? item[1] || item[0] : item;\n}\n\nconst SHOW_ALL_ENTRIES_LIMIT = 6;\n\n@customElement(\"ha-form-multi_select\")\nexport class HaFormMultiSelect extends LitElement implements HaFormElement {\n  @property() public schema!: HaFormMultiSelectSchema;\n\n  @property() public data!: HaFormMultiSelectData;\n\n  @property() public label!: string;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @state() private _opened = false;\n\n  @query(\"ha-button-menu\") private _input?: HTMLElement;\n\n  public focus(): void {\n    if (this._input) {\n      this._input.focus();\n    }\n  }\n\n  protected render(): TemplateResult {\n    const options = Array.isArray(this.schema.options)\n      ? this.schema.options\n      : Object.entries(this.schema.options);\n    const data = this.data || [];\n\n    // We will just render all checkboxes.\n    if (options.length < SHOW_ALL_ENTRIES_LIMIT) {\n      return html`<div>\n        ${this.label}${options.map((item: string | [string, string]) => {\n          const value = optionValue(item);\n          return html`\n            <ha-formfield .label=${optionLabel(item)}>\n              <ha-checkbox\n                .checked=${data.includes(value)}\n                .value=${value}\n                .disabled=${this.disabled}\n                @change=${this._valueChanged}\n              ></ha-checkbox>\n            </ha-formfield>\n          `;\n        })}\n      </div> `;\n    }\n\n    return html`\n      <ha-button-menu\n        .disabled=${this.disabled}\n        fixed\n        corner=\"BOTTOM_START\"\n        @opened=${this._handleOpen}\n        @closed=${this._handleClose}\n        multi\n        activatable\n      >\n        <ha-textfield\n          slot=\"trigger\"\n          .label=${this.label}\n          .value=${data\n            .map((value) => this.schema.options![value] || value)\n            .join(\", \")}\n          .disabled=${this.disabled}\n          tabindex=\"-1\"\n        ></ha-textfield>\n        <ha-svg-icon\n          slot=\"trigger\"\n          .path=${this._opened ? mdiMenuUp : mdiMenuDown}\n        ></ha-svg-icon>\n        ${options.map((item: string | [string, string]) => {\n          const value = optionValue(item);\n          const selected = data.includes(value);\n          return html`<ha-check-list-item\n            left\n            .selected=${selected}\n            .activated=${selected}\n            @request-selected=${this._selectedChanged}\n            .value=${value}\n            .disabled=${this.disabled}\n          >\n            ${optionLabel(item)}\n          </ha-check-list-item>`;\n        })}\n      </ha-button-menu>\n    `;\n  }\n\n  protected firstUpdated() {\n    this.updateComplete.then(() => {\n      const { formElement, mdcRoot } =\n        this.shadowRoot?.querySelector(\"ha-textfield\") || ({} as any);\n      if (formElement) {\n        formElement.style.textOverflow = \"ellipsis\";\n      }\n      if (mdcRoot) {\n        mdcRoot.style.cursor = \"pointer\";\n      }\n    });\n  }\n\n  protected updated(changedProps: PropertyValues): void {\n    if (changedProps.has(\"schema\")) {\n      this.toggleAttribute(\n        \"own-margin\",\n        Object.keys(this.schema.options).length >= SHOW_ALL_ENTRIES_LIMIT &&\n          !!this.schema.required\n      );\n    }\n  }\n\n  private _selectedChanged(ev: CustomEvent): void {\n    ev.stopPropagation();\n    if (ev.detail.source === \"property\") {\n      return;\n    }\n    this._handleValueChanged(\n      (ev.target as HaCheckListItem).value,\n      ev.detail.selected\n    );\n  }\n\n  private _valueChanged(ev: CustomEvent): void {\n    const { value, checked } = ev.target as HaCheckbox;\n    this._handleValueChanged(value, checked);\n  }\n\n  private _handleValueChanged(value, checked: boolean): void {\n    let newValue: string[];\n\n    if (checked) {\n      if (!this.data) {\n        newValue = [value];\n      } else if (this.data.includes(value)) {\n        return;\n      } else {\n        newValue = [...this.data, value];\n      }\n    } else {\n      if (!this.data.includes(value)) {\n        return;\n      }\n      newValue = this.data.filter((v) => v !== value);\n    }\n\n    fireEvent(this, \"value-changed\", {\n      value: newValue,\n    });\n  }\n\n  private _handleOpen(ev: Event): void {\n    ev.stopPropagation();\n    this._opened = true;\n    this.toggleAttribute(\"opened\", true);\n  }\n\n  private _handleClose(ev: Event): void {\n    ev.stopPropagation();\n    this._opened = false;\n    this.toggleAttribute(\"opened\", false);\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      :host([own-margin]) {\n        margin-bottom: 5px;\n      }\n      ha-button-menu {\n        display: block;\n        cursor: pointer;\n      }\n      ha-formfield {\n        display: block;\n        padding-right: 16px;\n        padding-inline-end: 16px;\n        padding-inline-start: initial;\n        direction: var(--direction);\n      }\n      ha-textfield {\n        display: block;\n        pointer-events: none;\n      }\n      ha-svg-icon {\n        color: var(--input-dropdown-icon-color);\n        position: absolute;\n        right: 1em;\n        top: 1em;\n        cursor: pointer;\n        inset-inline-end: 1em;\n        inset-inline-start: initial;\n        direction: var(--direction);\n      }\n      :host([opened]) ha-svg-icon {\n        color: var(--primary-color);\n      }\n      :host([opened]) ha-button-menu {\n        --mdc-text-field-idle-line-color: var(--input-hover-line-color);\n        --mdc-text-field-label-ink-color: var(--primary-color);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-form-multi_select\": HaFormMultiSelect;\n  }\n}\n","import { html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators\";\nimport \"../ha-duration-input\";\nimport { HaFormElement, HaFormTimeData, HaFormTimeSchema } from \"./types\";\n\n@customElement(\"ha-form-positive_time_period_dict\")\nexport class HaFormTimePeriod extends LitElement implements HaFormElement {\n  @property({ attribute: false }) public schema!: HaFormTimeSchema;\n\n  @property({ attribute: false }) public data!: HaFormTimeData;\n\n  @property() public label!: string;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @query(\"ha-time-input\", true) private _input?: HTMLElement;\n\n  public focus() {\n    if (this._input) {\n      this._input.focus();\n    }\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <ha-duration-input\n        .label=${this.label}\n        ?required=${this.schema.required}\n        .data=${this.data}\n        .disabled=${this.disabled}\n      ></ha-duration-input>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-form-positive_time_period_dict\": HaFormTimePeriod;\n  }\n}\n","import memoizeOne from \"memoize-one\";\nimport { html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport type { HomeAssistant } from \"../../types\";\nimport type {\n  HaFormElement,\n  HaFormSelectData,\n  HaFormSelectSchema,\n} from \"./types\";\nimport type { SelectSelector } from \"../../data/selector\";\nimport \"../ha-selector/ha-selector-select\";\n\n@customElement(\"ha-form-select\")\nexport class HaFormSelect extends LitElement implements HaFormElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public schema!: HaFormSelectSchema;\n\n  @property() public data!: HaFormSelectData;\n\n  @property() public label!: string;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  private _selectSchema = memoizeOne(\n    (options): SelectSelector => ({\n      select: {\n        options: options.map((option) => ({\n          value: option[0],\n          label: option[1],\n        })),\n      },\n    })\n  );\n\n  protected render(): TemplateResult {\n    return html`\n      <ha-selector-select\n        .hass=${this.hass}\n        .schema=${this.schema}\n        .value=${this.data}\n        .label=${this.label}\n        .disabled=${this.disabled}\n        .required=${this.schema.required}\n        .selector=${this._selectSchema(this.schema.options)}\n        @value-changed=${this._valueChanged}\n      ></ha-selector-select>\n    `;\n  }\n\n  private _valueChanged(ev: CustomEvent) {\n    ev.stopPropagation();\n    let value: string | undefined = ev.detail.value;\n\n    if (value === this.data) {\n      return;\n    }\n\n    if (value === \"\") {\n      value = undefined;\n    }\n\n    fireEvent(this, \"value-changed\", {\n      value,\n    });\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-form-select\": HaFormSelect;\n  }\n}\n","import { mdiEye, mdiEyeOff } from \"@mdi/js\";\nimport {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  PropertyValues,\n  TemplateResult,\n} from \"lit\";\nimport { customElement, property, query, state } from \"lit/decorators\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport \"../ha-icon-button\";\nimport \"../ha-textfield\";\nimport type { HaTextField } from \"../ha-textfield\";\nimport type {\n  HaFormElement,\n  HaFormStringData,\n  HaFormStringSchema,\n} from \"./types\";\n\nconst MASKED_FIELDS = [\"password\", \"secret\", \"token\"];\n\n@customElement(\"ha-form-string\")\nexport class HaFormString extends LitElement implements HaFormElement {\n  @property() public schema!: HaFormStringSchema;\n\n  @property() public data!: HaFormStringData;\n\n  @property() public label!: string;\n\n  @property() public helper?: string;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @property() public input_name? : string;\n\n  @state() private _unmaskedPassword = false;\n\n  @query(\"ha-textfield\") private _input?: HaTextField;\n\n  public focus(): void {\n    if (this._input) {\n      this._input.focus();\n    }\n  }\n\n  protected render(): TemplateResult {\n    const isPassword = MASKED_FIELDS.some((field) =>\n      this.schema.name.includes(field)\n    );\n    return html`\n      <ha-textfield\n        .type=${!isPassword\n          ? this._stringType\n          : this._unmaskedPassword\n          ? \"text\"\n          : \"password\"}\n        .label=${this.label}\n        .value=${this.data || \"\"}\n        .helper=${this.helper || \"\"}\n        helperPersistent\n        .disabled=${this.disabled}\n        .required=${this.schema.required}\n        .autoValidate=${this.schema.required}\n        .suffix=${isPassword\n          ? // reserve some space for the icon.\n            html`<div style=\"width: 24px\"></div>`\n          : this.schema.description?.suffix}\n        .validationMessage=${this.schema.required ? \"Required\" : undefined}\n        @input=${this._valueChanged}\n      ></ha-textfield>\n      ${isPassword\n        ? html`<ha-icon-button\n            toggles\n            .label=${`${this._unmaskedPassword ? \"Hide\" : \"Show\"} password`}\n            @click=${this._toggleUnmaskedPassword}\n            .path=${this._unmaskedPassword ? mdiEyeOff : mdiEye}\n          ></ha-icon-button>`\n        : \"\"}\n    `;\n  }\n\n  protected updated(changedProps: PropertyValues): void {\n    if (changedProps.has(\"schema\")) {\n      this.toggleAttribute(\"own-margin\", !!this.schema.required);\n    }\n  }\n\n  private _toggleUnmaskedPassword(): void {\n    this._unmaskedPassword = !this._unmaskedPassword;\n  }\n\n  private _valueChanged(ev: Event): void {\n    let value: string | undefined = (ev.target as HaTextField).value;\n    if (this.data === value) {\n      return;\n    }\n    if (value === \"\" && !this.schema.required) {\n      value = undefined;\n    }\n    fireEvent(this, \"value-changed\", {\n      value,\n    });\n  }\n\n  private get _stringType(): string {\n    if (this.schema.format) {\n      if ([\"email\", \"url\"].includes(this.schema.format)) {\n        return this.schema.format;\n      }\n      if (this.schema.format === \"fqdnurl\") {\n        return \"url\";\n      }\n    }\n    return \"text\";\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      :host {\n        display: block;\n        position: relative;\n      }\n      :host([own-margin]) {\n        margin-bottom: 5px;\n      }\n      ha-textfield {\n        display: block;\n      }\n      ha-icon-button {\n        position: absolute;\n        top: 1em;\n        right: 12px;\n        --mdc-icon-button-size: 24px;\n        color: var(--secondary-text-color);\n      }\n\n      ha-icon-button {\n        inset-inline-start: initial;\n        inset-inline-end: 12px;\n        direction: var(--direction);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-form-string\": HaFormString;\n  }\n}\n","import {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  PropertyValues,\n  TemplateResult,\n} from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { dynamicElement } from \"../../common/dom/dynamic-element-directive\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport \"../ha-alert\";\nimport \"./ha-form-boolean\";\nimport \"./ha-form-constant\";\nimport \"./ha-form-grid\";\nimport \"./ha-form-float\";\nimport \"./ha-form-integer\";\nimport \"./ha-form-multi_select\";\nimport \"./ha-form-positive_time_period_dict\";\nimport \"./ha-form-select\";\nimport \"./ha-form-string\";\nimport { HaFormElement, HaFormDataContainer, HaFormSchema } from \"./types\";\nimport { HomeAssistant } from \"../../types\";\n\nconst getValue = (obj, item) =>\n  obj ? (!item.name ? obj : obj[item.name]) : null;\n\nconst getError = (obj, item) => (obj && item.name ? obj[item.name] : null);\n\nlet selectorImported = false;\n\n@customElement(\"ha-form\")\nexport class HaForm extends LitElement implements HaFormElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public data!: HaFormDataContainer;\n\n  @property({ attribute: false }) public schema!: readonly HaFormSchema[];\n\n  @property() public error?: Record<string, string>;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @property() public computeError?: (schema: any, error) => string;\n\n  @property() public computeLabel?: (\n    schema: any,\n    data: HaFormDataContainer\n  ) => string;\n\n  @property() public computeHelper?: (schema: any) => string | undefined;\n\n  public focus() {\n    const root = this.shadowRoot?.querySelector(\".root\");\n    if (!root) {\n      return;\n    }\n    for (const child of root.children) {\n      if (child.tagName !== \"HA-ALERT\") {\n        (child as HTMLElement).focus();\n        break;\n      }\n    }\n  }\n\n  willUpdate(changedProperties: PropertyValues) {\n    super.willUpdate(changedProperties);\n    if (\n      !selectorImported &&\n      changedProperties.has(\"schema\") &&\n      this.schema?.some((item) => \"selector\" in item)\n    ) {\n      selectorImported = true;\n      import(\"../ha-selector/ha-selector\");\n    }\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <div class=\"root\" part=\"root\">\n        ${this.error && this.error.base\n          ? html`\n              <ha-alert alert-type=\"error\">\n                ${this._computeError(this.error.base, this.schema)}\n              </ha-alert>\n            `\n          : \"\"}\n        ${this.schema.map((item) => {\n          const error = getError(this.error, item);\n\n          return html`\n            ${error\n              ? html`\n                  <ha-alert own-margin alert-type=\"error\">\n                    ${this._computeError(error, item)}\n                  </ha-alert>\n                `\n              : \"\"}\n            ${\"selector\" in item\n              ? html`<ha-selector\n                  .schema=${item}\n                  .hass=${this.hass}\n                  .selector=${item.selector}\n                  .value=${getValue(this.data, item)}\n                  .label=${this._computeLabel(item, this.data)}\n                  .disabled=${this.disabled}\n                  .helper=${this._computeHelper(item)}\n                  .required=${item.required || false}\n                  .context=${this._generateContext(item)}\n                ></ha-selector>`\n              : dynamicElement(`ha-form-${item.type}`, {\n                  schema: item,\n                  data: getValue(this.data, item),\n                  label: this._computeLabel(item, this.data),\n                  disabled: this.disabled,\n                  hass: this.hass,\n                  computeLabel: this.computeLabel,\n                  computeHelper: this.computeHelper,\n                  context: this._generateContext(item),\n                })}\n          `;\n        })}\n      </div>\n    `;\n  }\n\n  private _generateContext(\n    schema: HaFormSchema\n  ): Record<string, any> | undefined {\n    if (!schema.context) {\n      return undefined;\n    }\n\n    const context = {};\n    for (const [context_key, data_key] of Object.entries(schema.context)) {\n      context[context_key] = this.data[data_key];\n    }\n    return context;\n  }\n\n  protected createRenderRoot() {\n    const root = super.createRenderRoot();\n    // attach it as soon as possible to make sure we fetch all events.\n    root.addEventListener(\"value-changed\", (ev) => {\n      ev.stopPropagation();\n      const schema = (ev.target as HaFormElement).schema as HaFormSchema;\n\n      const newValue = !schema.name\n        ? ev.detail.value\n        : { [schema.name]: ev.detail.value };\n\n      fireEvent(this, \"value-changed\", {\n        value: { ...this.data, ...newValue },\n      });\n    });\n    return root;\n  }\n\n  private _computeLabel(schema: HaFormSchema, data: HaFormDataContainer) {\n    return this.computeLabel\n      ? this.computeLabel(schema, data)\n      : schema\n      ? schema.name\n      : \"\";\n  }\n\n  private _computeHelper(schema: HaFormSchema) {\n    return this.computeHelper ? this.computeHelper(schema) : \"\";\n  }\n\n  private _computeError(error, schema: HaFormSchema | readonly HaFormSchema[]) {\n    return this.computeError ? this.computeError(error, schema) : error;\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      .root {\n        margin-bottom: -24px;\n        overflow: clip visible;\n      }\n      .root > * {\n        display: block;\n      }\n      .root > *:not([own-margin]) {\n        margin-bottom: 24px;\n      }\n      ha-alert[own-margin] {\n        margin-bottom: 4px;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-form\": HaForm;\n  }\n}\n","import { FormfieldBase } from \"@material/mwc-formfield/mwc-formfield-base\";\nimport { styles } from \"@material/mwc-formfield/mwc-formfield.css\";\nimport { css } from \"lit\";\nimport { customElement } from \"lit/decorators\";\nimport { fireEvent } from \"../common/dom/fire_event\";\n\n@customElement(\"ha-formfield\")\nexport class HaFormfield extends FormfieldBase {\n  protected _labelClick() {\n    const input = this.input;\n    if (input) {\n      input.focus();\n      switch (input.tagName) {\n        case \"HA-CHECKBOX\":\n        case \"HA-RADIO\":\n          if ((input as any).disabled) {\n            break;\n          }\n          (input as any).checked = !(input as any).checked;\n          fireEvent(input, \"change\");\n          break;\n        default:\n          input.click();\n          break;\n      }\n    }\n  }\n\n  static override styles = [\n    styles,\n    css`\n      :host(:not([alignEnd])) ::slotted(ha-switch) {\n        margin-right: 10px;\n        margin-inline-end: 10px;\n        margin-inline-start: inline;\n      }\n      .mdc-form-field > label {\n        direction: var(--direction);\n        margin-inline-start: 0;\n        margin-inline-end: auto;\n        padding-inline-start: 4px;\n        padding-inline-end: 0;\n      }\n    `,\n  ];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-formfield\": HaFormfield;\n  }\n}\n","import \"@material/mwc-icon-button\";\nimport type { IconButton } from \"@material/mwc-icon-button\";\nimport { css, CSSResultGroup, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators\";\nimport { ifDefined } from \"lit/directives/if-defined\";\nimport \"./ha-svg-icon\";\n\n@customElement(\"ha-icon-button\")\nexport class HaIconButton extends LitElement {\n  @property({ type: Boolean, reflect: true }) disabled = false;\n\n  // SVG icon path (if you need a non SVG icon instead, use the provided slot to pass an <ha-icon> in)\n  @property({ type: String }) path?: string;\n\n  // Label that is used for ARIA support and as tooltip\n  @property({ type: String }) label?: string;\n\n  // These should always be set as properties, not attributes,\n  // so that only the <button> element gets the attribute\n  @property({ type: String, attribute: \"aria-haspopup\" })\n  override ariaHasPopup!: IconButton[\"ariaHasPopup\"];\n\n  @property({ type: Boolean }) hideTitle = false;\n\n  @query(\"mwc-icon-button\", true) private _button?: IconButton;\n\n  public override focus() {\n    this._button?.focus();\n  }\n\n  static shadowRootOptions: ShadowRootInit = {\n    mode: \"open\",\n    delegatesFocus: true,\n  };\n\n  protected render(): TemplateResult {\n    return html`\n      <mwc-icon-button\n        aria-label=${ifDefined(this.label)}\n        title=${ifDefined(this.hideTitle ? undefined : this.label)}\n        aria-haspopup=${ifDefined(this.ariaHasPopup)}\n        .disabled=${this.disabled}\n      >\n        ${this.path\n          ? html`<ha-svg-icon .path=${this.path}></ha-svg-icon>`\n          : html`<slot></slot>`}\n      </mwc-icon-button>\n    `;\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      :host {\n        display: inline-block;\n        outline: none;\n      }\n      :host([disabled]) {\n        pointer-events: none;\n      }\n      mwc-icon-button {\n        --mdc-theme-on-primary: currentColor;\n        --mdc-theme-text-disabled-on-light: var(--disabled-text-color);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-icon-button\": HaIconButton;\n  }\n}\n","import \"@polymer/iron-icon/iron-icon\";\nimport {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  PropertyValues,\n  TemplateResult,\n} from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport { debounce } from \"../common/util/debounce\";\nimport { CustomIcon, customIcons } from \"../data/custom_icons\";\nimport {\n  checkCacheVersion,\n  Chunks,\n  findIconChunk,\n  getIcon,\n  Icons,\n  MDI_PREFIXES,\n  writeCache,\n} from \"../data/iconsets\";\nimport \"./ha-svg-icon\";\n\ninterface DeprecatedIcon {\n  [key: string]: {\n    removeIn: string;\n    newName?: string;\n  };\n}\n\nconst mdiDeprecatedIcons: DeprecatedIcon = {\n  \"android-messages\": {\n    newName: \"message-text\",\n    removeIn: \"2022.10\",\n  },\n  \"book-variant-multiple\": {\n    newName: \"bookmark-box-multiple\",\n    removeIn: \"2022.10\",\n  },\n  \"desktop-mac\": {\n    newName: \"monitor\",\n    removeIn: \"2022.10\",\n  },\n  \"desktop-mac-dashboard\": {\n    newName: \"monitor-dashboard\",\n    removeIn: \"2022.10\",\n  },\n  discord: {\n    removeIn: \"2022.10\",\n  },\n  \"diving-scuba\": {\n    newName: \"diving-scuba-mask\",\n    removeIn: \"2022.10\",\n  },\n  \"email-send\": {\n    newName: \"email-arrow-right\",\n    removeIn: \"2022.10\",\n  },\n  \"email-send-outline\": {\n    newName: \"email-arrow-right-outline\",\n    removeIn: \"2022.10\",\n  },\n  \"email-receive\": {\n    newName: \"email-arrow-left\",\n    removeIn: \"2022.10\",\n  },\n  \"email-receive-outline\": {\n    newName: \"email-arrow-left-outline\",\n    removeIn: \"2022.10\",\n  },\n  \"format-textdirection-r-to-l\": {\n    newName: \"format-pilcrow-arrow-left\",\n    removeIn: \"2022.10\",\n  },\n  \"format-textdirection-l-to-r\": {\n    newName: \"format-pilcrow-arrow-right\",\n    removeIn: \"2022.10\",\n  },\n  \"google-controller\": {\n    newName: \"controller\",\n    removeIn: \"2022.10\",\n  },\n  \"google-controller-off\": {\n    newName: \"controller-off\",\n    removeIn: \"2022.10\",\n  },\n  \"google-home\": {\n    removeIn: \"2022.10\",\n  },\n  lecturn: {\n    newName: \"lectern\",\n    removeIn: \"2022.10\",\n  },\n  receipt: {\n    newName: \"receipt-text\",\n    removeIn: \"2022.10\",\n  },\n  \"receipt-outline\": {\n    newName: \"receipt-text-outline\",\n    removeIn: \"2022.10\",\n  },\n  \"tablet-android\": {\n    newName: \"tablet\",\n    removeIn: \"2022.10\",\n  },\n  \"text-to-speech\": {\n    newName: \"microphone-message\",\n    removeIn: \"2022.10\",\n  },\n  \"text-to-speech-off\": {\n    newName: \"microphone-message-off\",\n    removeIn: \"2022.10\",\n  },\n  \"timeline-help\": {\n    newName: \"timeline-question\",\n    removeIn: \"2022.10\",\n  },\n  \"timeline-help-outline\": {\n    newName: \"timeline-question-outline\",\n    removeIn: \"2022.10\",\n  },\n  \"vector-point\": {\n    newName: \"vector-point-select\",\n    removeIn: \"2022.10\",\n  },\n};\n\nconst chunks: Chunks = {};\n\n// Supervisor doesn't use icons, and should not update/downgrade the icon DB.\nif (!__SUPERVISOR__) {\n  checkCacheVersion();\n}\n\nconst debouncedWriteCache = debounce(() => writeCache(chunks), 2000);\n\nconst cachedIcons: Record<string, string> = {};\n\n@customElement(\"ha-icon\")\nexport class HaIcon extends LitElement {\n  @property() public icon?: string;\n\n  @state() private _path?: string;\n\n  @state() private _viewBox?: string;\n\n  @state() private _legacy = false;\n\n  public willUpdate(changedProps: PropertyValues) {\n    super.willUpdate(changedProps);\n    if (changedProps.has(\"icon\")) {\n      this._path = undefined;\n      this._viewBox = undefined;\n      this._loadIcon();\n    }\n  }\n\n  protected render(): TemplateResult {\n    if (!this.icon) {\n      return html``;\n    }\n    if (this._legacy) {\n      return html`<iron-icon .icon=${this.icon}></iron-icon>`;\n    }\n    return html`<ha-svg-icon\n      .path=${this._path}\n      .viewBox=${this._viewBox}\n    ></ha-svg-icon>`;\n  }\n\n  private async _loadIcon() {\n    if (!this.icon) {\n      return;\n    }\n    const requestedIcon = this.icon;\n    const [iconPrefix, origIconName] = this.icon.split(\":\", 2);\n\n    let iconName = origIconName;\n\n    if (!iconPrefix || !iconName) {\n      return;\n    }\n\n    if (!MDI_PREFIXES.includes(iconPrefix)) {\n      if (iconPrefix in customIcons) {\n        const customIcon = customIcons[iconPrefix];\n        if (customIcon && typeof customIcon.getIcon === \"function\") {\n          this._setCustomPath(customIcon.getIcon(iconName), requestedIcon);\n        }\n        return;\n      }\n      this._legacy = true;\n      return;\n    }\n\n    this._legacy = false;\n\n    if (iconName in mdiDeprecatedIcons) {\n      const deprecatedIcon = mdiDeprecatedIcons[iconName];\n      let message: string;\n\n      if (deprecatedIcon.newName) {\n        message = `Icon ${iconPrefix}:${iconName} was renamed to ${iconPrefix}:${deprecatedIcon.newName}, please change your config, it will be removed in version ${deprecatedIcon.removeIn}.`;\n        iconName = deprecatedIcon.newName!;\n      } else {\n        message = `Icon ${iconPrefix}:${iconName} was removed from MDI, please replace this icon with an other icon in your config, it will be removed in version ${deprecatedIcon.removeIn}.`;\n      }\n      // eslint-disable-next-line no-console\n      console.warn(message);\n      fireEvent(this, \"write_log\", {\n        level: \"warning\",\n        message,\n      });\n    }\n\n    if (iconName in cachedIcons) {\n      this._path = cachedIcons[iconName];\n      return;\n    }\n\n    let databaseIcon: string | undefined;\n    try {\n      databaseIcon = await getIcon(iconName);\n    } catch (_err) {\n      // Firefox in private mode doesn't support IDB\n      // iOS Safari sometimes doesn't open the DB\n      databaseIcon = undefined;\n    }\n\n    if (databaseIcon) {\n      if (this.icon === requestedIcon) {\n        this._path = databaseIcon;\n      }\n      cachedIcons[iconName] = databaseIcon;\n      return;\n    }\n    const chunk = findIconChunk(iconName);\n\n    if (chunk in chunks) {\n      this._setPath(chunks[chunk], iconName, requestedIcon);\n      return;\n    }\n\n    const iconPromise = fetch(`/static/mdi/${chunk}.json`).then((response) =>\n      response.json()\n    );\n    chunks[chunk] = iconPromise;\n    this._setPath(iconPromise, iconName, requestedIcon);\n    debouncedWriteCache();\n  }\n\n  private async _setCustomPath(\n    promise: Promise<CustomIcon>,\n    requestedIcon: string\n  ) {\n    const icon = await promise;\n    if (this.icon !== requestedIcon) {\n      return;\n    }\n    this._path = icon.path;\n    this._viewBox = icon.viewBox;\n  }\n\n  private async _setPath(\n    promise: Promise<Icons>,\n    iconName: string,\n    requestedIcon: string\n  ) {\n    const iconPack = await promise;\n    if (this.icon === requestedIcon) {\n      this._path = iconPack[iconName];\n    }\n    cachedIcons[iconName] = iconPack[iconName];\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      :host {\n        fill: currentcolor;\n      }\n    `;\n  }\n}\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-icon\": HaIcon;\n  }\n}\n","import { css, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement } from \"lit/decorators\";\n\n@customElement(\"ha-input-helper-text\")\nclass InputHelperText extends LitElement {\n  protected render(): TemplateResult {\n    return html`<slot></slot>`;\n  }\n\n  static styles = css`\n    :host {\n      display: block;\n      color: var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6));\n      font-size: 0.75rem;\n      padding-left: 16px;\n      padding-right: 16px;\n    }\n  `;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-input-helper-text\": InputHelperText;\n  }\n}\n","import { RadioBase } from \"@material/mwc-radio/mwc-radio-base\";\nimport { styles } from \"@material/mwc-radio/mwc-radio.css\";\nimport { css } from \"lit\";\nimport { customElement } from \"lit/decorators\";\n\n@customElement(\"ha-radio\")\nexport class HaRadio extends RadioBase {\n  static override styles = [\n    styles,\n    css`\n      :host {\n        --mdc-theme-secondary: var(--primary-color);\n      }\n    `,\n  ];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-radio\": HaRadio;\n  }\n}\n","import { SelectBase } from \"@material/mwc-select/mwc-select-base\";\nimport { styles } from \"@material/mwc-select/mwc-select.css\";\nimport { css, html, nothing } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { debounce } from \"../common/util/debounce\";\nimport { nextRender } from \"../common/util/render-status\";\n\n@customElement(\"ha-select\")\nexport class HaSelect extends SelectBase {\n  // @ts-ignore\n  @property({ type: Boolean }) public icon?: boolean;\n\n  protected override renderLeadingIcon() {\n    if (!this.icon) {\n      return nothing;\n    }\n\n    return html`<span class=\"mdc-select__icon\"\n      ><slot name=\"icon\"></slot\n    ></span>`;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    window.addEventListener(\"translations-updated\", this._translationsUpdated);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    window.removeEventListener(\n      \"translations-updated\",\n      this._translationsUpdated\n    );\n  }\n\n  private _translationsUpdated = debounce(async () => {\n    await nextRender();\n    this.layoutOptions();\n  }, 500);\n\n  static override styles = [\n    styles,\n    css`\n      .mdc-select:not(.mdc-select--disabled) .mdc-select__icon {\n        color: var(--secondary-text-color);\n      }\n      .mdc-select__anchor {\n        width: var(--ha-select-min-width, 200px);\n      }\n      .mdc-select--filled .mdc-floating-label {\n        inset-inline-start: 12px;\n        inset-inline-end: initial;\n        direction: var(--direction);\n      }\n      .mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label {\n        inset-inline-start: 48px;\n        inset-inline-end: initial;\n        direction: var(--direction);\n      }\n      .mdc-select .mdc-select__anchor {\n        padding-inline-start: 12px;\n        padding-inline-end: 0px;\n        direction: var(--direction);\n      }\n      .mdc-select__anchor .mdc-floating-label--float-above {\n        transform-origin: var(--float-start);\n      }\n    `,\n  ];\n}\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-select\": HaSelect;\n  }\n}\n","import \"@material/mwc-list/mwc-list-item\";\nimport { mdiClose } from \"@mdi/js\";\nimport { css, html, LitElement } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport { stopPropagation } from \"../../common/dom/stop_propagation\";\nimport type { SelectOption, SelectSelector } from \"../../data/selector\";\nimport type { HomeAssistant } from \"../../types\";\nimport \"../ha-checkbox\";\nimport \"../ha-chip\";\nimport \"../ha-chip-set\";\nimport type { HaComboBox } from \"../ha-combo-box\";\nimport \"../ha-formfield\";\nimport \"../ha-radio\";\nimport \"../ha-select\";\nimport \"../ha-input-helper-text\";\n\n@customElement(\"ha-selector-select\")\nexport class HaSelectSelector extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public selector!: SelectSelector;\n\n  @property() public value?: string | string[];\n\n  @property() public label?: string;\n\n  @property() public helper?: string;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @property({ type: Boolean }) public required = true;\n\n  @query(\"ha-combo-box\", true) private comboBox!: HaComboBox;\n\n  private _filter = \"\";\n\n  protected render() {\n    const options = this.selector.select.options.map((option) =>\n      typeof option === \"object\" ? option : { value: option, label: option }\n    );\n\n    if (!this.selector.select.custom_value && this._mode === \"list\") {\n      if (!this.selector.select.multiple) {\n        return html`\n          <div>\n            ${this.label}\n            ${options.map(\n              (item: SelectOption) => html`\n                <ha-formfield .label=${item.label}>\n                  <ha-radio\n                    .checked=${item.value === this.value}\n                    .value=${item.value}\n                    .disabled=${item.disabled || this.disabled}\n                    @change=${this._valueChanged}\n                  ></ha-radio>\n                </ha-formfield>\n              `\n            )}\n          </div>\n          ${this._renderHelper()}\n        `;\n      }\n\n      return html`\n        <div>\n          ${this.label}\n          ${options.map(\n            (item: SelectOption) => html`\n              <ha-formfield .label=${item.label}>\n                <ha-checkbox\n                  .checked=${this.value?.includes(item.value)}\n                  .value=${item.value}\n                  .disabled=${item.disabled || this.disabled}\n                  @change=${this._checkboxChanged}\n                ></ha-checkbox>\n              </ha-formfield>\n            `\n          )}\n        </div>\n        ${this._renderHelper()}\n      `;\n    }\n\n    if (this.selector.select.multiple) {\n      const value =\n        !this.value || this.value === \"\" ? [] : (this.value as string[]);\n\n      return html`\n        <ha-chip-set>\n          ${value?.map(\n            (item, idx) =>\n              html`\n                <ha-chip hasTrailingIcon>\n                  ${options.find((option) => option.value === item)?.label ||\n                  item}\n                  <ha-svg-icon\n                    slot=\"trailing-icon\"\n                    .path=${mdiClose}\n                    .idx=${idx}\n                    @click=${this._removeItem}\n                  ></ha-svg-icon>\n                </ha-chip>\n              `\n          )}\n        </ha-chip-set>\n\n        <ha-combo-box\n          item-value-path=\"value\"\n          item-label-path=\"label\"\n          .hass=${this.hass}\n          .label=${this.label}\n          .helper=${this.helper}\n          .disabled=${this.disabled}\n          .required=${this.required && !value.length}\n          .value=${this._filter}\n          .items=${options.filter(\n            (option) => !option.disabled && !value?.includes(option.value)\n          )}\n          @filter-changed=${this._filterChanged}\n          @value-changed=${this._comboBoxValueChanged}\n        ></ha-combo-box>\n      `;\n    }\n\n    if (this.selector.select.custom_value) {\n      if (\n        this.value !== undefined &&\n        !options.find((option) => option.value === this.value)\n      ) {\n        options.unshift({ value: this.value, label: this.value });\n      }\n\n      return html`\n        <ha-combo-box\n          item-value-path=\"value\"\n          item-label-path=\"label\"\n          .hass=${this.hass}\n          .label=${this.label}\n          .helper=${this.helper}\n          .disabled=${this.disabled}\n          .required=${this.required}\n          .items=${options.filter((item) => !item.disabled)}\n          .value=${this.value}\n          @filter-changed=${this._filterChanged}\n          @value-changed=${this._comboBoxValueChanged}\n        ></ha-combo-box>\n      `;\n    }\n\n    return html`\n      <ha-select\n        fixedMenuPosition\n        naturalMenuWidth\n        .label=${this.label}\n        .value=${this.value}\n        .helper=${this.helper}\n        .disabled=${this.disabled}\n        @closed=${stopPropagation}\n        @selected=${this._valueChanged}\n      >\n        ${options.map(\n          (item: SelectOption) => html`\n            <mwc-list-item .value=${item.value} .disabled=${item.disabled}\n              >${item.label}</mwc-list-item\n            >\n          `\n        )}\n      </ha-select>\n    `;\n  }\n\n  private _renderHelper() {\n    return this.helper\n      ? html`<ha-input-helper-text>${this.helper}</ha-input-helper-text>`\n      : \"\";\n  }\n\n  private get _mode(): \"list\" | \"dropdown\" {\n    return (\n      this.selector.select.mode ||\n      (this.selector.select.options.length < 6 ? \"list\" : \"dropdown\")\n    );\n  }\n\n  private _valueChanged(ev) {\n    ev.stopPropagation();\n    const value = ev.detail?.value || ev.target.value;\n    if (this.disabled || !value) {\n      return;\n    }\n    fireEvent(this, \"value-changed\", {\n      value: value,\n    });\n  }\n\n  private _checkboxChanged(ev) {\n    ev.stopPropagation();\n    if (this.disabled) {\n      return;\n    }\n\n    let newValue: string[];\n    const value: string = ev.target.value;\n    const checked = ev.target.checked;\n\n    if (checked) {\n      if (!this.value) {\n        newValue = [value];\n      } else if (this.value.includes(value)) {\n        return;\n      } else {\n        newValue = [...this.value, value];\n      }\n    } else {\n      if (!this.value?.includes(value)) {\n        return;\n      }\n      newValue = (this.value as string[]).filter((v) => v !== value);\n    }\n\n    fireEvent(this, \"value-changed\", {\n      value: newValue,\n    });\n  }\n\n  private async _removeItem(ev) {\n    const value: string[] = [...(this.value! as string[])];\n    value.splice(ev.target.idx, 1);\n\n    fireEvent(this, \"value-changed\", {\n      value,\n    });\n    await this.updateComplete;\n    this._filterChanged();\n  }\n\n  private _comboBoxValueChanged(ev: CustomEvent): void {\n    ev.stopPropagation();\n    const newValue = ev.detail.value;\n\n    if (this.disabled || newValue === \"\") {\n      return;\n    }\n\n    if (!this.selector.select.multiple) {\n      fireEvent(this, \"value-changed\", {\n        value: newValue,\n      });\n      return;\n    }\n\n    if (newValue !== undefined && this.value?.includes(newValue)) {\n      return;\n    }\n\n    setTimeout(() => {\n      this._filterChanged();\n      this.comboBox.setInputValue(\"\");\n    }, 0);\n\n    const currentValue =\n      !this.value || this.value === \"\" ? [] : (this.value as string[]);\n\n    fireEvent(this, \"value-changed\", {\n      value: [...currentValue, newValue],\n    });\n  }\n\n  private _filterChanged(ev?: CustomEvent): void {\n    this._filter = ev?.detail.value || \"\";\n\n    const filteredItems = this.comboBox.items?.filter((item) => {\n      if (this.selector.select.multiple && this.value?.includes(item.value)) {\n        return false;\n      }\n      const label = item.label || item.value;\n      return label.toLowerCase().includes(this._filter?.toLowerCase());\n    });\n\n    if (this._filter && this.selector.select.custom_value) {\n      filteredItems?.unshift({ label: this._filter, value: this._filter });\n    }\n\n    this.comboBox.filteredItems = filteredItems;\n  }\n\n  static styles = css`\n    ha-select,\n    mwc-formfield,\n    ha-formfield {\n      display: block;\n    }\n    mwc-list-item[disabled] {\n      --mdc-theme-text-primary-on-background: var(--disabled-text-color);\n    }\n  `;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-selector-select\": HaSelectSelector;\n  }\n}\n","import { css, CSSResultGroup, LitElement, svg, SVGTemplateResult } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\n\n@customElement(\"ha-svg-icon\")\nexport class HaSvgIcon extends LitElement {\n  @property() public path?: string;\n\n  @property() public viewBox?: string;\n\n  protected render(): SVGTemplateResult {\n    return svg`\n    <svg\n      viewBox=${this.viewBox || \"0 0 24 24\"}\n      preserveAspectRatio=\"xMidYMid meet\"\n      focusable=\"false\"\n      role=\"img\" \n      aria-hidden=\"true\"\n    >\n      <g>\n      ${this.path ? svg`<path d=${this.path}></path>` : \"\"}\n      </g>\n    </svg>`;\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      :host {\n        display: var(--ha-icon-display, inline-flex);\n        align-items: center;\n        justify-content: center;\n        position: relative;\n        vertical-align: middle;\n        fill: currentcolor;\n        width: var(--mdc-icon-size, 24px);\n        height: var(--mdc-icon-size, 24px);\n      }\n      svg {\n        width: 100%;\n        height: 100%;\n        pointer-events: none;\n        display: block;\n      }\n    `;\n  }\n}\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-svg-icon\": HaSvgIcon;\n  }\n}\n","import { TextFieldBase } from \"@material/mwc-textfield/mwc-textfield-base\";\nimport { styles } from \"@material/mwc-textfield/mwc-textfield.css\";\nimport { TemplateResult, html, PropertyValues, css } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\n\n@customElement(\"ha-textfield\")\nexport class HaTextField extends TextFieldBase {\n  @property({ type: Boolean }) public invalid?: boolean;\n\n  @property({ attribute: \"error-message\" }) public errorMessage?: string;\n\n  // @ts-ignore\n  @property({ type: Boolean }) public icon?: boolean;\n\n  // @ts-ignore\n  @property({ type: Boolean }) public iconTrailing?: boolean;\n\n  override updated(changedProperties: PropertyValues) {\n    super.updated(changedProperties);\n    if (\n      (changedProperties.has(\"invalid\") &&\n        (this.invalid || changedProperties.get(\"invalid\") !== undefined)) ||\n      changedProperties.has(\"errorMessage\")\n    ) {\n      this.setCustomValidity(\n        this.invalid ? this.errorMessage || \"Invalid\" : \"\"\n      );\n      this.reportValidity();\n    }\n  }\n\n  protected override renderIcon(\n    _icon: string,\n    isTrailingIcon = false\n  ): TemplateResult {\n    const type = isTrailingIcon ? \"trailing\" : \"leading\";\n\n    return html`\n      <span\n        class=\"mdc-text-field__icon mdc-text-field__icon--${type}\"\n        tabindex=${isTrailingIcon ? 1 : -1}\n      >\n        <slot name=\"${type}Icon\"></slot>\n      </span>\n    `;\n  }\n\n  static override styles = [\n    styles,\n    css`\n      .mdc-text-field__input {\n        width: var(--ha-textfield-input-width, 100%);\n      }\n      .mdc-text-field:not(.mdc-text-field--with-leading-icon) {\n        padding: var(--text-field-padding, 0px 16px);\n      }\n      .mdc-text-field__affix--suffix {\n        padding-left: var(--text-field-suffix-padding-left, 12px);\n        padding-right: var(--text-field-suffix-padding-right, 0px);\n        padding-inline-start: var(--text-field-suffix-padding-left, 12px);\n        padding-inline-end: var(--text-field-suffix-padding-right, 0px);\n        direction: var(--direction);\n      }\n      .mdc-text-field--with-leading-icon {\n        padding-inline-start: var(--text-field-suffix-padding-left, 0px);\n        padding-inline-end: var(--text-field-suffix-padding-right, 16px);\n        direction: var(--direction);\n      }\n\n      .mdc-text-field:not(.mdc-text-field--disabled)\n        .mdc-text-field__affix--suffix {\n        color: var(--secondary-text-color);\n      }\n\n      .mdc-text-field__icon {\n        color: var(--secondary-text-color);\n      }\n\n      .mdc-text-field__icon--leading {\n        margin-inline-start: 16px;\n        margin-inline-end: 8px;\n        direction: var(--direction);\n      }\n\n      .mdc-floating-label:not(.mdc-floating-label--float-above) {\n        text-overflow: ellipsis;\n        width: inherit;\n        padding-right: 30px;\n        box-sizing: border-box;\n      }\n\n      input {\n        text-align: var(--text-field-text-align, start);\n      }\n\n      /* Chrome, Safari, Edge, Opera */\n      :host([no-spinner]) input::-webkit-outer-spin-button,\n      :host([no-spinner]) input::-webkit-inner-spin-button {\n        -webkit-appearance: none;\n        margin: 0;\n      }\n\n      /* Firefox */\n      :host([no-spinner]) input[type=\"number\"] {\n        -moz-appearance: textfield;\n      }\n\n      .mdc-text-field__ripple {\n        overflow: hidden;\n      }\n\n      .mdc-text-field {\n        overflow: var(--text-field-overflow);\n      }\n\n      .mdc-floating-label {\n        inset-inline-start: 16px !important;\n        inset-inline-end: initial !important;\n        transform-origin: var(--float-start);\n        direction: var(--direction);\n        transform-origin: var(--float-start);\n      }\n\n      .mdc-text-field--with-leading-icon.mdc-text-field--filled\n        .mdc-floating-label {\n        max-width: calc(100% - 48px);\n        inset-inline-start: 48px !important;\n        inset-inline-end: initial !important;\n        direction: var(--direction);\n      }\n\n      .mdc-text-field__input[type=\"number\"] {\n        direction: var(--direction);\n      }\n    `,\n    // safari workaround - must be explicit\n    document.dir === \"rtl\"\n      ? css`\n          .mdc-text-field__affix--suffix,\n          .mdc-text-field--with-leading-icon,\n          .mdc-text-field__icon--leading,\n          .mdc-floating-label,\n          .mdc-text-field--with-leading-icon.mdc-text-field--filled\n            .mdc-floating-label,\n          .mdc-text-field__input[type=\"number\"] {\n            direction: rtl;\n          }\n        `\n      : css``,\n  ];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-textfield\": HaTextField;\n  }\n}\n","import { css } from \"lit\";\n\nexport const darkStyles = {\n  \"primary-background-color\": \"#111111\",\n  \"card-background-color\": \"#1c1c1c\",\n  \"secondary-background-color\": \"#202020\",\n  \"primary-text-color\": \"#e1e1e1\",\n  \"secondary-text-color\": \"#9b9b9b\",\n  \"disabled-text-color\": \"#6f6f6f\",\n  \"app-header-text-color\": \"#e1e1e1\",\n  \"app-header-background-color\": \"#101e24\",\n  \"switch-unchecked-button-color\": \"#999999\",\n  \"switch-unchecked-track-color\": \"#9b9b9b\",\n  \"divider-color\": \"rgba(225, 225, 225, .12)\",\n  \"mdc-ripple-color\": \"#AAAAAA\",\n\n  \"input-idle-line-color\": \"rgba(255, 255, 255, 0.42)\",\n  \"input-hover-line-color\": \"rgba(255, 255, 255, 0.87)\",\n  \"input-disabled-line-color\": \"rgba(255, 255, 255, 0.06)\",\n  \"input-outlined-idle-border-color\": \"rgba(255, 255, 255, 0.38)\",\n  \"input-outlined-hover-border-color\": \"rgba(255, 255, 255, 0.87)\",\n  \"input-outlined-disabled-border-color\": \"rgba(255, 255, 255, 0.06)\",\n  \"input-fill-color\": \"rgba(255, 255, 255, 0.05)\",\n  \"input-disabled-fill-color\": \"rgba(255, 255, 255, 0.02)\",\n  \"input-ink-color\": \"rgba(255, 255, 255, 0.87)\",\n  \"input-label-ink-color\": \"rgba(255, 255, 255, 0.6)\",\n  \"input-disabled-ink-color\": \"rgba(255, 255, 255, 0.37)\",\n  \"input-dropdown-icon-color\": \"rgba(255, 255, 255, 0.54)\",\n\n  \"codemirror-keyword\": \"#C792EA\",\n  \"codemirror-operator\": \"#89DDFF\",\n  \"codemirror-variable\": \"#f07178\",\n  \"codemirror-variable-2\": \"#EEFFFF\",\n  \"codemirror-variable-3\": \"#DECB6B\",\n  \"codemirror-builtin\": \"#FFCB6B\",\n  \"codemirror-atom\": \"#F78C6C\",\n  \"codemirror-number\": \"#FF5370\",\n  \"codemirror-def\": \"#82AAFF\",\n  \"codemirror-string\": \"#C3E88D\",\n  \"codemirror-string-2\": \"#f07178\",\n  \"codemirror-comment\": \"#545454\",\n  \"codemirror-tag\": \"#FF5370\",\n  \"codemirror-meta\": \"#FFCB6B\",\n  \"codemirror-attribute\": \"#C792EA\",\n  \"codemirror-property\": \"#C792EA\",\n  \"codemirror-qualifier\": \"#DECB6B\",\n  \"codemirror-type\": \"#DECB6B\",\n  \"energy-grid-return-color\": \"#a280db\",\n  \"map-filter\":\n    \"invert(.9) hue-rotate(170deg) brightness(1.5) contrast(1.2) saturate(.3)\",\n};\n\nexport const derivedStyles = {\n  \"state-icon-error-color\": \"var(--error-state-color, var(--error-color))\",\n  \"state-unavailable-color\":\n    \"var(--state-icon-unavailable-color, var(--disabled-text-color))\",\n  \"sidebar-text-color\": \"var(--primary-text-color)\",\n  \"sidebar-background-color\": \"var(--card-background-color)\",\n  \"sidebar-selected-text-color\": \"var(--primary-color)\",\n  \"sidebar-selected-icon-color\": \"var(--primary-color)\",\n  \"sidebar-icon-color\": \"rgba(var(--rgb-primary-text-color), 0.6)\",\n  \"switch-checked-color\": \"var(--primary-color)\",\n  \"switch-checked-button-color\":\n    \"var(--switch-checked-color, var(--primary-background-color))\",\n  \"switch-checked-track-color\": \"var(--switch-checked-color, #000000)\",\n  \"switch-unchecked-button-color\":\n    \"var(--switch-unchecked-color, var(--primary-background-color))\",\n  \"switch-unchecked-track-color\": \"var(--switch-unchecked-color, #000000)\",\n  \"slider-color\": \"var(--primary-color)\",\n  \"slider-secondary-color\": \"var(--light-primary-color)\",\n  \"slider-track-color\": \"var(--scrollbar-thumb-color)\",\n  \"label-badge-background-color\": \"var(--card-background-color)\",\n  \"label-badge-text-color\": \"rgba(var(--rgb-primary-text-color), 0.8)\",\n  \"paper-listbox-background-color\": \"var(--card-background-color)\",\n  \"paper-item-icon-color\": \"var(--state-icon-color)\",\n  \"paper-item-icon-active-color\": \"var(--state-icon-active-color)\",\n  \"table-row-background-color\": \"var(--primary-background-color)\",\n  \"table-row-alternative-background-color\": \"var(--secondary-background-color)\",\n  \"paper-slider-knob-color\": \"var(--slider-color)\",\n  \"paper-slider-knob-start-color\": \"var(--slider-color)\",\n  \"paper-slider-pin-color\": \"var(--slider-color)\",\n  \"paper-slider-pin-start-color\": \"var(--slider-color)\",\n  \"paper-slider-active-color\": \"var(--slider-color)\",\n  \"paper-slider-secondary-color\": \"var(--slider-secondary-color)\",\n  \"paper-slider-container-color\": \"var(--slider-track-color)\",\n  \"data-table-background-color\": \"var(--card-background-color)\",\n  \"markdown-code-background-color\": \"var(--primary-background-color)\",\n\n  // https://github.com/material-components/material-web/blob/master/docs/theming.md\n  \"mdc-theme-primary\": \"var(--primary-color)\",\n  \"mdc-theme-secondary\": \"var(--accent-color)\",\n  \"mdc-theme-background\": \"var(--primary-background-color)\",\n  \"mdc-theme-surface\": \"var(--card-background-color)\",\n  \"mdc-theme-on-primary\": \"var(--text-primary-color)\",\n  \"mdc-theme-on-secondary\": \"var(--text-primary-color)\",\n  \"mdc-theme-on-surface\": \"var(--primary-text-color)\",\n  \"mdc-theme-text-disabled-on-light\": \"var(--disabled-text-color)\",\n  \"mdc-theme-text-primary-on-background\": \"var(--primary-text-color)\",\n  \"mdc-theme-text-secondary-on-background\": \"var(--secondary-text-color)\",\n  \"mdc-theme-text-hint-on-background\": \"var(--secondary-text-color)\",\n  \"mdc-theme-text-icon-on-background\": \"var(--secondary-text-color)\",\n  \"mdc-theme-error\": \"var(--error-color)\",\n  \"app-header-text-color\": \"var(--text-primary-color)\",\n  \"app-header-background-color\": \"var(--primary-color)\",\n  \"mdc-checkbox-unchecked-color\": \"rgba(var(--rgb-primary-text-color), 0.54)\",\n  \"mdc-checkbox-disabled-color\": \"var(--disabled-text-color)\",\n  \"mdc-radio-unchecked-color\": \"rgba(var(--rgb-primary-text-color), 0.54)\",\n  \"mdc-radio-disabled-color\": \"var(--disabled-text-color)\",\n  \"mdc-tab-text-label-color-default\": \"var(--primary-text-color)\",\n  \"mdc-button-disabled-ink-color\": \"var(--disabled-text-color)\",\n  \"mdc-button-outline-color\": \"var(--divider-color)\",\n  \"mdc-dialog-scroll-divider-color\": \"var(--divider-color)\",\n\n  \"mdc-text-field-idle-line-color\": \"var(--input-idle-line-color)\",\n  \"mdc-text-field-hover-line-color\": \"var(--input-hover-line-color)\",\n  \"mdc-text-field-disabled-line-color\": \"var(--input-disabled-line-color)\",\n  \"mdc-text-field-outlined-idle-border-color\":\n    \"var(--input-outlined-idle-border-color)\",\n  \"mdc-text-field-outlined-hover-border-color\":\n    \"var(--input-outlined-hover-border-color)\",\n  \"mdc-text-field-outlined-disabled-border-color\":\n    \"var(--input-outlined-disabled-border-color)\",\n  \"mdc-text-field-fill-color\": \"var(--input-fill-color)\",\n  \"mdc-text-field-disabled-fill-color\": \"var(--input-disabled-fill-color)\",\n  \"mdc-text-field-ink-color\": \"var(--input-ink-color)\",\n  \"mdc-text-field-label-ink-color\": \"var(--input-label-ink-color)\",\n  \"mdc-text-field-disabled-ink-color\": \"var(--input-disabled-ink-color)\",\n\n  \"mdc-select-idle-line-color\": \"var(--input-idle-line-color)\",\n  \"mdc-select-hover-line-color\": \"var(--input-hover-line-color)\",\n  \"mdc-select-outlined-idle-border-color\":\n    \"var(--input-outlined-idle-border-color)\",\n  \"mdc-select-outlined-hover-border-color\":\n    \"var(--input-outlined-hover-border-color)\",\n  \"mdc-select-outlined-disabled-border-color\":\n    \"var(--input-outlined-disabled-border-color)\",\n  \"mdc-select-fill-color\": \"var(--input-fill-color)\",\n  \"mdc-select-disabled-fill-color\": \"var(--input-disabled-fill-color)\",\n  \"mdc-select-ink-color\": \"var(--input-ink-color)\",\n  \"mdc-select-label-ink-color\": \"var(--input-label-ink-color)\",\n  \"mdc-select-disabled-ink-color\": \"var(--input-disabled-ink-color)\",\n  \"mdc-select-dropdown-icon-color\": \"var(--input-dropdown-icon-color)\",\n  \"mdc-select-disabled-dropdown-icon-color\": \"var(--input-disabled-ink-color)\",\n\n  \"chip-background-color\": \"rgba(var(--rgb-primary-text-color), 0.15)\",\n  // Vaadin\n  \"material-body-text-color\": \"var(--primary-text-color)\",\n  \"material-background-color\": \"var(--card-background-color)\",\n  \"material-secondary-background-color\": \"var(--secondary-background-color)\",\n  \"material-secondary-text-color\": \"var(--secondary-text-color)\",\n};\n\nexport const buttonLinkStyle = css`\n  button.link {\n    background: none;\n    color: inherit;\n    border: none;\n    padding: 0;\n    font: inherit;\n    text-align: left;\n    text-decoration: underline;\n    cursor: pointer;\n    outline: none;\n  }\n`;\n\nexport const haStyle = css`\n  :host {\n    font-family: var(--paper-font-body1_-_font-family);\n    -webkit-font-smoothing: var(--paper-font-body1_-_-webkit-font-smoothing);\n    font-size: var(--paper-font-body1_-_font-size);\n    font-weight: var(--paper-font-body1_-_font-weight);\n    line-height: var(--paper-font-body1_-_line-height);\n  }\n\n  app-header-layout,\n  ha-app-layout {\n    background-color: var(--primary-background-color);\n  }\n\n  app-header,\n  app-toolbar {\n    background-color: var(--app-header-background-color);\n    font-weight: 400;\n    color: var(--app-header-text-color, white);\n  }\n\n  app-toolbar {\n    height: var(--header-height);\n    border-bottom: var(--app-header-border-bottom);\n    box-sizing: border-box;\n  }\n\n  app-header div[sticky] {\n    height: 48px;\n  }\n\n  app-toolbar [main-title] {\n    margin-left: 20px;\n  }\n\n  h1 {\n    font-family: var(--paper-font-headline_-_font-family);\n    -webkit-font-smoothing: var(--paper-font-headline_-_-webkit-font-smoothing);\n    white-space: var(--paper-font-headline_-_white-space);\n    overflow: var(--paper-font-headline_-_overflow);\n    text-overflow: var(--paper-font-headline_-_text-overflow);\n    font-size: var(--paper-font-headline_-_font-size);\n    font-weight: var(--paper-font-headline_-_font-weight);\n    line-height: var(--paper-font-headline_-_line-height);\n  }\n\n  h2 {\n    font-family: var(--paper-font-title_-_font-family);\n    -webkit-font-smoothing: var(--paper-font-title_-_-webkit-font-smoothing);\n    white-space: var(--paper-font-title_-_white-space);\n    overflow: var(--paper-font-title_-_overflow);\n    text-overflow: var(--paper-font-title_-_text-overflow);\n    font-size: var(--paper-font-title_-_font-size);\n    font-weight: var(--paper-font-title_-_font-weight);\n    line-height: var(--paper-font-title_-_line-height);\n  }\n\n  h3 {\n    font-family: var(--paper-font-subhead_-_font-family);\n    -webkit-font-smoothing: var(--paper-font-subhead_-_-webkit-font-smoothing);\n    white-space: var(--paper-font-subhead_-_white-space);\n    overflow: var(--paper-font-subhead_-_overflow);\n    text-overflow: var(--paper-font-subhead_-_text-overflow);\n    font-size: var(--paper-font-subhead_-_font-size);\n    font-weight: var(--paper-font-subhead_-_font-weight);\n    line-height: var(--paper-font-subhead_-_line-height);\n  }\n\n  a {\n    color: var(--primary-color);\n  }\n\n  .secondary {\n    color: var(--secondary-text-color);\n  }\n\n  .error {\n    color: var(--error-color);\n  }\n\n  .warning {\n    color: var(--error-color);\n  }\n\n  mwc-button.warning {\n    --mdc-theme-primary: var(--error-color);\n  }\n\n  ${buttonLinkStyle}\n\n  .card-actions a {\n    text-decoration: none;\n  }\n\n  .card-actions .warning {\n    --mdc-theme-primary: var(--error-color);\n  }\n\n  .layout.horizontal,\n  .layout.vertical {\n    display: flex;\n  }\n  .layout.inline {\n    display: inline-flex;\n  }\n  .layout.horizontal {\n    flex-direction: row;\n  }\n  .layout.vertical {\n    flex-direction: column;\n  }\n  .layout.wrap {\n    flex-wrap: wrap;\n  }\n  .layout.no-wrap {\n    flex-wrap: nowrap;\n  }\n  .layout.center,\n  .layout.center-center {\n    align-items: center;\n  }\n  .layout.bottom {\n    align-items: flex-end;\n  }\n  .layout.center-justified,\n  .layout.center-center {\n    justify-content: center;\n  }\n  .flex {\n    flex: 1;\n    flex-basis: 0.000000001px;\n  }\n  .flex-auto {\n    flex: 1 1 auto;\n  }\n  .flex-none {\n    flex: none;\n  }\n  .layout.justified {\n    justify-content: space-between;\n  }\n`;\n\nexport const haStyleDialog = css`\n  /* mwc-dialog (ha-dialog) styles */\n  ha-dialog {\n    --mdc-dialog-min-width: 400px;\n    --mdc-dialog-max-width: 600px;\n    --mdc-dialog-heading-ink-color: var(--primary-text-color);\n    --mdc-dialog-content-ink-color: var(--primary-text-color);\n    --justify-action-buttons: space-between;\n  }\n\n  ha-dialog .form {\n    color: var(--primary-text-color);\n  }\n\n  a {\n    color: var(--primary-color);\n  }\n\n  /* make dialog fullscreen on small screens */\n  @media all and (max-width: 450px), all and (max-height: 500px) {\n    ha-dialog {\n      --mdc-dialog-min-width: calc(\n        100vw - env(safe-area-inset-right) - env(safe-area-inset-left)\n      );\n      --mdc-dialog-max-width: calc(\n        100vw - env(safe-area-inset-right) - env(safe-area-inset-left)\n      );\n      --mdc-dialog-min-height: 100%;\n      --mdc-dialog-max-height: 100%;\n      --vertial-align-dialog: flex-end;\n      --ha-dialog-border-radius: 0px;\n    }\n  }\n  mwc-button.warning {\n    --mdc-theme-primary: var(--error-color);\n  }\n  .error {\n    color: var(--error-color);\n  }\n`;\n\nexport const haStyleScrollbar = css`\n  .ha-scrollbar::-webkit-scrollbar {\n    width: 0.4rem;\n    height: 0.4rem;\n  }\n\n  .ha-scrollbar::-webkit-scrollbar-thumb {\n    -webkit-border-radius: 4px;\n    border-radius: 4px;\n    background: var(--scrollbar-thumb-color);\n  }\n\n  .ha-scrollbar {\n    overflow-y: auto;\n    scrollbar-color: var(--scrollbar-thumb-color) transparent;\n    scrollbar-width: thin;\n  }\n`;\n\nexport const baseEntrypointStyles = css`\n  body {\n    background-color: var(--primary-background-color);\n    color: var(--primary-text-color);\n    height: calc(100vh - 32px);\n    width: 100vw;\n  }\n`;\n","import { css, CSSResultGroup, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport \"./ha-markdown-element\";\n\n// Import components that are allwoed to be defined.\nimport \"./ha-alert\";\nimport \"./ha-icon\";\nimport \"./ha-svg-icon\";\n\n@customElement(\"ha-markdown\")\nexport class HaMarkdown extends LitElement {\n  @property() public content?;\n\n  @property({ type: Boolean }) public allowSvg = false;\n\n  @property({ type: Boolean }) public breaks = false;\n\n  protected render(): TemplateResult {\n    if (!this.content) {\n      return html``;\n    }\n\n    return html`<ha-markdown-element\n      .content=${this.content}\n      .allowSvg=${this.allowSvg}\n      .breaks=${this.breaks}\n    ></ha-markdown-element>`;\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      :host {\n        display: block;\n      }\n      ha-markdown-element {\n        -ms-user-select: text;\n        -webkit-user-select: text;\n        -moz-user-select: text;\n      }\n      ha-markdown-element > *:first-child {\n        margin-top: 0;\n      }\n      ha-markdown-element > *:last-child {\n        margin-bottom: 0;\n      }\n      a {\n        color: var(--primary-color);\n      }\n      img {\n        max-width: 100%;\n      }\n      code,\n      pre {\n        background-color: var(--markdown-code-background-color, none);\n        border-radius: 3px;\n      }\n      svg {\n        background-color: var(--markdown-svg-background-color, none);\n        color: var(--markdown-svg-color, none);\n      }\n      code {\n        font-size: 85%;\n        padding: 0.2em 0.4em;\n      }\n      pre code {\n        padding: 0;\n      }\n      pre {\n        padding: 16px;\n        overflow: auto;\n        line-height: 1.45;\n        font-family: var(--code-font-family, monospace);\n      }\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        line-height: initial;\n      }\n      h2 {\n        font-size: 1.5em;\n        font-weight: bold;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-markdown\": HaMarkdown;\n  }\n}\n","/* eslint-disable lit/prefer-static-styles */\nimport { html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport type { HaFormSchema } from \"../components/ha-form/types\";\nimport type { DataEntryFlowStep } from \"../data/data_entry_flow\";\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-password-manager-polyfill\": HaPasswordManagerPolyfill;\n  }\n  interface HASSDomEvents {\n    \"form-submitted\": undefined;\n  }\n}\n\nconst ENABLED_HANDLERS = [\n  \"internal\",\n  \"legacy_api_password\",\n  \"command_line\",\n];\n\n@customElement(\"ha-password-manager-polyfill\")\nexport class HaPasswordManagerPolyfill extends LitElement {\n  @property({ attribute: false }) public step?: DataEntryFlowStep;\n\n  @property({ attribute: false }) public stepData: any;\n\n  @property({ attribute: false }) public boundingRect?: DOMRect;\n  @property() public error?: Record<string, string>;\n\n  protected createRenderRoot() {\n    // Add under document body so the element isn't placed inside any shadow roots\n    return document.body;\n  }\n\n  private get styles() {\n    return `\n    .password-manager-polyfill {\n      position: absolute;\n      top: ${this.boundingRect?.y || 148}px;\n      left: calc(50% - ${(this.boundingRect?.width || 360) / 2}px);\n      width: ${this.boundingRect?.width || 360}px;\n      opacity: 0;\n      z-index: -1;\n    }\n    .password-manager-polyfill input {\n      width: 100%;\n      height: 62px;\n      padding: 0;\n      border: 0;\n    }\n    .password-manager-polyfill input[type=\"submit\"] {\n      width: 0;\n      height: 0;\n    }\n  `;\n  }\n\n  protected render(): TemplateResult {\n    if (\n      this.step &&\n      this.step.type === \"form\" &&\n      (this.step.step_id === \"init\" || this.step.step_id === \"mfa\") &&\n      ENABLED_HANDLERS.includes(this.step.handler[0])\n    ) {\n      return html`\n        <!--\n          aria-hidden=\"true\"\n        -->\n        <form\n          class=\"password-manager-polyfill\"\n          style=${this.step.step_id === \"mfa\" ? \"z-index:10;\" : \"\"}\n          @submit=${this._handleSubmit}\n        >\n          ${this.step.data_schema.map((input) => this.render_input(input))}\n          <input type=\"submit\" />\n          <style>\n            ${this.styles}\n          </style>\n        </form>\n      `;\n    }\n    return html``;\n  }\n\n  private render_input(schema: HaFormSchema): TemplateResult | string {\n    const inputType = schema.name.includes(\"password\") ? \"password\" : \"text\";\n    if (schema.type !== \"string\") {\n      return \"\";\n    }\n    if (schema.name === \"code\")\n    {\n      return html`\n        <input\n          type=\"tel\"\n          .value=${this.stepData[schema.name] || \"\"}\n          id=${schema.name}\n          autocomplete=\"off\"\n          @input=${this._valueChanged}\n        />\n      `;\n    }\n    else\n    {\n      return html`\n        <input\n          tabindex=\"-1\"\n          .type=${inputType}\n          .value=${this.stepData[schema.name] || \"\"}\n          id=${schema.name}\n          @input=${this._valueChanged}\n        />\n      `;\n    }\n  }\n\n  private _handleSubmit(ev: Event) {\n    ev.preventDefault();\n    fireEvent(this, \"form-submitted\");\n  }\n\n  private _valueChanged(ev: Event) {\n    const target = ev.target! as HTMLInputElement;\n    this.stepData = { ...this.stepData, [target.id]: target.value };\n    fireEvent(this, \"value-changed\", {\n      value: this.stepData,\n    });\n  }\n}\n","import \"@material/mwc-button\";\nimport {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  PropertyValues,\n  TemplateResult,\n} from \"lit\";\nimport { property, state } from \"lit/decorators\";\nimport \"../components/ha-alert\";\nimport \"../components/ha-checkbox\";\nimport { computeInitialHaFormData } from \"../components/ha-form/compute-initial-ha-form-data\";\nimport \"../components/ha-form/ha-form\";\nimport \"../components/ha-formfield\";\nimport \"../components/ha-markdown\";\nimport { AuthProvider } from \"../data/auth\";\nimport {\n  DataEntryFlowStep,\n  DataEntryFlowStepForm,\n} from \"../data/data_entry_flow\";\nimport { litLocalizeLiteMixin } from \"../mixins/lit-localize-lite-mixin\";\nimport \"./ha-password-manager-polyfill\";\n\ntype State = \"loading\" | \"error\" | \"step\";\n\nclass HaAuthFlow extends litLocalizeLiteMixin(LitElement) {\n  @property({ attribute: false }) public authProvider?: AuthProvider;\n\n  @property() public clientId?: string;\n\n  @property() public redirectUri?: string;\n\n  @property() public oauth2State?: string;\n\n  @state() private _state: State = \"loading\";\n\n  @state() private _stepData?: Record<string, any>;\n\n  @state() private _step?: DataEntryFlowStep;\n\n  @state() private _errorMessage?: string;\n\n  @state() private _submitting = false;\n\n  @state() private _storeToken = false;\n\n  willUpdate(changedProps: PropertyValues) {\n    super.willUpdate(changedProps);\n\n    if (!changedProps.has(\"_step\")) {\n      return;\n    }\n\n    if (!this._step) {\n      this._stepData = undefined;\n      return;\n    }\n\n    const oldStep = changedProps.get(\"_step\") as HaAuthFlow[\"_step\"];\n\n    if (\n      !oldStep ||\n      this._step.flow_id !== oldStep.flow_id ||\n      (this._step.type === \"form\" &&\n        oldStep.type === \"form\" &&\n        this._step.step_id !== oldStep.step_id)\n    ) {\n      this._stepData =\n        this._step.type === \"form\"\n          ? computeInitialHaFormData(this._step.data_schema)\n          : undefined;\n    }\n  }\n\n  protected render() {\n    if (this._step && this._step.type === \"form\"){\n        // eslint-disable-next-line no-console\n        console.debug(\"step:\", this._step.step_id);\n    }\n    return html`\n      <form>${this._renderForm()}</form>\n    `;\n  }\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n\n    if (this.clientId == null || this.redirectUri == null) {\n      // eslint-disable-next-line no-console\n      console.error(\n        \"clientId and redirectUri must not be null\",\n        this.clientId,\n        this.redirectUri\n      );\n      this._state = \"error\";\n      this._errorMessage = this._unknownError();\n      return;\n    }\n\n    this.addEventListener(\"keypress\", (ev) => {\n      if (ev.keyCode === 13) {\n        this._handleSubmit(ev);\n      }\n    });\n  }\n\n  protected updated(changedProps: PropertyValues): void {\n    super.updated(changedProps);\n    if (changedProps.has(\"authProvider\")) {\n      this._providerChanged(this.authProvider);\n    }\n\n    if (!changedProps.has(\"_step\") || this._step?.type !== \"form\") {\n      return;\n    }\n\n    // 100ms to give all the form elements time to initialize.\n    setTimeout(() => {\n      if (this._step?.type === \"form\" && this._step.step_id === \"mfa\")\n      {\n        const form = document.body.querySelector(\"form\");\n        if (form) {\n          (form as any).focus();\n        }\n      }\n      else\n      {\n        const form = this.renderRoot.querySelector(\"ha-form\");\n        if (form) {\n          (form as any).focus();\n        }\n      }\n    }, 100);\n\n    setTimeout(() => {\n      const form = this.renderRoot.querySelector(\"ha-form\");\n      if (form) {\n        this.renderRoot.querySelector(\n          \"ha-password-manager-polyfill\"\n        )!.boundingRect = form.getBoundingClientRect();\n      } else {\n        this.renderRoot.querySelector(\n          \"ha-password-manager-polyfill\"\n        )!.boundingRect = this.getBoundingClientRect();\n      }\n    }, 250);\n  }\n\n  private _renderForm(): TemplateResult {\n    switch (this._state) {\n      case \"step\":\n        if (this._step == null) {\n          return html``;\n        }\n        return html`\n          ${this._renderStep(this._step)}\n          <div class=\"action\">\n            <mwc-button\n              raised\n              @click=${this._handleSubmit}\n              .disabled=${this._submitting}\n            >\n              ${this._step.type === \"form\"\n                ? this.localize(\"ui.panel.page-authorize.form.next\")\n                : this.localize(\"ui.panel.page-authorize.form.start_over\")}\n            </mwc-button>\n          </div>\n        `;\n      case \"error\":\n        return html`\n          <ha-alert alert-type=\"error\">\n            ${this.localize(\n              \"ui.panel.page-authorize.form.error\",\n              \"error\",\n              this._errorMessage\n            )}\n          </ha-alert>\n          <div class=\"action\">\n            <mwc-button raised @click=${this._startOver}>\n              ${this.localize(\"ui.panel.page-authorize.form.start_over\")}\n            </mwc-button>\n          </div>\n        `;\n      case \"loading\":\n        return html`\n          <ha-alert alert-type=\"info\">\n            ${this.localize(\"ui.panel.page-authorize.form.working\")}\n          </ha-alert>\n        `;\n      default:\n        return html``;\n    }\n  }\n\n  private _renderStep(step: DataEntryFlowStep): TemplateResult {\n    let description: string;\n    const form = document.querySelector(\"form\");\n\n    switch (step.type) {\n      case \"abort\":\n        if (form)\n          form.hidden = true;\n        return html`\n          ${this.localize(\"ui.panel.page-authorize.abort_intro\")}:\n          <ha-markdown\n            allowsvg\n            breaks\n            .content=${this.localize(\n              `ui.panel.page-authorize.form.providers.${step.handler[0]}.abort.${step.reason}`\n            )}\n          ></ha-markdown>\n        `;\n      case \"form\":\n        if (form)\n          form.hidden = false;\n        description = this._computeStepDescription(step)\n        return html`\n          ${description\n            ? html`\n                <ha-markdown style=\"padding-bottom: 12px\"\n                  breaks\n                  .content=${description}\n                ></ha-markdown>\n              `\n            : html``}\n          <ha-form\n            .data=${this._stepData}\n            .schema=${step.data_schema}\n            .error=${step.errors}\n            .disabled=${this._submitting}\n            .computeLabel=${this._computeLabelCallback(step)}\n            .computeError=${this._computeErrorCallback(step)}\n            @value-changed=${this._stepDataChanged}\n          ></ha-form>\n          <ha-password-manager-polyfill\n            .step=${this._step}\n            .stepData=${this._stepData}\n            @form-submitted=${this._handleSubmit}\n            @value-changed=${this._stepDataChanged}\n          ></ha-password-manager-polyfill>\n        `;\n      default:\n        if (form)\n          form.hidden = true;\n        return html``;\n    }\n  }\n\n  private async _providerChanged(newProvider?: AuthProvider) {\n    if (this._step && this._step.type === \"form\") {\n      fetch(`/auth/login_flow/${this._step.flow_id}`, {\n        method: \"DELETE\",\n        credentials: \"same-origin\",\n      }).catch((err) => {\n        // eslint-disable-next-line no-console\n        console.error(\"Error delete obsoleted auth flow\", err);\n      });\n    }\n\n    if (newProvider == null) {\n      // eslint-disable-next-line no-console\n      console.error(\"No auth provider\");\n      this._state = \"error\";\n      this._errorMessage = this._unknownError();\n      return;\n    }\n\n    try {\n      const response = await fetch(\"/auth/login_flow\", {\n        method: \"POST\",\n        credentials: \"same-origin\",\n        body: JSON.stringify({\n          client_id: this.clientId,\n          handler: [newProvider.type, newProvider.id],\n          redirect_uri: this.redirectUri,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        // allow auth provider bypass the login form\n        if (data.type === \"create_entry\") {\n          this._redirect(data.result);\n          return;\n        }\n\n        this._step = data;\n        this._state = \"step\";\n      } else {\n        this._state = \"error\";\n        this._errorMessage = data.message;\n      }\n    } catch (err: any) {\n      // eslint-disable-next-line no-console\n      console.error(\"Error starting auth flow\", err);\n      this._state = \"error\";\n      this._errorMessage = this._unknownError();\n    }\n  }\n\n  private _redirect(authCode: string) {\n    // OAuth 2: 3.1.2 we need to retain query component of a redirect URI\n    let url = this.redirectUri!;\n    if (!url.includes(\"?\")) {\n      url += \"?\";\n    } else if (!url.endsWith(\"&\")) {\n      url += \"&\";\n    }\n\n    url += `code=${encodeURIComponent(authCode)}`;\n\n    if (this.oauth2State) {\n      url += `&state=${encodeURIComponent(this.oauth2State)}`;\n    }\n    if (this._storeToken) {\n      url += `&storeToken=true`;\n    }\n\n    document.location.assign(url);\n  }\n\n  private _stepDataChanged(ev: CustomEvent) {\n    this._stepData = ev.detail.value;\n  }\n\n  private _computeStepDescription(step: DataEntryFlowStepForm) {\n    const resourceKey =\n      `ui.panel.page-authorize.form.providers.${step.handler[0]}.step.${step.step_id}.description` as const;\n    const args: string[] = [];\n    const placeholders = step.description_placeholders || {};\n    Object.keys(placeholders).forEach((key) => {\n      args.push(key);\n      args.push(placeholders[key]);\n    });\n    return this.localize(resourceKey, ...args);\n  }\n\n  private _computeLabelCallback(step: DataEntryFlowStepForm) {\n    // Returns a callback for ha-form to calculate labels per schema object\n    return (schema) =>\n      this.localize(\n        `ui.panel.page-authorize.form.providers.${step.handler[0]}.step.${step.step_id}.data.${schema.name}`\n      );\n  }\n\n  private _computeErrorCallback(step: DataEntryFlowStepForm) {\n    // Returns a callback for ha-form to calculate error messages\n    return (error) =>\n      this.localize(\n        `ui.panel.page-authorize.form.providers.${step.handler[0]}.error.${error}`\n      );\n  }\n\n  private _unknownError() {\n    return this.localize(\"ui.panel.page-authorize.form.unknown_error\");\n  }\n\n  private _startOver() {\n    this._providerChanged(this.authProvider);\n  }\n\n  private async _handleSubmit(ev: Event) {\n    ev.preventDefault();\n    if (this._step == null) {\n      return;\n    }\n    if (this._step.type !== \"form\") {\n      this._providerChanged(this.authProvider);\n      return;\n    }\n    this._submitting = true;\n\n    const postData = { ...this._stepData, client_id: this.clientId };\n\n    try {\n      const response = await fetch(`/auth/login_flow/${this._step.flow_id}`, {\n        method: \"POST\",\n        credentials: \"same-origin\",\n        body: JSON.stringify(postData),\n      });\n\n      const newStep = await response.json();\n\n      if (response.status === 403) {\n        this._state = \"error\";\n        this._errorMessage = newStep.message;\n        return;\n      }\n\n      if (newStep.type === \"create_entry\") {\n        this._redirect(newStep.result);\n        return;\n      }\n      this._step = newStep;\n      this._state = \"step\";\n    } catch (err: any) {\n      // eslint-disable-next-line no-console\n      console.error(\"Error submitting step\", err);\n      this._state = \"error\";\n      this._errorMessage = this._unknownError();\n    } finally {\n      this._submitting = false;\n    }\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      .action {\n        margin: 24px 0 8px;\n        text-align: center;\n      }\n      /* Align with the rest of the form. */\n      .store-token {\n        margin-top: 10px;\n        margin-left: -16px;\n      }\n\n    `;\n  }\n}\ncustomElements.define(\"ha-auth-flow\", HaAuthFlow);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-auth-flow\": HaAuthFlow;\n  }\n}\n","import { css, CSSResultGroup, html, LitElement, PropertyValues } from \"lit\";\nimport { property, state } from \"lit/decorators\";\nimport punycode from \"punycode\";\nimport { applyThemesOnElement } from \"../common/dom/apply_themes_on_element\";\nimport { extractSearchParamsObject } from \"../common/url/search-params\";\nimport {\n  AuthProvider,\n  AuthUrlSearchParams,\n  fetchAuthProviders,\n} from \"../data/auth\";\nimport { litLocalizeLiteMixin } from \"../mixins/lit-localize-lite-mixin\";\nimport { registerServiceWorker } from \"../util/register-service-worker\";\nimport \"./ha-auth-flow\";\n\nimport(\"./ha-pick-auth-provider\");\n\nclass HaAuthorize extends litLocalizeLiteMixin(LitElement) {\n  @property() public clientId?: string;\n\n  @property() public redirectUri?: string;\n\n  @property() public oauth2State?: string;\n\n  @state() private _authProvider?: AuthProvider;\n\n  @state() private _authProviders?: AuthProvider[];\n\n  constructor() {\n    super();\n    this.translationFragment = \"page-authorize\";\n    const query = extractSearchParamsObject() as AuthUrlSearchParams;\n    if (query.client_id) {\n      this.clientId = query.client_id;\n    }\n    if (query.redirect_uri) {\n      this.redirectUri = query.redirect_uri;\n    }\n    if (query.state) {\n      this.oauth2State = query.state;\n    }\n  }\n\n  protected render() {\n    if (!this._authProviders) {\n      return html`\n        <p>${this.localize(\"ui.panel.page-authorize.initializing\")}</p>\n      `;\n    }\n\n    // If we are not logging into the instance that is hosting this auth form\n    // we will show the client description.\n    const tempA = document.createElement(\"a\");\n    tempA.href = this.redirectUri!;\n    let clientDescription = tempA.host !== location.host \n      ? this.localize(\n        \"ui.panel.page-authorize.authorizing_client\",\n        \"clientId\",\n        this.clientId ? punycode.toASCII(this.clientId) : this.clientId\n      )\n      : \"\"\n\n    const inactiveProviders = this._authProviders.filter(\n      (prv) => prv !== this._authProvider\n    );\n    \n    if (inactiveProviders.length > 0)\n    {\n      if (clientDescription !== \"\")\n        clientDescription += \"\\n\\n\";\n      clientDescription += this.localize(\n        \"ui.panel.page-authorize.logging_in_with\",\n        \"authProviderName\",\n        this._authProvider!.name)\n    }\n    const style=clientDescription === \"\" ? \"\" : \"padding-bottom: 12px;\"\n\n    return html`\n      <ha-markdown breaks .content=${clientDescription} style=${style}></ha-markdown>\n      <ha-auth-flow\n        .resources=${this.resources}\n        .clientId=${this.clientId}\n        .redirectUri=${this.redirectUri}\n        .oauth2State=${this.oauth2State}\n        .authProvider=${this._authProvider}\n      ></ha-auth-flow>\n\n      ${inactiveProviders.length > 0\n        ? html`\n            <ha-pick-auth-provider\n              .resources=${this.resources}\n              .clientId=${this.clientId}\n              .authProviders=${inactiveProviders}\n              @pick-auth-provider=${this._handleAuthProviderPick}\n            ></ha-pick-auth-provider>\n          `\n        : \"\"}\n    `;\n  }\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n    this._fetchAuthProviders();\n\n    if (matchMedia(\"(prefers-color-scheme: dark)\").matches) {\n      applyThemesOnElement(\n        document.documentElement,\n        {\n          default_theme: \"default\",\n          default_dark_theme: null,\n          themes: {},\n          darkMode: true,\n          theme: \"default\",\n        },\n        undefined,\n        undefined,\n        true\n      );\n    }\n\n    if (!this.redirectUri) {\n      return;\n    }\n\n    // If we are logging into the instance that is hosting this auth form\n    // we will register the service worker to start preloading.\n    const tempA = document.createElement(\"a\");\n    tempA.href = this.redirectUri!;\n    if (tempA.host === location.host) {\n      registerServiceWorker(this, false);\n    }\n  }\n\n  protected updated(changedProps: PropertyValues) {\n    super.updated(changedProps);\n    if (changedProps.has(\"language\")) {\n      document.querySelector(\"html\")!.setAttribute(\"lang\", this.language!);\n    }\n  }\n\n  private async _fetchAuthProviders() {\n    // Fetch auth providers\n    try {\n      // We prefetch this data on page load in authorize.html.template for modern builds\n      const response = await ((window as any).providersPromise ||\n        fetchAuthProviders());\n      const authProviders = await response.json();\n\n      // Forward to main screen which will redirect to right onboarding page.\n      if (\n        response.status === 400 &&\n        authProviders.code === \"onboarding_required\"\n      ) {\n        location.href = `/onboarding.html${location.search}`;\n        return;\n      }\n\n      if (authProviders.length === 0) {\n        alert(\"No auth providers returned. Unable to finish login.\");\n        return;\n      }\n\n      this._authProviders = authProviders;\n      this._authProvider = authProviders[0];\n    } catch (err: any) {\n      // eslint-disable-next-line\n      console.error(\"Error loading auth providers\", err);\n    }\n  }\n\n  private async _handleAuthProviderPick(ev) {\n    this._authProvider = ev.detail;\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      ha-pick-auth-provider {\n        display: block;\n        margin-top: 48px;\n      }\n      ha-auth-flow {\n        display: block;\n      }\n\n    `;\n  }\n}\ncustomElements.define(\"ha-authorize\", HaAuthorize);\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\nconst template = html`\n<custom-style>\n  <style is=\"custom-style\">\n    html {\n\n      --shadow-transition: {\n        transition: box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);\n      };\n\n      --shadow-none: {\n        box-shadow: none;\n      };\n\n      /* from http://codepen.io/shyndman/pen/c5394ddf2e8b2a5c9185904b57421cdb */\n\n      --shadow-elevation-2dp: {\n        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 5px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 1px -2px rgba(0, 0, 0, 0.2);\n      };\n\n      --shadow-elevation-3dp: {\n        box-shadow: 0 3px 4px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 8px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 3px -2px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-4dp: {\n        box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 10px 0 rgba(0, 0, 0, 0.12),\n                    0 2px 4px -1px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-6dp: {\n        box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 18px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 5px -1px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-8dp: {\n        box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14),\n                    0 3px 14px 2px rgba(0, 0, 0, 0.12),\n                    0 5px 5px -3px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-12dp: {\n        box-shadow: 0 12px 16px 1px rgba(0, 0, 0, 0.14),\n                    0 4px 22px 3px rgba(0, 0, 0, 0.12),\n                    0 6px 7px -4px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-16dp: {\n        box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14),\n                    0  6px 30px 5px rgba(0, 0, 0, 0.12),\n                    0  8px 10px -5px rgba(0, 0, 0, 0.4);\n      };\n\n      --shadow-elevation-24dp: {\n        box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14),\n                    0 9px 46px 8px rgba(0, 0, 0, 0.12),\n                    0 11px 15px -7px rgba(0, 0, 0, 0.4);\n      };\n    }\n  </style>\n</custom-style>`;\ntemplate.setAttribute('style', 'display: none;');\ndocument.head.appendChild(template.content);\n"],"names":[],"sourceRoot":""}